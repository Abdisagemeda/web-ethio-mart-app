!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(function(){try{return require("moment")}catch(t){}}()):"function"==typeof define&&define.amd?define(["require"],function(t){return e(function(){try{return t("moment")}catch(e){}}())}):(t=t||self).Chart=e(t.moment)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},i=function(t,i){return function(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[e[n]]=n);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var r in a)if(a.hasOwnProperty(r)){if(!("channels"in a[r]))throw new Error("missing channels property: "+r);if(!("labels"in a[r]))throw new Error("missing channel labels property: "+r);if(a[r].labels.length!==a[r].channels)throw new Error("channel and label counts mismatch: "+r);var o=a[r].channels,s=a[r].labels;delete a[r].channels,delete a[r].labels,Object.defineProperty(a[r],"channels",{value:o}),Object.defineProperty(a[r],"labels",{value:s})}a.rgb.hsl=function(t){var e,i,n=t[0]/255,a=t[1]/255,r=t[2]/255,o=Math.min(n,a,r),s=Math.max(n,a,r),l=s-o;return s===o?e=0:n===s?e=(a-r)/l:a===s?e=2+(r-n)/l:r===s&&(e=4+(n-a)/l),(e=Math.min(60*e,360))<0&&(e+=360),i=(o+s)/2,[e,100*(s===o?0:i<=.5?l/(s+o):l/(2-s-o)),100*i]},a.rgb.hsv=function(t){var e,i,n,a,r,o=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.max(o,s,l),c=u-Math.min(o,s,l),h=function(t){return(u-t)/6/c+.5};return 0===c?a=r=0:(r=c/u,e=h(o),i=h(s),n=h(l),o===u?a=n-i:s===u?a=1/3+e-n:l===u&&(a=2/3+i-e),a<0?a+=1:a>1&&(a-=1)),[360*a,100*r,100*u]},a.rgb.hwb=function(t){var e=t[0],i=t[1],n=t[2];return[a.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(i,n))*100,100*(n=1-1/255*Math.max(e,Math.max(i,n)))]},a.rgb.cmyk=function(t){var e,i=t[0]/255,n=t[1]/255,a=t[2]/255;return[100*((1-i-(e=Math.min(1-i,1-n,1-a)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-a-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var n=i[t];if(n)return n;var a,r,o,s=1/0;for(var l in e)if(e.hasOwnProperty(l)){var u=(r=t,o=e[l],Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)+Math.pow(r[2]-o[2],2));u<s&&(s=u,a=l)}return a},a.keyword.rgb=function(t){return e[t]},a.rgb.xyz=function(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),i=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(i-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.hsl.rgb=function(t){var e,i,n,a,r,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[r=255*l,r,r];e=2*l-(i=l<.5?l*(1+s):l+s-l*s),a=[0,0,0];for(var u=0;u<3;u++)(n=o+1/3*-(u-1))<0&&n++,n>1&&n--,a[u]=255*(r=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e);return a},a.hsl.hsv=function(t){var e=t[0],i=t[1]/100,n=t[2]/100,a=i,r=Math.max(n,.01);return i*=(n*=2)<=1?n:2-n,a*=r<=1?r:2-r,[e,100*(0===n?2*a/(r+a):2*i/(n+i)),(n+i)/2*100]},a.hsv.rgb=function(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,a=Math.floor(e)%6,r=e-Math.floor(e),o=255*n*(1-i),s=255*n*(1-i*r),l=255*n*(1-i*(1-r));switch(n*=255,a){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}},a.hsv.hsl=function(t){var e,i,n,a=t[0],r=t[1]/100,o=t[2]/100,s=Math.max(o,.01);return n=(2-r)*o,i=r*s,[a,100*(i=(i/=(e=(2-r)*s)<=1?e:2-e)||0),100*(n/=2)]},a.hwb.rgb=function(t){var e,i,n,a,r,o,s,l=t[0]/360,u=t[1]/100,c=t[2]/100,h=u+c;switch(h>1&&(u/=h,c/=h),n=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(n=1-n),a=u+n*((i=1-c)-u),e){default:case 6:case 0:r=i,o=a,s=u;break;case 1:r=a,o=i,s=u;break;case 2:r=u,o=i,s=a;break;case 3:r=u,o=a,s=i;break;case 4:r=a,o=u,s=i;break;case 5:r=i,o=u,s=a}return[255*r,255*o,255*s]},a.cmyk.rgb=function(t){var e=t[1]/100,i=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-n)+n)),255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n))]},a.xyz.rgb=function(t){var e,i,n,a=t[0]/100,r=t[1]/100,o=t[2]/100;return i=-.9689*a+1.8758*r+.0415*o,n=.0557*a+-.204*r+1.057*o,e=(e=3.2406*a+-1.5372*r+-.4986*o)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(e=Math.min(Math.max(0,e),1)),255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1))]},a.xyz.lab=function(t){var e=t[0],i=t[1],n=t[2];return i/=100,n/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},a.lab.xyz=function(t){var e,i,n;e=t[1]/500+(i=(t[0]+16)/116),n=i-t[2]/200;var a=Math.pow(i,3),r=Math.pow(e,3),o=Math.pow(n,3);return i=a>.008856?a:(i-16/116)/7.787,e=r>.008856?r:(e-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,[e*=95.047,i*=100,n*=108.883]},a.lab.lch=function(t){var e,i=t[0],n=t[1],a=t[2];return(e=360*Math.atan2(a,n)/2/Math.PI)<0&&(e+=360),[i,Math.sqrt(n*n+a*a),e]},a.lch.lab=function(t){var e,i=t[1];return e=t[2]/360*2*Math.PI,[t[0],i*Math.cos(e),i*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],i=t[1],n=t[2],r=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return 2===r&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],i=t[1],n=t[2];return e===i&&i===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var i=.5*(1+~~(t>50));return[(1&e)*i*255,(e>>1&1)*i*255,(e>>2&1)*i*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var i;return t-=16,[Math.floor(t/36)/5*255,Math.floor((i=t%36)/6)/5*255,i%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var i=e[0];3===e[0].length&&(i=i.split("").map(function(t){return t+t}).join(""));var n=parseInt(i,16);return[n>>16&255,n>>8&255,255&n]},a.rgb.hcg=function(t){var e,i=t[0]/255,n=t[1]/255,a=t[2]/255,r=Math.max(Math.max(i,n),a),o=Math.min(Math.min(i,n),a),s=r-o;return e=s<=0?0:r===i?(n-a)/s%6:r===n?2+(a-i)/s:4+(i-n)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?o/(1-s):0)]},a.hsl.hcg=function(t){var e,i=t[1]/100,n=t[2]/100,a=0;return(e=n<.5?2*i*n:2*i*(1-n))<1&&(a=(n-.5*e)/(1-e)),[t[0],100*e,100*a]},a.hsv.hcg=function(t){var e=t[2]/100,i=t[1]/100*e,n=0;return i<1&&(n=(e-i)/(1-i)),[t[0],100*i,100*n]},a.hcg.rgb=function(t){var e=t[1]/100,i=t[2]/100;if(0===e)return[255*i,255*i,255*i];var n,a=[0,0,0],r=t[0]/360%1*6,o=r%1,s=1-o;switch(Math.floor(r)){case 0:a[0]=1,a[1]=o,a[2]=0;break;case 1:a[0]=s,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=o;break;case 3:a[0]=0,a[1]=s,a[2]=1;break;case 4:a[0]=o,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=s}return[255*(e*a[0]+(n=(1-e)*i)),255*(e*a[1]+n),255*(e*a[2]+n)]},a.hcg.hsv=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e),n=0;return i>0&&(n=e/i),[t[0],100*n,100*i]},a.hcg.hsl=function(t){var e=t[1]/100,i=t[2]/100*(1-e)+.5*e,n=0;return i>0&&i<.5?n=e/(2*i):i>=.5&&i<1&&(n=e/(2*(1-i))),[t[0],100*n,100*i]},a.hcg.hwb=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)]},a.hwb.hcg=function(t){var e=1-t[2]/100,i=e-t[1]/100,n=0;return i<1&&(n=(e-i)/(1-i)),[t[0],100*i,100*n]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}}(i={exports:{}}),i.exports}();function n(t,e){return function(i){return e(t(i))}}function a(t,e){for(var a=[e[t].parent,t],r=i[e[t].parent][t],o=e[t].parent;e[o].parent;)a.unshift(e[o].parent),r=n(i[e[o].parent][o],r),o=e[o].parent;return r.conversion=a,r}var r={};Object.keys(i).forEach(function(t){r[t]={},Object.defineProperty(r[t],"channels",{value:i[t].channels}),Object.defineProperty(r[t],"labels",{value:i[t].labels});var e=function(t){for(var e=function(t){var e=function(){for(var t={},e=Object.keys(i),n=e.length,a=0;a<n;a++)t[e[a]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var a=n.pop(),r=Object.keys(i[a]),o=r.length,s=0;s<o;s++){var l=r[s],u=e[l];-1===u.distance&&(u.distance=e[a].distance+1,u.parent=a,n.unshift(l))}return e}(t),n={},r=Object.keys(e),o=r.length,s=0;s<o;s++){var l=r[s];null!==e[l].parent&&(n[l]=a(l,e))}return n}(t);Object.keys(e).forEach(function(i){var n=e[i];r[t][i]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var i=t(e);if("object"==typeof i)for(var n=i.length,a=0;a<n;a++)i[a]=Math.round(i[a]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}(n),r[t][i].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)})});var o=r,s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},l={getRgba:u,getHsla:c,getRgb:function(t){var e=u(t);return e&&e.slice(0,3)},getHsl:function(t){var e=c(t);return e&&e.slice(0,3)},getHwb:h,getAlpha:function(t){var e=u(t);return e||(e=c(t))||(e=h(t))?e[3]:void 0},hexString:function(t,e){return e=void 0!==e&&3===t.length?e:t[3],"#"+m(t[0])+m(t[1])+m(t[2])+(e>=0&&e<1?m(Math.round(255*e)):"")},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?d(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:d,percentString:function(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:f,hslString:function(t,e){return e<1||t[3]&&t[3]<1?g(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:g,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return v[t.slice(0,3)]}};function u(t){if(t){var e=[0,0,0],i=1,n=t.match(/^#([a-fA-F0-9]{3,4})$/i),a="";if(n){a=(n=n[1])[3];for(var r=0;r<e.length;r++)e[r]=parseInt(n[r]+n[r],16);a&&(i=Math.round(parseInt(a+a,16)/255*100)/100)}else if(n=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(a=n[2],n=n[1],r=0;r<e.length;r++)e[r]=parseInt(n.slice(2*r,2*r+2),16);a&&(i=Math.round(parseInt(a,16)/255*100)/100)}else if(n=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=parseInt(n[r+1]);i=parseFloat(n[4])}else if(n=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=Math.round(2.55*parseFloat(n[r+1]));i=parseFloat(n[4])}else if(n=t.match(/(\w+)/)){if("transparent"==n[1])return[0,0,0,0];if(!(e=s[n[1]]))return}for(r=0;r<e.length;r++)e[r]=p(e[r],0,255);return i=i||0==i?p(i,0,1):1,e[3]=i,e}}function c(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[p(parseInt(e[1]),0,360),p(parseFloat(e[2]),0,100),p(parseFloat(e[3]),0,100),p(isNaN(i)?1:i,0,1)]}}}function h(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[p(parseInt(e[1]),0,360),p(parseFloat(e[2]),0,100),p(parseFloat(e[3]),0,100),p(isNaN(i)?1:i,0,1)]}}}function d(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function f(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function g(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function p(t,e,i){return Math.min(Math.max(e,t),i)}function m(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var v={};for(var y in s)v[s[y]]=y;var x=function(t){return t instanceof x?t:this instanceof x?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=l.getRgba(t))?this.setValues("rgb",e):(e=l.getHsla(t))?this.setValues("hsl",e):(e=l.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new x(t);var e};x.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return l.hexString(this.values.rgb)},rgbString:function(){return l.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return l.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return l.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return l.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return l.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return l.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return l.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,i=(e[0]+t)%360;return e[0]=i<0?360+i:i,this.setValues("hsl",e),this},mix:function(t,e){var i=this,n=t,a=void 0===e?.5:e,r=2*a-1,o=i.alpha()-n.alpha(),s=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,l=1-s;return this.rgb(s*i.red()+l*n.red(),s*i.green()+l*n.green(),s*i.blue()+l*n.blue()).alpha(i.alpha()*a+n.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var t,e,i=new x,n=this.values,a=i.values;for(var r in n)n.hasOwnProperty(r)&&("[object Array]"===(e={}.toString.call(t=n[r]))?a[r]=t.slice(0):"[object Number]"===e?a[r]=t:console.error("unexpected color value:",t));return i}},x.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},x.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},x.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(i.a=e.alpha),i},x.prototype.setValues=function(t,e){var i,n,a=this.values,r=this.spaces,s=this.maxes,l=1;if(this.valid=!0,"alpha"===t)l=e;else if(e.length)a[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(i=0;i<t.length;i++)a[t][i]=e[t.charAt(i)];l=e.a}else if(void 0!==e[r[t][0]]){var u=r[t];for(i=0;i<t.length;i++)a[t][i]=e[u[i]];l=e.alpha}if(a.alpha=Math.max(0,Math.min(1,void 0===l?a.alpha:l)),"alpha"===t)return!1;for(i=0;i<t.length;i++)n=Math.max(0,Math.min(s[t][i],a[t][i])),a[t][i]=Math.round(n);for(var c in r)c!==t&&(a[c]=o[t][c](a[t]));return!0},x.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},x.prototype.setChannel=function(t,e,i){var n=this.values[t];return void 0===i?n[e]:(i===n[e]||(n[e]=i,this.setValues(t,n)),this)},"undefined"!=typeof window&&(window.Color=x);var _=x;function b(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}var w,M={noop:function(){},uid:(w=0,function(){return w++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,i){return M.valueOrDefault(M.isArray(t)?t[e]:t,i)},callback:function(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)},each:function(t,e,i,n){var a,r,o;if(M.isArray(t))if(r=t.length,n)for(a=r-1;a>=0;a--)e.call(i,t[a],a);else for(a=0;a<r;a++)e.call(i,t[a],a);else if(M.isObject(t))for(r=(o=Object.keys(t)).length,a=0;a<r;a++)e.call(i,t[o[a]],o[a])},arrayEquals:function(t,e){var i,n,a,r;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=e[i],(a=t[i])instanceof Array&&r instanceof Array){if(!M.arrayEquals(a,r))return!1}else if(a!==r)return!1;return!0},clone:function(t){if(M.isArray(t))return t.map(M.clone);if(M.isObject(t)){for(var e=Object.create(t),i=Object.keys(t),n=i.length,a=0;a<n;++a)e[i[a]]=M.clone(t[i[a]]);return e}return t},_merger:function(t,e,i,n){if(b(t)){var a=e[t],r=i[t];M.isObject(a)&&M.isObject(r)?M.merge(a,r,n):e[t]=M.clone(r)}},_mergerIf:function(t,e,i){if(b(t)){var n=e[t],a=i[t];M.isObject(n)&&M.isObject(a)?M.mergeIf(n,a):e.hasOwnProperty(t)||(e[t]=M.clone(a))}},merge:function(t,e,i){var n,a,r,o,s,l=M.isArray(e)?e:[e],u=l.length;if(!M.isObject(t))return t;for(n=(i=i||{}).merger||M._merger,a=0;a<u;++a)if(M.isObject(e=l[a]))for(s=0,o=(r=Object.keys(e)).length;s<o;++s)n(r[s],t,e,i);return t},mergeIf:function(t,e){return M.merge(t,e,{merger:M._mergerIf})},extend:Object.assign||function(t){return M.merge(t,[].slice.call(arguments,1),{merger:function(t,e,i){e[t]=i[t]}})},inherits:function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=M.inherits,t&&M.extend(i.prototype,t),i.__super__=e.prototype,i},_deprecated:function(t,e,i,n){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+n+'" instead')}},S=M;M.callCallback=M.callback,M.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)},M.getValueOrDefault=M.valueOrDefault,M.getValueAtIndexOrDefault=M.valueAtIndexOrDefault;var A={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.45),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-A.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*A.easeInBounce(2*t):.5*A.easeOutBounce(2*t-1)+.5}},I={effects:A};S.easingEffects=A;var T=Math.PI,C=T/180,k=2*T,L=T/2,D=T/4,P=2*T/3,z={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,i,n,a,r){if(r){var o=Math.min(r,a/2,n/2),s=e+o,l=i+o,u=e+n-o,c=i+a-o;t.moveTo(e,l),s<u&&l<c?(t.arc(s,l,o,-T,-L),t.arc(u,l,o,-L,0),t.arc(u,c,o,0,L),t.arc(s,c,o,L,T)):s<u?(t.moveTo(s,i),t.arc(u,l,o,-L,L),t.arc(s,l,o,L,T+L)):l<c?(t.arc(s,l,o,-T,0),t.arc(s,c,o,0,T)):t.arc(s,l,o,-T,T),t.closePath(),t.moveTo(e,i)}else t.rect(e,i,n,a)},drawPoint:function(t,e,i,n,a,r){var o,s,l,u,c,h=(r||0)*C;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(o=e.toString())||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,a),t.rotate(h),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(i)||i<=0)){switch(t.beginPath(),e){default:t.arc(n,a,i,0,k),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(h)*i,a-Math.cos(h)*i),h+=P,t.lineTo(n+Math.sin(h)*i,a-Math.cos(h)*i),h+=P,t.lineTo(n+Math.sin(h)*i,a-Math.cos(h)*i),t.closePath();break;case"rectRounded":u=i-(c=.516*i),s=Math.cos(h+D)*u,l=Math.sin(h+D)*u,t.arc(n-s,a-l,c,h-T,h-L),t.arc(n+l,a-s,c,h-L,h),t.arc(n+s,a+l,c,h,h+L),t.arc(n-l,a+s,c,h+L,h+T),t.closePath();break;case"rect":if(!r){u=Math.SQRT1_2*i,t.rect(n-u,a-u,2*u,2*u);break}h+=D;case"rectRot":s=Math.cos(h)*i,l=Math.sin(h)*i,t.moveTo(n-s,a-l),t.lineTo(n+l,a-s),t.lineTo(n+s,a+l),t.lineTo(n-l,a+s),t.closePath();break;case"crossRot":h+=D;case"cross":s=Math.cos(h)*i,l=Math.sin(h)*i,t.moveTo(n-s,a-l),t.lineTo(n+s,a+l),t.moveTo(n+l,a-s),t.lineTo(n-l,a+s);break;case"star":s=Math.cos(h)*i,l=Math.sin(h)*i,t.moveTo(n-s,a-l),t.lineTo(n+s,a+l),t.moveTo(n+l,a-s),t.lineTo(n-l,a+s),h+=D,s=Math.cos(h)*i,l=Math.sin(h)*i,t.moveTo(n-s,a-l),t.lineTo(n+s,a+l),t.moveTo(n+l,a-s),t.lineTo(n-l,a+s);break;case"line":s=Math.cos(h)*i,l=Math.sin(h)*i,t.moveTo(n-s,a-l),t.lineTo(n+s,a+l);break;case"dash":t.moveTo(n,a),t.lineTo(n+Math.cos(h)*i,a+Math.sin(h)*i)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){var i=1e-6;return t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,i,n){var a=i.steppedLine;if(a){if("middle"===a){var r=(e.x+i.x)/2;t.lineTo(r,n?i.y:e.y),t.lineTo(r,n?e.y:i.y)}else"after"===a&&!n||"after"!==a&&n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}else i.tension?t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):t.lineTo(i.x,i.y)}},O=z;S.clear=z.clear,S.drawRoundedRectangle=function(t){t.beginPath(),z.roundedRect.apply(z,arguments)};var R={_set:function(t,e){return S.merge(this[t]||(this[t]={}),e)}};R._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var E=R,V=S.valueOrDefault,N={toLineHeight:function(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,i,n,a;return S.isObject(t)?(e=+t.top||0,i=+t.right||0,n=+t.bottom||0,a=+t.left||0):e=i=n=a=+t||0,{top:e,right:i,bottom:n,left:a,height:e+n,width:a+i}},_parseFont:function(t){var e=E.global,i=V(t.fontSize,e.defaultFontSize),n={family:V(t.fontFamily,e.defaultFontFamily),lineHeight:S.options.toLineHeight(V(t.lineHeight,e.defaultLineHeight),i),size:i,style:V(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return n.string=function(t){return!t||S.isNullOrUndef(t.size)||S.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(n),n},resolve:function(t,e,i,n){var a,r,o,s=!0;for(a=0,r=t.length;a<r;++a)if(void 0!==(o=t[a])&&(void 0!==e&&"function"==typeof o&&(o=o(e),s=!1),void 0!==i&&S.isArray(o)&&(o=o[i],s=!1),void 0!==o))return n&&!s&&(n.cacheable=!1),o}},B={_factorize:function(t){var e,i=[],n=Math.sqrt(t);for(e=1;e<n;e++)t%e==0&&(i.push(e),i.push(t/e));return n===(0|n)&&i.push(n),i.sort(function(t,e){return t-e}).pop(),i},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,i=Math.round(e);return t===Math.pow(10,i)?i:e}},F=B;S.log10=B.log10;var W=S,H=O,G=N,j=F;W.easing=I,W.canvas=H,W.options=G,W.math=j,W.rtl={getRtlAdapter:function(t,e,i){return t?function(t,e){return{x:function(i){return t+t+e-i},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}}(e,i):{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}},overrideTextDirection:function(t,e){var i,n;"ltr"!==e&&"rtl"!==e||(n=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)},restoreTextDirection:function(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}};var Z=function(t){W.extend(this,t),this.initialize.apply(this,arguments)};W.extend(Z.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=W.extend({},t._model)),t._start={},t},transition:function(t){var e=this,i=e._model,n=e._start,a=e._view;return i&&1!==t?(a||(a=e._view={}),n||(n=e._start={}),function(t,e,i,n){var a,r,o,s,l,u,c,h,d,f=Object.keys(i);for(a=0,r=f.length;a<r;++a)if(u=i[o=f[a]],e.hasOwnProperty(o)||(e[o]=u),(s=e[o])!==u&&"_"!==o[0]){if(t.hasOwnProperty(o)||(t[o]=s),(c=typeof u)==typeof(l=t[o]))if("string"===c){if((h=_(l)).valid&&(d=_(u)).valid){e[o]=d.mix(h,n).rgbString();continue}}else if(W.isFinite(l)&&W.isFinite(u)){e[o]=l+(u-l)*n;continue}e[o]=u}}(n,a,i,t),e):(e._view=W.extend({},i),e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return W.isNumber(this._model.x)&&W.isNumber(this._model.y)}}),Z.extend=W.inherits;var q=Z,U=q.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Y=U;Object.defineProperty(U.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(U.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),E._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:W.noop,onComplete:W.noop}});var X={animations:[],request:null,addAnimation:function(t,e,i,n){var a,r,o=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=i,n||(t.animating=!0),a=0,r=o.length;a<r;++a)if(o[a].chart===t)return void(o[a]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=W.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=W.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this;t.advance(),t.animations.length>0&&t.requestAnimationFrame()},advance:function(){for(var t,e,i,n,a=this.animations,r=0;r<a.length;)e=(t=a[r]).chart,i=t.numSteps,n=Math.floor((Date.now()-t.startTime)/t.duration*i)+1,t.currentStep=Math.min(n,i),W.callback(t.render,[e,t],e),W.callback(t.onAnimationProgress,[t],e),t.currentStep>=i?(W.callback(t.onAnimationComplete,[t],e),e.animating=!1,a.splice(r,1)):++r}},$=W.options.resolve,K=["push","pop","shift","splice","unshift"];function Q(t,e){var i=t._chartjs;if(i){var n=i.listeners,a=n.indexOf(e);-1!==a&&n.splice(a,1),n.length>0||(K.forEach(function(e){delete t[e]}),delete t._chartjs)}}var J=function(t,e){this.initialize(t,e)};W.extend(J.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){var i=this;i.chart=t,i.index=e,i.linkScales(),i.addElements(),i._type=i.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),i=t.chart,n=i.scales,a=t.getDataset(),r=i.options.scales;null!==e.xAxisID&&e.xAxisID in n&&!a.xAxisID||(e.xAxisID=a.xAxisID||r.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in n&&!a.yAxisID||(e.yAxisID=a.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Q(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,i=e.dataElementType;return i&&new i({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,i=this,n=i.getMeta(),a=i.getDataset().data||[],r=n.data;for(t=0,e=a.length;t<e;++t)r[t]=r[t]||i.createMetaData(t);n.dataset=n.dataset||i.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,e,i=this,n=i.getDataset(),a=n.data||(n.data=[]);i._data!==a&&(i._data&&Q(i._data,i),a&&Object.isExtensible(a)&&(e=i,(t=a)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),K.forEach(function(e){var i="onData"+e.charAt(0).toUpperCase()+e.slice(1),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),a=n.apply(this,e);return W.each(t._chartjs.listeners,function(t){"function"==typeof t[i]&&t[i].apply(t,e)}),a}})}))),i._data=a),i.resyncElements()},_configure:function(){var t=this;t._config=W.merge(Object.create(null),[t.chart.options.datasets[t._type],t.getDataset()],{merger:function(t,e,i){"_meta"!==t&&"data"!==t&&W._merger(t,e,i)}})},_update:function(t){var e=this;e._configure(),e._cachedDataOpts=null,e.update(t)},update:W.noop,transition:function(t){for(var e=this.getMeta(),i=e.data||[],n=i.length,a=0;a<n;++a)i[a].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],i=e.length,n=0;for(t.dataset&&t.dataset.draw();n<i;++n)e[n].draw()},getStyle:function(t){var e,i=this,n=i.getMeta(),a=n.dataset;return i._configure(),!1!==(e=a&&void 0===t?i._resolveDatasetElementOptions(a||{}):i._resolveDataElementOptions(n.data[t=t||0]||{},t)).fill&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var i,n,a,r,o=this,s=o.chart,l=o._config,u=t.custom||{},c=s.options.elements[o.datasetElementType.prototype._type]||{},h=o._datasetElementOptions,d={},f={chart:s,dataset:o.getDataset(),datasetIndex:o.index,hover:e};for(i=0,n=h.length;i<n;++i)a=h[i],r=e?"hover"+a.charAt(0).toUpperCase()+a.slice(1):a,d[a]=$([u[r],l[r],c[r]],f);return d},_resolveDataElementOptions:function(t,e){var i=this,n=t&&t.custom,a=i._cachedDataOpts;if(a&&!n)return a;var r,o,s,l,u=i.chart,c=i._config,h=u.options.elements[i.dataElementType.prototype._type]||{},d=i._dataElementOptions,f={},g={chart:u,dataIndex:e,dataset:i.getDataset(),datasetIndex:i.index},p={cacheable:!n};if(n=n||{},W.isArray(d))for(o=0,s=d.length;o<s;++o)f[l=d[o]]=$([n[l],c[l],h[l]],g,e,p);else for(o=0,s=(r=Object.keys(d)).length;o<s;++o)f[l=r[o]]=$([n[l],c[d[l]],c[l],h[l]],g,e,p);return p.cacheable&&(i._cachedDataOpts=Object.freeze(f)),f},removeHoverStyle:function(t){W.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},a=t._model,r=W.getHoverColor;t.$previousStyle={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:a.borderWidth},a.backgroundColor=$([n.hoverBackgroundColor,e.hoverBackgroundColor,r(a.backgroundColor)],void 0,i),a.borderColor=$([n.hoverBorderColor,e.hoverBorderColor,r(a.borderColor)],void 0,i),a.borderWidth=$([n.hoverBorderWidth,e.hoverBorderWidth,a.borderWidth],void 0,i)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,i,n,a,r,o=this.getMeta().dataset,s={};if(o){for(r=o._model,a=this._resolveDatasetElementOptions(o,!0),t=0,e=(n=Object.keys(a)).length;t<e;++t)s[i=n[t]]=r[i],r[i]=a[i];o.$previousStyle=s}},resyncElements:function(){var t=this,e=t.getMeta(),i=t.getDataset().data,n=e.data.length,a=i.length;a<n?e.data.splice(a,n-a):a>n&&t.insertElements(n,a-n)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),J.extend=W.inherits;var tt=J,et=2*Math.PI;function it(t,e){var i=e.startAngle,n=e.endAngle,a=e.pixelMargin,r=a/e.outerRadius,o=e.x,s=e.y;t.beginPath(),t.arc(o,s,e.outerRadius,i-r,n+r),e.innerRadius>a?t.arc(o,s,e.innerRadius-a,n+(r=a/e.innerRadius),i-r,!0):t.arc(o,s,a,n+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip()}E._set("global",{elements:{arc:{backgroundColor:E.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var nt=q.extend({_type:"arc",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){for(var n=W.getAngleFromPoint(i,{x:t,y:e}),a=n.angle,r=n.distance,o=i.startAngle,s=i.endAngle;s<o;)s+=et;for(;a>s;)a-=et;for(;a<o;)a+=et;return a>=o&&a<=s&&r>=i.innerRadius&&r<=i.outerRadius}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t,e=this._chart.ctx,i=this._view,n="inner"===i.borderAlign?.33:0,a={x:i.x,y:i.y,innerRadius:i.innerRadius,outerRadius:Math.max(i.outerRadius-n,0),pixelMargin:n,startAngle:i.startAngle,endAngle:i.endAngle,fullCircles:Math.floor(i.circumference/et)};if(e.save(),e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,a.fullCircles){for(a.endAngle=a.startAngle+et,e.beginPath(),e.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),t=0;t<a.fullCircles;++t)e.fill();a.endAngle=a.startAngle+i.circumference%et}e.beginPath(),e.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),e.fill(),i.borderWidth&&function(t,e,i){var n="inner"===e.borderAlign;n?(t.lineWidth=2*e.borderWidth,t.lineJoin="round"):(t.lineWidth=e.borderWidth,t.lineJoin="bevel"),i.fullCircles&&function(t,e,i,n){var a,r=i.endAngle;for(n&&(i.endAngle=i.startAngle+et,it(t,i),i.endAngle=r,i.endAngle===i.startAngle&&i.fullCircles&&(i.endAngle+=et,i.fullCircles--)),t.beginPath(),t.arc(i.x,i.y,i.innerRadius,i.startAngle+et,i.startAngle,!0),a=0;a<i.fullCircles;++a)t.stroke();for(t.beginPath(),t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.startAngle+et),a=0;a<i.fullCircles;++a)t.stroke()}(t,e,i,n),n&&it(t,i),t.beginPath(),t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.endAngle),t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0),t.closePath(),t.stroke()}(e,i,a),e.restore()}}),at=W.valueOrDefault,rt=E.global.defaultColor;E._set("global",{elements:{line:{tension:.4,backgroundColor:rt,borderWidth:3,borderColor:rt,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ot=q.extend({_type:"line",draw:function(){var t,e,i,n=this,a=n._view,r=n._chart.ctx,o=a.spanGaps,s=n._children.slice(),l=E.global,u=l.elements.line,c=-1,h=n._loop;if(s.length){if(n._loop){for(t=0;t<s.length;++t)if(e=W.previousItem(s,t),!s[t]._view.skip&&e._view.skip){s=s.slice(t).concat(s.slice(0,t)),h=o;break}h&&s.push(s[0])}for(r.save(),r.lineCap=a.borderCapStyle||u.borderCapStyle,r.setLineDash&&r.setLineDash(a.borderDash||u.borderDash),r.lineDashOffset=at(a.borderDashOffset,u.borderDashOffset),r.lineJoin=a.borderJoinStyle||u.borderJoinStyle,r.lineWidth=at(a.borderWidth,u.borderWidth),r.strokeStyle=a.borderColor||l.defaultColor,r.beginPath(),(i=s[0]._view).skip||(r.moveTo(i.x,i.y),c=0),t=1;t<s.length;++t)i=s[t]._view,e=-1===c?W.previousItem(s,t):s[c],i.skip||(c!==t-1&&!o||-1===c?r.moveTo(i.x,i.y):W.canvas.lineTo(r,e._view,i),c=t);h&&r.closePath(),r.stroke(),r.restore()}}}),st=W.valueOrDefault,lt=E.global.defaultColor;function ut(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}E._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:lt,borderColor:lt,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var ct=q.extend({_type:"point",inRange:function(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:ut,inXRange:ut,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,i=this._chart.ctx,n=e.pointStyle,a=e.rotation,r=e.radius,o=e.x,s=e.y,l=E.global,u=l.defaultColor;e.skip||(void 0===t||W.canvas._isPointInArea(e,t))&&(i.strokeStyle=e.borderColor||u,i.lineWidth=st(e.borderWidth,l.elements.point.borderWidth),i.fillStyle=e.backgroundColor||u,W.canvas.drawPoint(i,n,r,o,s,a))}}),ht=E.global.defaultColor;function dt(t){return t&&void 0!==t.width}function ft(t){var e,i,n,a,r;return dt(t)?(e=t.x-(r=t.width/2),i=t.x+r,n=Math.min(t.y,t.base),a=Math.max(t.y,t.base)):(r=t.height/2,e=Math.min(t.x,t.base),i=Math.max(t.x,t.base),n=t.y-r,a=t.y+r),{left:e,top:n,right:i,bottom:a}}function gt(t,e,i){return t===e?i:t===i?e:t}function pt(t,e,i){var n=null===e,a=null===i,r=!(!t||n&&a)&&ft(t);return r&&(n||e>=r.left&&e<=r.right)&&(a||i>=r.top&&i<=r.bottom)}E._set("global",{elements:{rectangle:{backgroundColor:ht,borderColor:ht,borderSkipped:"bottom",borderWidth:0}}});var mt=q.extend({_type:"rectangle",draw:function(){var t=this._chart.ctx,e=this._view,i=function(t){var e=ft(t),i=e.right-e.left,n=e.bottom-e.top,a=function(t,e,i){var n,a,r,o,s=t.borderWidth,l=function(t){var e=t.borderSkipped,i={};return e?(t.horizontal?t.base>t.x&&(e=gt(e,"left","right")):t.base<t.y&&(e=gt(e,"bottom","top")),i[e]=!0,i):i}(t);return W.isObject(s)?(n=+s.top||0,a=+s.right||0,r=+s.bottom||0,o=+s.left||0):n=a=r=o=+s||0,{t:l.top||n<0?0:n>i?i:n,r:l.right||a<0?0:a>e?e:a,b:l.bottom||r<0?0:r>i?i:r,l:l.left||o<0?0:o>e?e:o}}(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n},inner:{x:e.left+a.l,y:e.top+a.t,w:i-a.l-a.r,h:n-a.t-a.b}}}(e),n=i.outer,a=i.inner;t.fillStyle=e.backgroundColor,t.fillRect(n.x,n.y,n.w,n.h),n.w===a.w&&n.h===a.h||(t.save(),t.beginPath(),t.rect(n.x,n.y,n.w,n.h),t.clip(),t.fillStyle=e.borderColor,t.rect(a.x,a.y,a.w,a.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return pt(this._view,t,e)},inLabelRange:function(t,e){var i=this._view;return dt(i)?pt(i,t,null):pt(i,null,e)},inXRange:function(t){return pt(this._view,t,null)},inYRange:function(t){return pt(this._view,null,t)},getCenterPoint:function(){var t,e,i=this._view;return dt(i)?(t=i.x,e=(i.y+i.base)/2):(t=(i.x+i.base)/2,e=i.y),{x:t,y:e}},getArea:function(){var t=this._view;return dt(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),vt={},yt=ot,xt=ct,_t=mt;vt.Arc=nt,vt.Line=yt,vt.Point=xt,vt.Rectangle=_t;var bt=W._deprecated,wt=W.valueOrDefault;E._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),E._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Mt=tt.extend({dataElementType:vt.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,e,i=this;tt.prototype.initialize.apply(i,arguments),(t=i.getMeta()).stack=i.getDataset().stack,t.bar=!0,e=i._getIndexScale().options,bt("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),bt("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),bt("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),bt("bar chart",i._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),bt("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e,i,n=this,a=n.getMeta().data;for(n._ruler=n.getRuler(),e=0,i=a.length;e<i;++e)n.updateElement(a[e],e,t)},updateElement:function(t,e,i){var n=this,a=n.getMeta(),r=n.getDataset(),o=n._resolveDataElementOptions(t,e);t._xScale=n.getScaleForId(a.xAxisID),t._yScale=n.getScaleForId(a.yAxisID),t._datasetIndex=n.index,t._index=e,t._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:r.label,label:n.chart.data.labels[e]},W.isArray(r.data[e])&&(t._model.borderSkipped=null),n._updateElementGeometry(t,e,i,o),t.pivot()},_updateElementGeometry:function(t,e,i,n){var a=this,r=t._model,o=a._getValueScale(),s=o.getBasePixel(),l=o.isHorizontal(),u=a._ruler||a.getRuler(),c=a.calculateBarValuePixels(a.index,e,n),h=a.calculateBarIndexPixels(a.index,e,u,n);r.horizontal=l,r.base=i?s:c.base,r.x=l?i?s:c.head:h.center,r.y=l?h.center:i?s:c.head,r.height=l?h.size:void 0,r.width=l?void 0:h.size},_getStacks:function(t){var e,i,n=this._getIndexScale(),a=n._getMatchingVisibleMetas(this._type),r=n.options.stacked,o=a.length,s=[];for(e=0;e<o&&(i=a[e],(!1===r||-1===s.indexOf(i.stack)||void 0===r&&void 0===i.stack)&&s.push(i.stack),i.index!==t);++e);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var i=this._getStacks(t),n=void 0!==e?i.indexOf(e):-1;return-1===n?i.length-1:n},getRuler:function(){var t,e,i=this,n=i._getIndexScale(),a=[];for(t=0,e=i.getMeta().data.length;t<e;++t)a.push(n.getPixelForValue(null,t,i.index));return{pixels:a,start:n._startPixel,end:n._endPixel,stackCount:i.getStackCount(),scale:n}},calculateBarValuePixels:function(t,e,i){var n,a,r,o,s,l,u,c=this,h=c.chart,d=c._getValueScale(),f=d.isHorizontal(),g=h.data.datasets,p=d._getMatchingVisibleMetas(c._type),m=d._parseValue(g[t].data[e]),v=i.minBarLength,y=d.options.stacked,x=c.getMeta().stack,_=void 0===m.start?0:m.max>=0&&m.min>=0?m.min:m.max,b=void 0===m.start?m.end:m.max>=0&&m.min>=0?m.max-m.min:m.min-m.max,w=p.length;if(y||void 0===y&&void 0!==x)for(n=0;n<w&&(a=p[n]).index!==t;++n)a.stack===x&&(r=void 0===(u=d._parseValue(g[a.index].data[e])).start?u.end:u.min>=0&&u.max>=0?u.max:u.min,(m.min<0&&r<0||m.max>=0&&r>0)&&(_+=r));return o=d.getPixelForValue(_),l=(s=d.getPixelForValue(_+b))-o,void 0!==v&&Math.abs(l)<v&&(l=v,s=b>=0&&!f||b<0&&f?o-v:o+v),{size:l,base:o,head:s,center:s+l/2}},calculateBarIndexPixels:function(t,e,i,n){var a="flex"===n.barThickness?function(t,e,i){var n,a=e.pixels,r=a[t],o=t>0?a[t-1]:null,s=t<a.length-1?a[t+1]:null,l=i.categoryPercentage;return null===o&&(o=r-(null===s?e.end-e.start:s-r)),null===s&&(s=r+r-o),n=r-(r-Math.min(o,s))/2*l,{chunk:Math.abs(s-o)/2*l/e.stackCount,ratio:i.barPercentage,start:n}}(e,i,n):function(t,e,i){var n,a,r=i.barThickness,o=e.stackCount,s=e.pixels[t],l=W.isNullOrUndef(r)?function(t,e){var i,n,a,r,o=t._length;for(a=1,r=e.length;a<r;++a)o=Math.min(o,Math.abs(e[a]-e[a-1]));for(a=0,r=t.getTicks().length;a<r;++a)n=t.getPixelForTick(a),o=a>0?Math.min(o,Math.abs(n-i)):o,i=n;return o}(e.scale,e.pixels):-1;return W.isNullOrUndef(r)?(n=l*i.categoryPercentage,a=i.barPercentage):(n=r*o,a=1),{chunk:n/o,ratio:a,start:s-n/2}}(e,i,n),r=this.getStackIndex(t,this.getMeta().stack),o=a.start+a.chunk*r+a.chunk/2,s=Math.min(wt(n.maxBarThickness,1/0),a.chunk*a.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}},draw:function(){var t=this,e=t.chart,i=t._getValueScale(),n=t.getMeta().data,a=t.getDataset(),r=n.length,o=0;for(W.canvas.clipArea(e.ctx,e.chartArea);o<r;++o){var s=i._parseValue(a.data[o]);isNaN(s.min)||isNaN(s.max)||n[o].draw()}W.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var t=this,e=W.extend({},tt.prototype._resolveDataElementOptions.apply(t,arguments)),i=t._getIndexScale().options,n=t._getValueScale().options;return e.barPercentage=wt(i.barPercentage,e.barPercentage),e.barThickness=wt(i.barThickness,e.barThickness),e.categoryPercentage=wt(i.categoryPercentage,e.categoryPercentage),e.maxBarThickness=wt(i.maxBarThickness,e.maxBarThickness),e.minBarLength=wt(n.minBarLength,e.minBarLength),e}}),St=W.valueOrDefault,At=W.options.resolve;E._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": ("+t.xLabel+", "+t.yLabel+", "+e.datasets[t.datasetIndex].data[t.index].r+")"}}}});var It=tt.extend({dataElementType:vt.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(t){var e=this,i=e.getMeta();W.each(i.data,function(i,n){e.updateElement(i,n,t)})},updateElement:function(t,e,i){var n=this,a=n.getMeta(),r=t.custom||{},o=n.getScaleForId(a.xAxisID),s=n.getScaleForId(a.yAxisID),l=n._resolveDataElementOptions(t,e),u=n.getDataset().data[e],c=n.index,h=i?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof u?u:NaN,e,c),d=i?s.getBasePixel():s.getPixelForValue(u,e,c);t._xScale=o,t._yScale=s,t._options=l,t._datasetIndex=c,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:i?0:l.radius,skip:r.skip||isNaN(h)||isNaN(d),x:h,y:d},t.pivot()},setHoverStyle:function(t){var e=t._model,i=t._options,n=W.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=St(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=St(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=St(i.hoverBorderWidth,i.borderWidth),e.radius=i.radius+i.hoverRadius},_resolveDataElementOptions:function(t,e){var i=this,n=i.chart,a=i.getDataset(),r=t.custom||{},o=a.data[e]||{},s=tt.prototype._resolveDataElementOptions.apply(i,arguments),l={chart:n,dataIndex:e,dataset:a,datasetIndex:i.index};return i._cachedDataOpts===s&&(s=W.extend({},s)),s.radius=At([r.radius,o.r,i._config.radius,n.options.elements.point.radius],l,e),s}}),Tt=W.valueOrDefault,Ct=Math.PI,kt=2*Ct,Lt=Ct/2;E._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e,i,n,a=document.createElement("ul"),r=t.data,o=r.datasets,s=r.labels;if(a.setAttribute("class",t.id+"-legend"),o.length)for(e=0,i=o[0].data.length;e<i;++e)(n=a.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&n.appendChild(document.createTextNode(s[e]));return a.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(i,n){var a=t.getDatasetMeta(0),r=a.controller.getStyle(n);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[n])||a.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var i,n,a,r=e.index,o=this.chart;for(i=0,n=(o.data.datasets||[]).length;i<n;++i)(a=o.getDatasetMeta(i)).data[r]&&(a.data[r].hidden=!a.data[r].hidden);o.update()}},cutoutPercentage:50,rotation:-Lt,circumference:kt,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.labels[t.index],n=": "+e.datasets[t.datasetIndex].data[t.index];return W.isArray(i)?(i=i.slice())[0]+=n:i+=n,i}}}});var Dt=tt.extend({dataElementType:vt.Arc,linkScales:W.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(t){var e,i,n=this,a=n.chart,r=a.chartArea,o=a.options,s=1,l=1,u=0,c=0,h=n.getMeta(),d=h.data,f=o.cutoutPercentage/100||0,g=o.circumference,p=n._getRingWeight(n.index);if(g<kt){var m=o.rotation%kt,v=(m+=m>=Ct?-kt:m<-Ct?kt:0)+g,y=Math.cos(m),x=Math.sin(m),_=Math.cos(v),b=Math.sin(v),w=m<=0&&v>=0||v>=kt,M=m<=Lt&&v>=Lt||v>=kt+Lt,S=m<=-Lt&&v>=-Lt||v>=Ct+Lt,A=m===-Ct||v>=Ct?-1:Math.min(y,y*f,_,_*f),I=S?-1:Math.min(x,x*f,b,b*f),T=w?1:Math.max(y,y*f,_,_*f),C=M?1:Math.max(x,x*f,b,b*f);s=(T-A)/2,l=(C-I)/2,u=-(T+A)/2,c=-(C+I)/2}for(e=0,i=d.length;e<i;++e)d[e]._options=n._resolveDataElementOptions(d[e],e);for(a.borderWidth=n.getMaxBorderWidth(),a.outerRadius=Math.max(Math.min((r.right-r.left-a.borderWidth)/s,(r.bottom-r.top-a.borderWidth)/l)/2,0),a.innerRadius=Math.max(a.outerRadius*f,0),a.radiusLength=(a.outerRadius-a.innerRadius)/(n._getVisibleDatasetWeightTotal()||1),a.offsetX=u*a.outerRadius,a.offsetY=c*a.outerRadius,h.total=n.calculateTotal(),n.outerRadius=a.outerRadius-a.radiusLength*n._getRingWeightOffset(n.index),n.innerRadius=Math.max(n.outerRadius-a.radiusLength*p,0),e=0,i=d.length;e<i;++e)n.updateElement(d[e],e,t)},updateElement:function(t,e,i){var n=this,a=n.chart,r=a.chartArea,o=a.options,s=o.animation,l=(r.left+r.right)/2,u=(r.top+r.bottom)/2,c=o.rotation,h=o.rotation,d=n.getDataset(),f=i&&s.animateRotate||t.hidden?0:n.calculateCircumference(d.data[e])*(o.circumference/kt),g=t._options||{};W.extend(t,{_datasetIndex:n.index,_index:e,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:l+a.offsetX,y:u+a.offsetY,startAngle:c,endAngle:h,circumference:f,outerRadius:i&&s.animateScale?0:n.outerRadius,innerRadius:i&&s.animateScale?0:n.innerRadius,label:W.valueAtIndexOrDefault(d.label,e,a.data.labels[e])}});var p=t._model;i&&s.animateRotate||(p.startAngle=0===e?o.rotation:n.getMeta().data[e-1]._model.endAngle,p.endAngle=p.startAngle+p.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),i=this.getMeta(),n=0;return W.each(i.data,function(i,a){t=e.data[a],isNaN(t)||i.hidden||(n+=Math.abs(t))}),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?kt*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,i,n,a,r,o,s,l,u=0,c=this.chart;if(!t)for(e=0,i=c.data.datasets.length;e<i;++e)if(c.isDatasetVisible(e)){t=(n=c.getDatasetMeta(e)).data,e!==this.index&&(r=n.controller);break}if(!t)return 0;for(e=0,i=t.length;e<i;++e)a=t[e],r?(r._configure(),o=r._resolveDataElementOptions(a,e)):o=a._options,"inner"!==o.borderAlign&&(u=(l=o.hoverBorderWidth)>(u=(s=o.borderWidth)>u?s:u)?l:u);return u},setHoverStyle:function(t){var e=t._model,i=t._options,n=W.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Tt(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=Tt(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=Tt(i.hoverBorderWidth,i.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e},_getRingWeight:function(t){return Math.max(Tt(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});E._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),E._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Pt=Mt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),zt=W.valueOrDefault,Ot=W.options.resolve,Rt=W.canvas._isPointInArea;function Et(t,e){var i=t&&t.options.ticks||{},n=i.reverse,a=void 0===i.min?e:0,r=void 0===i.max?e:0;return{start:n?r:a,end:n?a:r}}function Vt(t,e,i){var n=i/2,a=Et(t,n),r=Et(e,n);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}function Nt(t){var e,i,n,a;return W.isObject(t)?(e=t.top,i=t.right,n=t.bottom,a=t.left):e=i=n=a=t,{top:e,right:i,bottom:n,left:a}}E._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Bt=tt.extend({datasetElementType:vt.Line,dataElementType:vt.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e,i,n=this,a=n.getMeta(),r=a.dataset,o=a.data||[],s=n._config,l=n._showLine=zt(s.showLine,n.chart.options.showLines);for(n._xScale=n.getScaleForId(a.xAxisID),n._yScale=n.getScaleForId(a.yAxisID),l&&(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),r._scale=n._yScale,r._datasetIndex=n.index,r._children=o,r._model=n._resolveDatasetElementOptions(r),r.pivot()),e=0,i=o.length;e<i;++e)n.updateElement(o[e],e,t);for(l&&0!==r._model.tension&&n.updateBezierControlPoints(),e=0,i=o.length;e<i;++e)o[e].pivot()},updateElement:function(t,e,i){var n,a,r=this,o=r.getMeta(),s=t.custom||{},l=r.getDataset(),u=r.index,c=l.data[e],h=r._xScale,d=r._yScale,f=o.dataset._model,g=r._resolveDataElementOptions(t,e);n=h.getPixelForValue("object"==typeof c?c:NaN,e,u),a=i?d.getBasePixel():r.calculatePointY(c,e,u),t._xScale=h,t._yScale=d,t._options=g,t._datasetIndex=u,t._index=e,t._model={x:n,y:a,skip:s.skip||isNaN(n)||isNaN(a),radius:g.radius,pointStyle:g.pointStyle,rotation:g.rotation,backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,tension:zt(s.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:g.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this,i=e._config,n=t.custom||{},a=e.chart.options,r=a.elements.line,o=tt.prototype._resolveDatasetElementOptions.apply(e,arguments);return o.spanGaps=zt(i.spanGaps,a.spanGaps),o.tension=zt(i.lineTension,r.tension),o.steppedLine=Ot([n.steppedLine,i.steppedLine,r.stepped]),o.clip=Nt(zt(i.clip,Vt(e._xScale,e._yScale,o.borderWidth))),o},calculatePointY:function(t,e,i){var n,a,r,o,s,l,u=this.chart,c=this._yScale,h=0,d=0;if(c.options.stacked){for(o=+c.getRightValue(t),l=(s=u._getSortedVisibleDatasetMetas()).length,n=0;n<l&&(a=s[n]).index!==i;++n)"line"===a.type&&a.yAxisID===c.id&&((r=+c.getRightValue(u.data.datasets[a.index].data[e]))<0?d+=r||0:h+=r||0);return c.getPixelForValue(o<0?d+o:h+o)}return c.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,i,n,a=this.chart,r=this.getMeta(),o=r.dataset._model,s=a.chartArea,l=r.data||[];function u(t,e,i){return Math.max(Math.min(t,i),e)}if(o.spanGaps&&(l=l.filter(function(t){return!t._model.skip})),"monotone"===o.cubicInterpolationMode)W.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t)i=l[t]._model,n=W.splineCurve(W.previousItem(l,t)._model,i,W.nextItem(l,t)._model,o.tension),i.controlPointPreviousX=n.previous.x,i.controlPointPreviousY=n.previous.y,i.controlPointNextX=n.next.x,i.controlPointNextY=n.next.y;if(a.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t)Rt(i=l[t]._model,s)&&(t>0&&Rt(l[t-1]._model,s)&&(i.controlPointPreviousX=u(i.controlPointPreviousX,s.left,s.right),i.controlPointPreviousY=u(i.controlPointPreviousY,s.top,s.bottom)),t<l.length-1&&Rt(l[t+1]._model,s)&&(i.controlPointNextX=u(i.controlPointNextX,s.left,s.right),i.controlPointNextY=u(i.controlPointNextY,s.top,s.bottom)))},draw:function(){var t,e=this,i=e.chart,n=e.getMeta(),a=n.data||[],r=i.chartArea,o=i.canvas,s=0,l=a.length;for(e._showLine&&(W.canvas.clipArea(i.ctx,{left:!1===(t=n.dataset._model.clip).left?0:r.left-t.left,right:!1===t.right?o.width:r.right+t.right,top:!1===t.top?0:r.top-t.top,bottom:!1===t.bottom?o.height:r.bottom+t.bottom}),n.dataset.draw(),W.canvas.unclipArea(i.ctx));s<l;++s)a[s].draw(r)},setHoverStyle:function(t){var e=t._model,i=t._options,n=W.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=zt(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=zt(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=zt(i.hoverBorderWidth,i.borderWidth),e.radius=zt(i.hoverRadius,i.radius)}}),Ft=W.options.resolve;E._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,i,n,a=document.createElement("ul"),r=t.data,o=r.datasets,s=r.labels;if(a.setAttribute("class",t.id+"-legend"),o.length)for(e=0,i=o[0].data.length;e<i;++e)(n=a.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[e],s[e]&&n.appendChild(document.createTextNode(s[e]));return a.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(i,n){var a=t.getDatasetMeta(0),r=a.controller.getStyle(n);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[n])||a.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var i,n,a,r=e.index,o=this.chart;for(i=0,n=(o.data.datasets||[]).length;i<n;++i)(a=o.getDatasetMeta(i)).data[r].hidden=!a.data[r].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var Wt=tt.extend({dataElementType:vt.Arc,linkScales:W.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,i,n,a=this,r=a.getDataset(),o=a.getMeta(),s=a.chart.options.startAngle||0,l=a._starts=[],u=a._angles=[],c=o.data;for(a._updateRadius(),o.count=a.countVisibleElements(),e=0,i=r.data.length;e<i;e++)l[e]=s,n=a._computeAngle(e),u[e]=n,s+=n;for(e=0,i=c.length;e<i;++e)c[e]._options=a._resolveDataElementOptions(c[e],e),a.updateElement(c[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,i=e.chartArea,n=e.options,a=Math.min(i.right-i.left,i.bottom-i.top);e.outerRadius=Math.max(a/2,0),e.innerRadius=Math.max(n.cutoutPercentage?e.outerRadius/100*n.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,i){var n=this,a=n.chart,r=n.getDataset(),o=a.options,s=o.animation,l=a.scale,u=a.data.labels,c=l.xCenter,h=l.yCenter,d=o.startAngle,f=t.hidden?0:l.getDistanceFromCenterForValue(r.data[e]),g=n._starts[e],p=g+(t.hidden?0:n._angles[e]),m=s.animateScale?0:l.getDistanceFromCenterForValue(r.data[e]),v=t._options||{};W.extend(t,{_datasetIndex:n.index,_index:e,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:c,y:h,innerRadius:0,outerRadius:i?m:f,startAngle:i&&s.animateRotate?d:g,endAngle:i&&s.animateRotate?d:p,label:W.valueAtIndexOrDefault(u,e,u[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),i=0;return W.each(e.data,function(e,n){isNaN(t.data[n])||e.hidden||i++}),i},setHoverStyle:function(t){var e=t._model,i=t._options,n=W.getHoverColor,a=W.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=a(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=a(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=a(i.hoverBorderWidth,i.borderWidth)},_computeAngle:function(t){var e=this,i=this.getMeta().count,n=e.getDataset(),a=e.getMeta();return isNaN(n.data[t])||a.data[t].hidden?0:Ft([e.chart.options.elements.arc.angle,2*Math.PI/i],{chart:e.chart,dataIndex:t,dataset:n,datasetIndex:e.index},t)}});E._set("pie",W.clone(E.doughnut)),E._set("pie",{cutoutPercentage:0});var Ht=Dt,Gt=W.valueOrDefault;E._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var jt=tt.extend({datasetElementType:vt.Line,dataElementType:vt.Point,linkScales:W.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,i,n=this,a=n.getMeta(),r=a.dataset,o=a.data||[],s=n.chart.scale,l=n._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),r._scale=s,r._datasetIndex=n.index,r._children=o,r._loop=!0,r._model=n._resolveDatasetElementOptions(r),r.pivot(),e=0,i=o.length;e<i;++e)n.updateElement(o[e],e,t);for(n.updateBezierControlPoints(),e=0,i=o.length;e<i;++e)o[e].pivot()},updateElement:function(t,e,i){var n=this,a=t.custom||{},r=n.getDataset(),o=n.chart.scale,s=o.getPointPositionForValue(e,r.data[e]),l=n._resolveDataElementOptions(t,e),u=n.getMeta().dataset._model,c=i?o.xCenter:s.x,h=i?o.yCenter:s.y;t._scale=o,t._options=l,t._datasetIndex=n.index,t._index=e,t._model={x:c,y:h,skip:a.skip||isNaN(c)||isNaN(h),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Gt(a.tension,u?u.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var t=this,e=t._config,i=t.chart.options,n=tt.prototype._resolveDatasetElementOptions.apply(t,arguments);return n.spanGaps=Gt(e.spanGaps,i.spanGaps),n.tension=Gt(e.lineTension,i.elements.line.tension),n},updateBezierControlPoints:function(){var t,e,i,n,a=this.getMeta(),r=this.chart.chartArea,o=a.data||[];function s(t,e,i){return Math.max(Math.min(t,i),e)}for(a.dataset._model.spanGaps&&(o=o.filter(function(t){return!t._model.skip})),t=0,e=o.length;t<e;++t)i=o[t]._model,n=W.splineCurve(W.previousItem(o,t,!0)._model,i,W.nextItem(o,t,!0)._model,i.tension),i.controlPointPreviousX=s(n.previous.x,r.left,r.right),i.controlPointPreviousY=s(n.previous.y,r.top,r.bottom),i.controlPointNextX=s(n.next.x,r.left,r.right),i.controlPointNextY=s(n.next.y,r.top,r.bottom)},setHoverStyle:function(t){var e=t._model,i=t._options,n=W.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Gt(i.hoverBackgroundColor,n(i.backgroundColor)),e.borderColor=Gt(i.hoverBorderColor,n(i.borderColor)),e.borderWidth=Gt(i.hoverBorderWidth,i.borderWidth),e.radius=Gt(i.hoverRadius,i.radius)}});E._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),E._set("global",{datasets:{scatter:{showLine:!1}}});var Zt={bar:Mt,bubble:It,doughnut:Dt,horizontalBar:Pt,line:Bt,polarArea:Wt,pie:Ht,radar:jt,scatter:Bt};function qt(t,e){return t.native?{x:t.x,y:t.y}:W.getRelativePosition(t,e)}function Ut(t,e){var i,n,a,r,o,s,l=t._getSortedVisibleDatasetMetas();for(n=0,r=l.length;n<r;++n)for(a=0,o=(i=l[n].data).length;a<o;++a)(s=i[a])._view.skip||e(s)}function Yt(t,e){var i=[];return Ut(t,function(t){t.inRange(e.x,e.y)&&i.push(t)}),i}function Xt(t,e,i,n){var a=Number.POSITIVE_INFINITY,r=[];return Ut(t,function(t){if(!i||t.inRange(e.x,e.y)){var o=t.getCenterPoint(),s=n(e,o);s<a?(r=[t],a=s):s===a&&r.push(t)}}),r}function $t(t){var e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){var a=e?Math.abs(t.x-n.x):0,r=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}function Kt(t,e,i){var n=qt(e,t);i.axis=i.axis||"x";var a=$t(i.axis),r=i.intersect?Yt(t,n):Xt(t,n,!1,a),o=[];return r.length?(t._getSortedVisibleDatasetMetas().forEach(function(t){var e=t.data[r[0]._index];e&&!e._view.skip&&o.push(e)}),o):[]}var Qt={modes:{single:function(t,e){var i=qt(e,t),n=[];return Ut(t,function(t){if(t.inRange(i.x,i.y))return n.push(t),n}),n.slice(0,1)},label:Kt,index:Kt,dataset:function(t,e,i){var n=qt(e,t);i.axis=i.axis||"xy";var a=$t(i.axis),r=i.intersect?Yt(t,n):Xt(t,n,!1,a);return r.length>0&&(r=t.getDatasetMeta(r[0]._datasetIndex).data),r},"x-axis":function(t,e){return Kt(t,e,{intersect:!1})},point:function(t,e){return Yt(t,qt(e,t))},nearest:function(t,e,i){var n=qt(e,t);i.axis=i.axis||"xy";var a=$t(i.axis);return Xt(t,n,i.intersect,a)},x:function(t,e,i){var n=qt(e,t),a=[],r=!1;return Ut(t,function(t){t.inXRange(n.x)&&a.push(t),t.inRange(n.x,n.y)&&(r=!0)}),i.intersect&&!r&&(a=[]),a},y:function(t,e,i){var n=qt(e,t),a=[],r=!1;return Ut(t,function(t){t.inYRange(n.y)&&a.push(t),t.inRange(n.x,n.y)&&(r=!0)}),i.intersect&&!r&&(a=[]),a}}},Jt=W.extend;function te(t,e){return W.where(t,function(t){return t.pos===e})}function ee(t,e){return t.sort(function(t,i){var n=e?i:t,a=e?t:i;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function ie(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function ne(t,e,i){var n,a,r=i.box,o=t.maxPadding;if(i.size&&(t[i.pos]-=i.size),i.size=i.horizontal?r.height:r.width,t[i.pos]+=i.size,r.getPadding){var s=r.getPadding();o.top=Math.max(o.top,s.top),o.left=Math.max(o.left,s.left),o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right)}if(n=e.outerWidth-ie(o,t,"left","right"),a=e.outerHeight-ie(o,t,"top","bottom"),n!==t.w||a!==t.h){t.w=n,t.h=a;var l=i.horizontal?[n,t.w]:[a,t.h];return!(l[0]===l[1]||isNaN(l[0])&&isNaN(l[1]))}}function ae(t,e){var i,n=e.maxPadding;return i={left:0,top:0,right:0,bottom:0},(t?["left","right"]:["top","bottom"]).forEach(function(t){i[t]=Math.max(e[t],n[t])}),i}function re(t,e,i){var n,a,r,o,s,l,u=[];for(n=0,a=t.length;n<a;++n)(o=(r=t[n]).box).update(r.width||e.w,r.height||e.h,ae(r.horizontal,e)),ne(e,i,r)&&(l=!0,u.length&&(s=!0)),o.fullWidth||u.push(r);return s&&re(u,e,i)||l}function oe(t,e,i){var n,a,r,o,s=i.padding,l=e.x,u=e.y;for(n=0,a=t.length;n<a;++n)o=(r=t[n]).box,r.horizontal?(o.left=o.fullWidth?s.left:e.left,o.right=o.fullWidth?i.outerWidth-s.right:e.left+e.w,o.top=u,o.bottom=u+o.height,o.width=o.right-o.left,u=o.bottom):(o.left=l,o.right=l+o.width,o.top=e.top,o.bottom=e.top+e.h,o.height=o.bottom-o.top,l=o.right);e.x=l,e.y=u}E._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var se,le={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure:function(t,e,i){for(var n,a=["fullWidth","position","weight"],r=a.length,o=0;o<r;++o)i.hasOwnProperty(n=a[o])&&(e[n]=i[n])},update:function(t,e,i){if(t){var n=W.options.toPadding((t.options.layout||{}).padding),a=e-n.width,r=i-n.height,o=function(t){var e=function(t){var e,i,n,a=[];for(e=0,i=(t||[]).length;e<i;++e)a.push({index:e,box:n=t[e],pos:n.position,horizontal:n.isHorizontal(),weight:n.weight});return a}(t),i=ee(te(e,"left"),!0),n=ee(te(e,"right")),a=ee(te(e,"top"),!0),r=ee(te(e,"bottom"));return{leftAndTop:i.concat(a),rightAndBottom:n.concat(r),chartArea:te(e,"chartArea"),vertical:i.concat(n),horizontal:a.concat(r)}}(t.boxes),s=o.vertical,l=o.horizontal,u=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:a,vBoxMaxWidth:a/2/s.length,hBoxMaxHeight:r/2}),c=Jt({maxPadding:Jt({},n),w:a,h:r,x:n.left,y:n.top},n);!function(t,e){var i,n,a;for(i=0,n=t.length;i<n;++i)(a=t[i]).width=a.horizontal?a.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,a.height=a.horizontal&&e.hBoxMaxHeight}(s.concat(l),u),re(s,c,u),re(l,c,u)&&re(s,c,u),function(t){var e=t.maxPadding;function i(i){var n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(c),oe(o.leftAndTop,c,u),c.x+=c.w,c.y+=c.h,oe(o.rightAndBottom,c,u),t.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h},W.each(o.chartArea,function(e){var i=e.box;Jt(i,t.chartArea),i.update(c.w,c.h)})}}},ue=(se=Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"}))&&se.default||se,ce="chartjs-size-monitor",he="chartjs-render-monitor",de=["animationstart","webkitAnimationStart"],fe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function ge(t,e){var i=W.getStyle(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):void 0}var pe=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(i){}return t}()&&{passive:!0};function me(t,e,i){t.addEventListener(e,i,pe)}function ve(t,e,i){t.removeEventListener(e,i,pe)}function ye(t,e,i,n,a){return{type:t,chart:e,native:a||null,x:void 0!==i?i:null,y:void 0!==n?n:null}}function xe(t){var e=document.createElement("div");return e.className=t||"",e}var _e={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document;!function(t,e){var i=t.$chartjs||(t.$chartjs={});if(!i.containsStyles){i.containsStyles=!0,e="/* Chart.js */\n"+e;var n=document.createElement("style");n.setAttribute("type","text/css"),n.appendChild(document.createTextNode(e)),t.appendChild(n)}}(e.host?e:document.head,ue)}},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(this._ensureLoaded(t),function(t,e){var i=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t.$chartjs={initial:{height:n,width:a,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===a||""===a){var r=ge(t,"width");void 0!==r&&(t.width=r)}if(null===n||""===n)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=ge(t,"height");void 0!==r&&(t.height=o)}}(t,e),i):null},releaseContext:function(t){var e=t.canvas;if(e.$chartjs){var i=e.$chartjs.initial;["height","width"].forEach(function(t){var n=i[t];W.isNullOrUndef(n)?e.removeAttribute(t):e.setAttribute(t,n)}),W.each(i.style||{},function(t,i){e.style[i]=t}),e.width=e.width,delete e.$chartjs}},addEventListener:function(t,e,i){var n=t.canvas;if("resize"!==e){var a=i.$chartjs||(i.$chartjs={});me(n,e,(a.proxies||(a.proxies={}))[t.id+"_"+e]=function(e){i(function(t,e){var i=fe[t.type]||t.type,n=W.getRelativePosition(t,e);return ye(i,e,n.x,n.y,t)}(e,t))})}else!function(t,e,i){var n,a,r,o,s=t.$chartjs||(t.$chartjs={}),l=s.resizer=function(t){var e=1e6,i=xe(ce),n=xe(ce+"-expand"),a=xe(ce+"-shrink");n.appendChild(xe()),a.appendChild(xe()),i.appendChild(n),i.appendChild(a),i._reset=function(){n.scrollLeft=e,n.scrollTop=e,a.scrollLeft=e,a.scrollTop=e};var r=function(){i._reset(),t()};return me(n,"scroll",r.bind(n,"expand")),me(a,"scroll",r.bind(a,"shrink")),i}((n=function(){if(s.resizer){var n=i.options.maintainAspectRatio&&t.parentNode,a=n?n.clientWidth:0;e(ye("resize",i)),n&&n.clientWidth<a&&i.canvas&&e(ye("resize",i))}},r=!1,o=[],function(){o=Array.prototype.slice.call(arguments),a=a||this,r||(r=!0,W.requestAnimFrame.call(window,function(){r=!1,n.apply(a,o)}))}));!function(t,e){var i=t.$chartjs||(t.$chartjs={}),n=i.renderProxy=function(t){"chartjs-render-animation"===t.animationName&&e()};W.each(de,function(e){me(t,e,n)}),i.reflow=!!t.offsetParent,t.classList.add(he)}(t,function(){if(s.resizer){var e=t.parentNode;e&&e!==l.parentNode&&e.insertBefore(l,e.firstChild),l._reset()}})}(n,i,t)},removeEventListener:function(t,e,i){var n,a,r,o=t.canvas;if("resize"!==e){var s=((i.$chartjs||{}).proxies||{})[t.id+"_"+e];s&&ve(o,e,s)}else r=(a=(n=o).$chartjs||{}).resizer,delete a.resizer,function(t){var e=t.$chartjs||{},i=e.renderProxy;i&&(W.each(de,function(e){ve(t,e,i)}),delete e.renderProxy),t.classList.remove(he)}(n),r&&r.parentNode&&r.parentNode.removeChild(r)}};W.addEvent=me,W.removeEvent=ve;var be=W.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},_e._enabled?_e:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}});E._set("global",{plugins:{}});var we={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n,a,r,o,s,l=this.descriptors(t),u=l.length;for(n=0;n<u;++n)if("function"==typeof(s=(r=(a=l[n]).plugin)[e])&&((o=[t].concat(i||[])).push(a.options),!1===s.apply(r,o)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],n=[],a=t&&t.config||{},r=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(t){if(-1===i.indexOf(t)){var e=t.id,a=r[e];!1!==a&&(!0===a&&(a=W.clone(E.global.plugins[e])),i.push(t),n.push({plugin:t,options:a||{}}))}}),e.descriptors=n,e.id=this._cacheId,n},_invalidate:function(t){delete t.$plugins}},Me={constructors:{},defaults:{},registerScaleType:function(t,e,i){this.constructors[t]=e,this.defaults[t]=W.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?W.merge(Object.create(null),[E.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var i=this;i.defaults.hasOwnProperty(t)&&(i.defaults[t]=W.extend(i.defaults[t],e))},addScalesToLayout:function(t){W.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,le.addBox(t,e)})}},Se=W.valueOrDefault,Ae=W.rtl.getRtlAdapter;E._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:W.noop,title:function(t,e){var i="",n=e.labels,a=n?n.length:0;if(t.length>0){var r=t[0];r.label?i=r.label:r.xLabel?i=r.xLabel:a>0&&r.index<a&&(i=n[r.index])}return i},afterTitle:W.noop,beforeBody:W.noop,beforeLabel:W.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),W.isNullOrUndef(t.value)?i+=t.yLabel:i+=t.value,i},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:W.noop,afterBody:W.noop,beforeFooter:W.noop,footer:W.noop,afterFooter:W.noop}}});var Ie={average:function(t){if(!t.length)return!1;var e,i,n=0,a=0,r=0;for(e=0,i=t.length;e<i;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();n+=s.x,a+=s.y,++r}}return{x:n/r,y:a/r}},nearest:function(t,e){var i,n,a,r=e.x,o=e.y,s=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){var l=t[i];if(l&&l.hasValue()){var u=l.getCenterPoint(),c=W.distanceBetweenPoints(e,u);c<s&&(s=c,a=l)}}if(a){var h=a.tooltipPosition();r=h.x,o=h.y}return{x:r,y:o}}};function Te(t,e){return e&&(W.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ce(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function ke(t){var e=E.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Se(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Se(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Se(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Se(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Se(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Se(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Se(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Se(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Se(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Le(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function De(t){return Te([],Ce(t))}var Pe=q.extend({initialize:function(){this._model=ke(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,i=e.callbacks,n=i.beforeTitle.apply(t,arguments),a=i.title.apply(t,arguments),r=i.afterTitle.apply(t,arguments),o=[];return o=Te(o,Ce(n)),o=Te(o,Ce(a)),Te(o,Ce(r))},getBeforeBody:function(){return De(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var i=this,n=i._options.callbacks,a=[];return W.each(t,function(t){var r={before:[],lines:[],after:[]};Te(r.before,Ce(n.beforeLabel.call(i,t,e))),Te(r.lines,n.label.call(i,t,e)),Te(r.after,Ce(n.afterLabel.call(i,t,e))),a.push(r)}),a},getAfterBody:function(){return De(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),n=e.footer.apply(t,arguments),a=e.afterFooter.apply(t,arguments),r=[];return r=Te(r,Ce(i)),r=Te(r,Ce(n)),Te(r,Ce(a))},update:function(t){var e,i,n,a,r,o,s,l,u,c,h=this,d=h._options,f=h._model,g=h._model=ke(d),p=h._active,m=h._data,v={xAlign:f.xAlign,yAlign:f.yAlign},y={x:f.x,y:f.y},x={width:f.width,height:f.height},_={x:f.caretX,y:f.caretY};if(p.length){g.opacity=1;var b=[],w=[];_=Ie[d.position].call(h,p,h._eventPosition);var M=[];for(e=0,i=p.length;e<i;++e)M.push((a=void 0,r=void 0,l=void 0,u=void 0,c=void 0,a=(n=p[e])._xScale,r=n._yScale||n._scale,o=n._index,u=(l=n._chart.getDatasetMeta(s=n._datasetIndex).controller)._getIndexScale(),c=l._getValueScale(),{xLabel:a?a.getLabelForIndex(o,s):"",yLabel:r?r.getLabelForIndex(o,s):"",label:u?""+u.getLabelForIndex(o,s):"",value:c?""+c.getLabelForIndex(o,s):"",index:o,datasetIndex:s,x:n._model.x,y:n._model.y}));d.filter&&(M=M.filter(function(t){return d.filter(t,m)})),d.itemSort&&(M=M.sort(function(t,e){return d.itemSort(t,e,m)})),W.each(M,function(t){b.push(d.callbacks.labelColor.call(h,t,h._chart)),w.push(d.callbacks.labelTextColor.call(h,t,h._chart))}),g.title=h.getTitle(M,m),g.beforeBody=h.getBeforeBody(M,m),g.body=h.getBody(M,m),g.afterBody=h.getAfterBody(M,m),g.footer=h.getFooter(M,m),g.x=_.x,g.y=_.y,g.caretPadding=d.caretPadding,g.labelColors=b,g.labelTextColors=w,g.dataPoints=M,x=function(t,e){var i=t._chart.ctx,n=2*e.yPadding,a=0,r=e.body,o=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0),s=e.title.length,l=e.footer.length,u=e.titleFontSize,c=e.bodyFontSize,h=e.footerFontSize;n+=s*u,n+=s?(s-1)*e.titleSpacing:0,n+=s?e.titleMarginBottom:0,n+=(o+=e.beforeBody.length+e.afterBody.length)*c,n+=o?(o-1)*e.bodySpacing:0,n+=l?e.footerMarginTop:0,n+=l*h,n+=l?(l-1)*e.footerSpacing:0;var d=0,f=function(t){a=Math.max(a,i.measureText(t).width+d)};return i.font=W.fontString(u,e._titleFontStyle,e._titleFontFamily),W.each(e.title,f),i.font=W.fontString(c,e._bodyFontStyle,e._bodyFontFamily),W.each(e.beforeBody.concat(e.afterBody),f),d=e.displayColors?c+2:0,W.each(r,function(t){W.each(t.before,f),W.each(t.lines,f),W.each(t.after,f)}),d=0,i.font=W.fontString(h,e._footerFontStyle,e._footerFontFamily),W.each(e.footer,f),{width:a+=2*e.xPadding,height:n}}(this,g),y=function(t,e,i,n){var a=t.x,r=t.y,o=t.caretPadding,s=i.xAlign,l=i.yAlign,u=t.caretSize+o,c=t.cornerRadius+o;return"right"===s?a-=e.width:"center"===s&&((a-=e.width/2)+e.width>n.width&&(a=n.width-e.width),a<0&&(a=0)),"top"===l?r+=u:r-="bottom"===l?e.height+u:e.height/2,"center"===l?"left"===s?a+=u:"right"===s&&(a-=u):"left"===s?a-=c:"right"===s&&(a+=c),{x:a,y:r}}(g,x,v=function(t,e){var i,n,a,r,o,s=t._model,l=t._chart,u=t._chart.chartArea,c="center",h="center";s.y<e.height?h="top":s.y>l.height-e.height&&(h="bottom");var d=(u.left+u.right)/2,f=(u.top+u.bottom)/2;"center"===h?(i=function(t){return t<=d},n=function(t){return t>d}):(i=function(t){return t<=e.width/2},n=function(t){return t>=l.width-e.width/2}),a=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},r=function(t){return t-e.width-s.caretSize-s.caretPadding<0},o=function(t){return t<=f?"top":"bottom"},i(s.x)?(c="left",a(s.x)&&(c="center",h=o(s.y))):n(s.x)&&(c="right",r(s.x)&&(c="center",h=o(s.y)));var g=t._options;return{xAlign:g.xAlign?g.xAlign:c,yAlign:g.yAlign?g.yAlign:h}}(this,x),h._chart)}else g.opacity=0;return g.xAlign=v.xAlign,g.yAlign=v.yAlign,g.x=y.x,g.y=y.y,g.width=x.width,g.height=x.height,g.caretX=_.x,g.caretY=_.y,h._model=g,t&&d.custom&&d.custom.call(h,g),h},drawCaret:function(t,e){var i=this._chart.ctx,n=this.getCaretPosition(t,e,this._view);i.lineTo(n.x1,n.y1),i.lineTo(n.x2,n.y2),i.lineTo(n.x3,n.y3)},getCaretPosition:function(t,e,i){var n,a,r,o,s,l,u=i.caretSize,c=i.cornerRadius,h=i.xAlign,d=i.yAlign,f=t.x,g=t.y,p=e.width,m=e.height;if("center"===d)s=g+m/2,"left"===h?(a=(n=f)-u,r=n,o=s+u,l=s-u):(a=(n=f+p)+u,r=n,o=s-u,l=s+u);else if("left"===h?(n=(a=f+c+u)-u,r=a+u):"right"===h?(n=(a=f+p-c-u)-u,r=a+u):(n=(a=i.caretX)-u,r=a+u),"top"===d)s=(o=g)-u,l=o;else{s=(o=g+m)+u,l=o;var v=r;r=n,n=v}return{x1:n,x2:a,x3:r,y1:o,y2:s,y3:l}},drawTitle:function(t,e,i){var n,a,r,o=e.title,s=o.length;if(s){var l=Ae(e.rtl,e.x,e.width);for(t.x=Le(e,e._titleAlign),i.textAlign=l.textAlign(e._titleAlign),i.textBaseline="middle",n=e.titleFontSize,a=e.titleSpacing,i.fillStyle=e.titleFontColor,i.font=W.fontString(n,e._titleFontStyle,e._titleFontFamily),r=0;r<s;++r)i.fillText(o[r],l.x(t.x),t.y+n/2),t.y+=n+a,r+1===s&&(t.y+=e.titleMarginBottom-a)}},drawBody:function(t,e,i){var n,a,r,o,s,l,u,c,h=e.bodyFontSize,d=e.bodySpacing,f=e._bodyAlign,g=e.body,p=e.displayColors,m=0,v=p?Le(e,"left"):0,y=Ae(e.rtl,e.x,e.width),x=function(e){i.fillText(e,y.x(t.x+m),t.y+h/2),t.y+=h+d},_=y.textAlign(f);for(i.textAlign=f,i.textBaseline="middle",i.font=W.fontString(h,e._bodyFontStyle,e._bodyFontFamily),t.x=Le(e,_),i.fillStyle=e.bodyFontColor,W.each(e.beforeBody,x),m=p&&"right"!==_?"center"===f?h/2+1:h+2:0,s=0,u=g.length;s<u;++s){for(n=g[s],r=e.labelColors[s],i.fillStyle=a=e.labelTextColors[s],W.each(n.before,x),l=0,c=(o=n.lines).length;l<c;++l){if(p){var b=y.x(v);i.fillStyle=e.legendColorBackground,i.fillRect(y.leftForLtr(b,h),t.y,h,h),i.lineWidth=1,i.strokeStyle=r.borderColor,i.strokeRect(y.leftForLtr(b,h),t.y,h,h),i.fillStyle=r.backgroundColor,i.fillRect(y.leftForLtr(y.xPlus(b,1),h-2),t.y+1,h-2,h-2),i.fillStyle=a}x(o[l])}W.each(n.after,x)}m=0,W.each(e.afterBody,x),t.y-=d},drawFooter:function(t,e,i){var n,a,r=e.footer,o=r.length;if(o){var s=Ae(e.rtl,e.x,e.width);for(t.x=Le(e,e._footerAlign),t.y+=e.footerMarginTop,i.textAlign=s.textAlign(e._footerAlign),i.textBaseline="middle",n=e.footerFontSize,i.fillStyle=e.footerFontColor,i.font=W.fontString(n,e._footerFontStyle,e._footerFontFamily),a=0;a<o;++a)i.fillText(r[a],s.x(t.x),t.y+n/2),t.y+=n+e.footerSpacing}},drawBackground:function(t,e,i,n){i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,i.lineWidth=e.borderWidth;var a=e.xAlign,r=e.yAlign,o=t.x,s=t.y,l=n.width,u=n.height,c=e.cornerRadius;i.beginPath(),i.moveTo(o+c,s),"top"===r&&this.drawCaret(t,n),i.lineTo(o+l-c,s),i.quadraticCurveTo(o+l,s,o+l,s+c),"center"===r&&"right"===a&&this.drawCaret(t,n),i.lineTo(o+l,s+u-c),i.quadraticCurveTo(o+l,s+u,o+l-c,s+u),"bottom"===r&&this.drawCaret(t,n),i.lineTo(o+c,s+u),i.quadraticCurveTo(o,s+u,o,s+u-c),"center"===r&&"left"===a&&this.drawCaret(t,n),i.lineTo(o,s+c),i.quadraticCurveTo(o,s,o+c,s),i.closePath(),i.fill(),e.borderWidth>0&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var i={width:e.width,height:e.height},n={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity;this._options.enabled&&(e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length)&&(t.save(),t.globalAlpha=a,this.drawBackground(n,e,t,i),n.y+=e.yPadding,W.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),W.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e,i=this,n=i._options;return i._lastActive=i._lastActive||[],"mouseout"===t.type?i._active=[]:(i._active=i._chart.getElementsAtEventForMode(t,n.mode,n),n.reverse&&i._active.reverse()),(e=!W.arrayEquals(i._active,i._lastActive))&&(i._lastActive=i._active,(n.enabled||n.custom)&&(i._eventPosition={x:t.x,y:t.y},i.update(!0),i.pivot())),e}});Pe.positioners=Ie;var ze=W.valueOrDefault;function Oe(){return W.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){if("xAxes"===t||"yAxes"===t){var a,r,o,s=i[t].length;for(e[t]||(e[t]=[]),a=0;a<s;++a)r=ze((o=i[t][a]).type,"xAxes"===t?"category":"linear"),a>=e[t].length&&e[t].push({}),W.merge(e[t][a],!e[t][a].type||o.type&&o.type!==e[t][a].type?[Me.getScaleDefaults(r),o]:o)}else W._merger(t,e,i,n)}})}function Re(){return W.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){var a=e[t]||Object.create(null),r=i[t];"scales"===t?e[t]=Oe(a,r):"scale"===t?e[t]=W.merge(a,[Me.getScaleDefaults(r.type),r]):W._merger(t,e,i,n)}})}function Ee(t){var e=t.options;W.each(t.scales,function(e){le.removeBox(t,e)}),e=Re(E.global,E[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function Ve(t,e,i){var n,a=function(t){return t.id===n};do{n=e+i++}while(W.findIndex(t,a)>=0);return n}function Ne(t){return"top"===t||"bottom"===t}function Be(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}E._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Fe=function(t,e){return this.construct(t,e),this};W.extend(Fe.prototype,{construct:function(t,e){var i=this;e=function(t){var e=(t=t||Object.create(null)).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=Re(E.global,E[t.type],t.options||{}),t}(e);var n=be.acquireContext(t,e),a=n&&n.canvas,r=a&&a.height,o=a&&a.width;i.id=W.uid(),i.ctx=n,i.canvas=a,i.config=e,i.width=o,i.height=r,i.aspectRatio=r?o/r:null,i.options=e.options,i._bufferedRender=!1,i._layers=[],i.chart=i,i.controller=i,Fe.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}}),n&&a?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return we.notify(t,"beforeInit"),W.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.initToolTip(),we.notify(t,"afterInit"),t},clear:function(){return W.canvas.clear(this),this},stop:function(){return X.cancelAnimation(this),this},resize:function(t){var e=this,i=e.options,n=e.canvas,a=i.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(W.getMaximumWidth(n))),o=Math.max(0,Math.floor(a?r/a:W.getMaximumHeight(n)));if((e.width!==r||e.height!==o)&&(n.width=e.width=r,n.height=e.height=o,n.style.width=r+"px",n.style.height=o+"px",W.retinaScale(e,i.devicePixelRatio),!t)){var s={width:r,height:o};we.notify(e,"resize",[s]),i.onResize&&i.onResize(e,s),e.stop(),e.update({duration:i.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},i=t.scale;W.each(e.xAxes,function(t,i){t.id||(t.id=Ve(e.xAxes,"x-axis-",i))}),W.each(e.yAxes,function(t,i){t.id||(t.id=Ve(e.yAxes,"y-axis-",i))}),i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,i=t.scales||{},n=[],a=Object.keys(i).reduce(function(t,e){return t[e]=!1,t},{});e.scales&&(n=n.concat((e.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),e.scale&&n.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),W.each(n,function(e){var n=e.options,r=n.id,o=ze(n.type,e.dtype);Ne(n.position)!==Ne(e.dposition)&&(n.position=e.dposition),a[r]=!0;var s=null;if(r in i&&i[r].type===o)(s=i[r]).options=n,s.ctx=t.ctx,s.chart=t;else{var l=Me.getScaleConstructor(o);if(!l)return;s=new l({id:r,type:o,options:n,ctx:t.ctx,chart:t}),i[s.id]=s}s.mergeTicksOptions(),e.isDefault&&(t.scale=s)}),W.each(a,function(t,e){t||delete i[e]}),t.scales=i,Me.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,i=this,n=[],a=i.data.datasets;for(t=0,e=a.length;t<e;t++){var r=a[t],o=i.getDatasetMeta(t),s=r.type||i.config.type;if(o.type&&o.type!==s&&(i.destroyDatasetMeta(t),o=i.getDatasetMeta(t)),o.type=s,o.order=r.order||0,o.index=t,o.controller)o.controller.updateIndex(t),o.controller.linkScales();else{var l=Zt[o.type];if(void 0===l)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new l(i,t),n.push(o.controller)}}return n},resetElements:function(){var t=this;W.each(t.data.datasets,function(e,i){t.getDatasetMeta(i).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,i,n=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),Ee(n),we._invalidate(n),!1!==we.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var a=n.buildOrUpdateControllers();for(e=0,i=n.data.datasets.length;e<i;e++)n.getDatasetMeta(e).controller.buildOrUpdateElements();n.updateLayout(),n.options.animation&&n.options.animation.duration&&W.each(a,function(t){t.reset()}),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],we.notify(n,"afterUpdate"),n._layers.sort(Be("z","_idx")),n._bufferedRender?n._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:n.render(t)}},updateLayout:function(){var t=this;!1!==we.notify(t,"beforeLayout")&&(le.update(this,this.width,this.height),t._layers=[],W.each(t.boxes,function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())},t),t._layers.forEach(function(t,e){t._idx=e}),we.notify(t,"afterScaleUpdate"),we.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==we.notify(t,"beforeDatasetsUpdate")){for(var e=0,i=t.data.datasets.length;e<i;++e)t.updateDataset(e);we.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,i=e.getDatasetMeta(t),n={meta:i,index:t};!1!==we.notify(e,"beforeDatasetUpdate",[n])&&(i.controller._update(),we.notify(e,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var i=e.options.animation,n=ze(t.duration,i&&i.duration),a=t.lazy;if(!1!==we.notify(e,"beforeRender")){var r=function(t){we.notify(e,"afterRender"),W.callback(i&&i.onComplete,[t],e)};if(i&&n){var o=new Y({numSteps:n/16.66,easing:t.easing||i.easing,render:function(t,e){var i=e.currentStep,n=i/e.numSteps;t.draw((0,W.easing.effects[e.easing])(n),n,i)},onAnimationProgress:i.onProgress,onAnimationComplete:r});X.addAnimation(e,o,n,a)}else e.draw(),r(new Y({numSteps:0,chart:e}));return e}},draw:function(t){var e,i,n=this;if(n.clear(),W.isNullOrUndef(t)&&(t=1),n.transition(t),!(n.width<=0||n.height<=0)&&!1!==we.notify(n,"beforeDraw",[t])){for(i=n._layers,e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(n.chartArea);for(n.drawDatasets(t);e<i.length;++e)i[e].draw(n.chartArea);n._drawTooltip(t),we.notify(n,"afterDraw",[t])}},transition:function(t){for(var e=this,i=0,n=(e.data.datasets||[]).length;i<n;++i)e.isDatasetVisible(i)&&e.getDatasetMeta(i).controller.transition(t);e.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,i,n=this,a=[];for(e=0,i=(n.data.datasets||[]).length;e<i;++e)t&&!n.isDatasetVisible(e)||a.push(n.getDatasetMeta(e));return a.sort(Be("order","index")),a},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,i,n=this;if(!1!==we.notify(n,"beforeDatasetsDraw",[t])){for(i=(e=n._getSortedVisibleDatasetMetas()).length-1;i>=0;--i)n.drawDataset(e[i],t);we.notify(n,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var i={meta:t,index:t.index,easingValue:e};!1!==we.notify(this,"beforeDatasetDraw",[i])&&(t.controller.draw(e),we.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(t){var e=this,i=e.tooltip,n={tooltip:i,easingValue:t};!1!==we.notify(e,"beforeTooltipDraw",[n])&&(i.draw(),we.notify(e,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return Qt.modes.single(this,t)},getElementsAtEvent:function(t){return Qt.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Qt.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,i){var n=Qt.modes[e];return"function"==typeof n?n(this,t,i):[]},getDatasetAtEvent:function(t){return Qt.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,i=e.data.datasets[t];i._meta||(i._meta={});var n=i._meta[e.id];return n||(n=i._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i.order||0,index:t}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,i=this.data.datasets[t],n=i._meta&&i._meta[e];n&&(n.controller.destroy(),delete i._meta[e])},destroy:function(){var t,e,i=this,n=i.canvas;for(i.stop(),t=0,e=i.data.datasets.length;t<e;++t)i.destroyDatasetMeta(t);n&&(i.unbindEvents(),W.canvas.clear(i),be.releaseContext(i.ctx),i.canvas=null,i.ctx=null),we.notify(i,"destroy"),delete Fe.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Pe({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},i=function(){t.eventHandler.apply(t,arguments)};W.each(t.options.events,function(n){be.addEventListener(t,n,i),e[n]=i}),t.options.responsive&&(i=function(){t.resize()},be.addEventListener(t,"resize",i),e.resize=i)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,W.each(e,function(e,i){be.removeEventListener(t,i,e)}))},updateHoverStyle:function(t,e,i){var n,a,r,o=i?"set":"remove";for(a=0,r=t.length;a<r;++a)(n=t[a])&&this.getDatasetMeta(n._datasetIndex).controller[o+"HoverStyle"](n);"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this,i=e.tooltip;if(!1!==we.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);i&&(n=i._start?i.handleEvent(t):n|i.handleEvent(t)),we.notify(e,"afterEvent",[t]);var a=e._bufferedRequest;return a?e.render(a):n&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,i=this,n=i.options||{},a=n.hover;return i.lastActive=i.lastActive||[],i.active="mouseout"===t.type?[]:i.getElementsAtEventForMode(t,a.mode,a),W.callback(n.onHover||n.hover.onHover,[t.native,i.active],i),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(i,t.native,i.active),i.lastActive.length&&i.updateHoverStyle(i.lastActive,a.mode,!1),i.active.length&&a.mode&&i.updateHoverStyle(i.active,a.mode,!0),e=!W.arrayEquals(i.active,i.lastActive),i.lastActive=i.active,e}}),Fe.instances={};var We=Fe;function He(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Ge(t){this.options=t||{}}Fe.Controller=Fe,Fe.types={},W.configMerge=Re,W.scaleMerge=Oe,W.extend(Ge.prototype,{formats:He,parse:He,format:He,add:He,diff:He,startOf:He,endOf:He,_create:function(t){return t}}),Ge.override=function(t){W.extend(Ge.prototype,t)};var je={_date:Ge},Ze={formatters:{values:function(t){return W.isArray(t)?t:""+t},linear:function(t,e,i){var n=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(n)>1&&t!==Math.floor(t)&&(n=t-Math.floor(t));var a=W.log10(Math.abs(n)),r="";if(0!==t)if(Math.max(Math.abs(i[0]),Math.abs(i[i.length-1]))<1e-4){var o=W.log10(Math.abs(t)),s=Math.floor(o)-Math.floor(a);s=Math.max(Math.min(s,20),0),r=t.toExponential(s)}else{var l=-1*Math.floor(a);l=Math.max(Math.min(l,20),0),r=t.toFixed(l)}else r="0";return r},logarithmic:function(t,e,i){var n=t/Math.pow(10,Math.floor(W.log10(t)));return 0===t?"0":1===n||2===n||5===n||0===e||e===i.length-1?t.toExponential():""}}},qe=W.isArray,Ue=W.isNullOrUndef,Ye=W.valueOrDefault,Xe=W.valueAtIndexOrDefault;function $e(t,e,i){var n,a=t.getTicks().length,r=Math.min(e,a-1),o=t.getPixelForTick(r),s=t._startPixel,l=t._endPixel,u=1e-6;if(!(i&&(n=1===a?Math.max(o-s,l-o):0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(r-1))/2,(o+=r<e?n:-n)<s-u||o>l+u)))return o}function Ke(t){return t.drawTicks?t.tickMarkLength:0}function Qe(t){var e,i;return t.display?(e=W.options._parseFont(t),i=W.options.toPadding(t.padding),e.lineHeight+i.height):0}function Je(t,e){return W.extend(W.options._parseFont({fontFamily:Ye(e.fontFamily,t.fontFamily),fontSize:Ye(e.fontSize,t.fontSize),fontStyle:Ye(e.fontStyle,t.fontStyle),lineHeight:Ye(e.lineHeight,t.lineHeight)}),{color:W.options.resolve([e.fontColor,t.fontColor,E.global.defaultFontColor])})}function ti(t){var e=Je(t,t.minor);return{minor:e,major:t.major.enabled?Je(t,t.major):e}}function ei(t){var e,i,n,a=[];for(i=0,n=t.length;i<n;++i)void 0!==(e=t[i])._index&&a.push(e);return a}function ii(t,e,i,n){var a,r,o,s,l=Ye(i,0),u=Math.min(Ye(n,t.length),t.length),c=0;for(e=Math.ceil(e),n&&(e=(a=n-i)/Math.floor(a/e)),s=l;s<0;)c++,s=Math.round(l+c*e);for(r=Math.max(l,0);r<u;r++)o=t[r],r===s?(o._index=r,c++,s=Math.round(l+c*e)):delete o.label}E._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Ze.formatters.values,minor:{},major:{}}});var ni=q.extend({zeroLineIndex:0,getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){W.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var n,a,r,o,s,l=this,u=l.options.ticks,c=u.sampleSize;if(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=e,l.margins=W.extend({left:0,right:0,top:0,bottom:0},i),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),o=l.buildTicks()||[],(!(o=l.afterBuildTicks(o)||o)||!o.length)&&l.ticks)for(o=[],n=0,a=l.ticks.length;n<a;++n)o.push({value:l.ticks[n],major:!1});return l._ticks=o,r=l._convertTicksToLabels((s=c<o.length)?function(t,e){for(var i=[],n=t.length/e,a=0,r=t.length;a<r;a+=n)i.push(t[Math.floor(a)]);return i}(o,c):o),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=u.display&&(u.autoSkip||"auto"===u.source)?l._autoSkip(o):o,s&&(r=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=r,l.afterUpdate(),l.minSize},_configure:function(){var t,e,i=this,n=i.options.ticks.reverse;i.isHorizontal()?(t=i.left,e=i.right):(t=i.top,e=i.bottom,n=!n),i._startPixel=t,i._endPixel=e,i._reversePixels=n,i._length=e-t},afterUpdate:function(){W.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){W.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){W.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){W.callback(this.options.beforeDataLimits,[this])},determineDataLimits:W.noop,afterDataLimits:function(){W.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){W.callback(this.options.beforeBuildTicks,[this])},buildTicks:W.noop,afterBuildTicks:function(t){var e=this;return qe(t)&&t.length?W.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=W.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){W.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){W.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){W.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,i,n,a,r,o,s=this,l=s.options,u=l.ticks,c=s.getTicks().length,h=u.minRotation||0,d=u.maxRotation,f=h;!s._isVisible()||!u.display||h>=d||c<=1||!s.isHorizontal()?s.labelRotation=h:(e=(t=s._getLabelSizes()).widest.width,i=t.highest.height-t.highest.offset,n=Math.min(s.maxWidth,s.chart.width-e),e+6>(a=l.offset?s.maxWidth/c:n/(c-1))&&(a=n/(c-(l.offset?.5:1)),r=s.maxHeight-Ke(l.gridLines)-u.padding-Qe(l.scaleLabel),o=Math.sqrt(e*e+i*i),f=W.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/a,1)),Math.asin(Math.min(r/o,1))-Math.asin(i/o))),f=Math.max(h,Math.min(d,f))),s.labelRotation=f)},afterCalculateTickRotation:function(){W.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){W.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},i=t.chart,n=t.options,a=n.ticks,r=n.scaleLabel,o=n.gridLines,s=t._isVisible(),l="bottom"===n.position,u=t.isHorizontal();if(u?e.width=t.maxWidth:s&&(e.width=Ke(o)+Qe(r)),u?s&&(e.height=Ke(o)+Qe(r)):e.height=t.maxHeight,a.display&&s){var c=ti(a),h=t._getLabelSizes(),d=h.first,f=h.last,g=h.widest,p=h.highest,m=.4*c.minor.lineHeight,v=a.padding;if(u){var y=0!==t.labelRotation,x=W.toRadians(t.labelRotation),_=Math.cos(x),b=Math.sin(x);e.height=Math.min(t.maxHeight,e.height+(b*g.width+_*(p.height-(y?p.offset:0))+(y?0:m))+v);var w,M,S=t.getPixelForTick(0)-t.left,A=t.right-t.getPixelForTick(t.getTicks().length-1);y?(w=l?_*d.width+b*d.offset:b*(d.height-d.offset),M=l?b*(f.height-f.offset):_*f.width+b*f.offset):(w=d.width/2,M=f.width/2),t.paddingLeft=Math.max((w-S)*t.width/(t.width-S),0)+3,t.paddingRight=Math.max((M-A)*t.width/(t.width-A),0)+3}else e.width=Math.min(t.maxWidth,e.width+(a.mirror?0:g.width+v+m)),t.paddingTop=d.height/2,t.paddingBottom=f.height/2}t.handleMargins(),u?(t.width=t._length=i.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){W.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(Ue(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,i,n,a=this;for(a.ticks=t.map(function(t){return t.value}),a.beforeTickToLabelConversion(),e=a.convertTicksToLabels(t)||a.ticks,a.afterTickToLabelConversion(),i=0,n=t.length;i<n;++i)t[i].label=e[i];return e},_getLabelSizes:function(){var t=this,e=t._labelSizes;return e||(t._labelSizes=e=function(t,e,i,n){var a,r,o,s,l,u,c,h,d,f,g,p,m,v=i.length,y=[],x=[],_=[],b=0,w=0;for(a=0;a<v;++a){if(s=i[a].label,t.font=u=(l=i[a].major?e.major:e.minor).string,c=n[u]=n[u]||{data:{},gc:[]},h=l.lineHeight,d=f=0,Ue(s)||qe(s)){if(qe(s))for(r=0,o=s.length;r<o;++r)Ue(g=s[r])||qe(g)||(d=W.measureText(t,c.data,c.gc,d,g),f+=h)}else d=W.measureText(t,c.data,c.gc,d,s),f=h;y.push(d),x.push(f),_.push(h/2),b=Math.max(d,b),w=Math.max(f,w)}function M(t){return{width:y[t]||0,height:x[t]||0,offset:_[t]||0}}return function(t,e){W.each(t,function(t){var i,n=t.gc,a=n.length/2;if(a>e){for(i=0;i<a;++i)delete t.data[n[i]];n.splice(0,a)}})}(n,v),p=y.indexOf(b),m=x.indexOf(w),{first:M(0),last:M(v-1),widest:M(p),highest:M(m)}}(t.ctx,ti(t.options.ticks),t.getTicks(),t.longestTextCache),t.longestLabelWidth=e.widest.width),e},_parseValue:function(t){var e,i,n,a;return qe(t)?(e=+this.getRightValue(t[0]),i=+this.getRightValue(t[1]),n=Math.min(e,i),a=Math.max(e,i)):(e=void 0,i=t=+this.getRightValue(t),n=t,a=t),{min:n,max:a,start:e,end:i}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},getLabelForIndex:W.noop,getPixelForValue:W.noop,getValueForPixel:W.noop,getPixelForTick:function(t){var e=this,i=e.options.offset,n=e._ticks.length,a=1/Math.max(n-(i?0:1),1);return t<0||t>n-1?null:e.getPixelForDecimal(t*a+(i?a/2:0))},getPixelForDecimal:function(t){var e=this;return e._reversePixels&&(t=1-t),e._startPixel+t*e._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,i=t.max;return t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0},_autoSkip:function(t){var e,i,n,a,r=this,o=r.options.ticks,s=o.maxTicksLimit||r._length/r._tickSize()+1,l=o.major.enabled?function(t){var e,i,n=[];for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}(t):[],u=l.length,c=l[0],h=l[u-1];if(u>s)return function(t,e,i){var n,a,r=0,o=e[0];for(i=Math.ceil(i),n=0;n<t.length;n++)a=t[n],n===o?(a._index=n,o=e[++r*i]):delete a.label}(t,l,u/s),ei(t);if(n=function(t,e,i,n){var a,r,o,s,l=function(t){var e,i,n=t.length;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}(t),u=(e.length-1)/n;if(!l)return Math.max(u,1);for(o=0,s=(a=W.math._factorize(l)).length-1;o<s;o++)if((r=a[o])>u)return r;return Math.max(u,1)}(l,t,0,s),u>0){for(e=0,i=u-1;e<i;e++)ii(t,n,l[e],l[e+1]);return ii(t,n,W.isNullOrUndef(a=u>1?(h-c)/(u-1):null)?0:c-a,c),ii(t,n,h,W.isNullOrUndef(a)?t.length:h+a),ei(t)}return ii(t,n),ei(t)},_tickSize:function(){var t=this,e=t.options.ticks,i=W.toRadians(t.labelRotation),n=Math.abs(Math.cos(i)),a=Math.abs(Math.sin(i)),r=t._getLabelSizes(),o=e.autoSkipPadding||0,s=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return t.isHorizontal()?l*n>s*a?s/n:l/a:l*a<s*n?l/n:s/a},_isVisible:function(){var t,e,i,n=this,a=n.chart,r=n.options.display;if("auto"!==r)return!!r;for(t=0,e=a.data.datasets.length;t<e;++t)if(a.isDatasetVisible(t)&&((i=a.getDatasetMeta(t)).xAxisID===n.id||i.yAxisID===n.id))return!0;return!1},_computeGridLineItems:function(t){var e,i,n,a,r,o,s,l,u,c,h,d,f,g,p,m,v,y=this,x=y.chart,_=y.options,b=_.gridLines,w=_.position,M=b.offsetGridLines,S=y.isHorizontal(),A=y._ticksToDraw,I=A.length+(M?1:0),T=Ke(b),C=[],k=b.drawBorder?Xe(b.lineWidth,0,0):0,L=k/2,D=W._alignPixel,P=function(t){return D(x,t,k)};for("top"===w?(e=P(y.bottom),s=y.bottom-T,u=e-L,h=P(t.top)+L,f=t.bottom):"bottom"===w?(e=P(y.top),h=t.top,f=P(t.bottom)-L,s=e+L,u=y.top+T):"left"===w?(e=P(y.right),o=y.right-T,l=e-L,c=P(t.left)+L,d=t.right):(e=P(y.left),c=t.left,d=P(t.right)-L,o=e+L,l=y.left+T),i=0;i<I;++i)Ue((n=A[i]||{}).label)&&i<A.length||(i===y.zeroLineIndex&&_.offset===M?(g=b.zeroLineWidth,p=b.zeroLineColor,m=b.zeroLineBorderDash||[],v=b.zeroLineBorderDashOffset||0):(g=Xe(b.lineWidth,i,1),p=Xe(b.color,i,"rgba(0,0,0,0.1)"),m=b.borderDash||[],v=b.borderDashOffset||0),void 0!==(a=$e(y,n._index||i,M))&&(r=D(x,a,g),S?o=l=c=d=r:s=u=h=f=r,C.push({tx1:o,ty1:s,tx2:l,ty2:u,x1:c,y1:h,x2:d,y2:f,width:g,color:p,borderDash:m,borderDashOffset:v})));return C.ticksLength=I,C.borderValue=e,C},_computeLabelItems:function(){var t,e,i,n,a,r,o,s,l,u,c,h,d=this,f=d.options,g=f.ticks,p=f.position,m=g.mirror,v=d.isHorizontal(),y=d._ticksToDraw,x=ti(g),_=g.padding,b=Ke(f.gridLines),w=-W.toRadians(d.labelRotation),M=[];for("top"===p?(r=d.bottom-b-_,o=w?"left":"center"):"bottom"===p?(r=d.top+b+_,o=w?"right":"center"):"left"===p?(a=d.right-(m?0:b)-_,o=m?"left":"right"):(a=d.left+(m?0:b)+_,o=m?"right":"left"),t=0,e=y.length;t<e;++t)Ue(n=(i=y[t]).label)||(s=d.getPixelForTick(i._index||t)+g.labelOffset,u=(l=i.major?x.major:x.minor).lineHeight,c=qe(n)?n.length:1,v?(a=s,h="top"===p?((w?1:.5)-c)*u:(w?0:.5)*u):(r=s,h=(1-c)*u/2),M.push({x:a,y:r,rotation:w,label:n,font:l,textOffset:h,textAlign:o}));return M},_drawGrid:function(t){var e=this,i=e.options.gridLines;if(i.display){var n,a,r,o,s,l=e.ctx,u=e.chart,c=W._alignPixel,h=i.drawBorder?Xe(i.lineWidth,0,0):0,d=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(r=0,o=d.length;r<o;++r)a=(s=d[r]).color,(n=s.width)&&a&&(l.save(),l.lineWidth=n,l.strokeStyle=a,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),i.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),i.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(h){var f,g,p,m,v=h,y=Xe(i.lineWidth,d.ticksLength-1,1),x=d.borderValue;e.isHorizontal()?(f=c(u,e.left,v)-v/2,g=c(u,e.right,y)+y/2,p=m=x):(p=c(u,e.top,v)-v/2,m=c(u,e.bottom,y)+y/2,f=g=x),l.lineWidth=h,l.strokeStyle=Xe(i.color,0),l.beginPath(),l.moveTo(f,p),l.lineTo(g,m),l.stroke()}}},_drawLabels:function(){var t=this;if(t.options.ticks.display){var e,i,n,a,r,o,s,l,u=t.ctx,c=t._labelItems||(t._labelItems=t._computeLabelItems());for(e=0,n=c.length;e<n;++e){if(o=(r=c[e]).font,u.save(),u.translate(r.x,r.y),u.rotate(r.rotation),u.font=o.string,u.fillStyle=o.color,u.textBaseline="middle",u.textAlign=r.textAlign,l=r.textOffset,qe(s=r.label))for(i=0,a=s.length;i<a;++i)u.fillText(""+s[i],0,l),l+=o.lineHeight;else u.fillText(s,0,l);u.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,i=t.options,n=i.scaleLabel;if(n.display){var a,r,o=Ye(n.fontColor,E.global.defaultFontColor),s=W.options._parseFont(n),l=W.options.toPadding(n.padding),u=s.lineHeight/2,c=i.position,h=0;if(t.isHorizontal())a=t.left+t.width/2,r="bottom"===c?t.bottom-u-l.bottom:t.top+u+l.top;else{var d="left"===c;a=d?t.left+u+l.top:t.right-u-l.top,r=t.top+t.height/2,h=d?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(a,r),e.rotate(h),e.textAlign="center",e.textBaseline="middle",e.fillStyle=o,e.font=s.string,e.fillText(n.labelString,0,0),e.restore()}},draw:function(t){var e=this;e._isVisible()&&(e._drawGrid(t),e._drawTitle(),e._drawLabels())},_layers:function(){var t=this,e=t.options,i=e.ticks&&e.ticks.z||0,n=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&i!==n&&t.draw===t._draw?[{z:n,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:i,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:i,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var e=this,i=e.isHorizontal();return e.chart._getSortedVisibleDatasetMetas().filter(function(n){return(!t||n.type===t)&&(i?n.xAxisID===e.id:n.yAxisID===e.id)})}});ni.prototype._draw=ni.prototype.draw;var ai=ni,ri=W.isNullOrUndef,oi=ai.extend({determineDataLimits:function(){var t,e=this,i=e._getLabels(),n=e.options.ticks,a=n.min,r=n.max,o=0,s=i.length-1;void 0!==a&&(t=i.indexOf(a))>=0&&(o=t),void 0!==r&&(t=i.indexOf(r))>=0&&(s=t),e.minIndex=o,e.maxIndex=s,e.min=i[o],e.max=i[s]},buildTicks:function(){var t=this,e=t._getLabels(),i=t.minIndex,n=t.maxIndex;t.ticks=0===i&&n===e.length-1?e:e.slice(i,n+1)},getLabelForIndex:function(t,e){var i=this,n=i.chart;return n.getDatasetMeta(e).controller._getValueScaleId()===i.id?i.getRightValue(n.data.datasets[e].data[t]):i._getLabels()[t]},_configure:function(){var t=this,e=t.options.offset,i=t.ticks;ai.prototype._configure.call(t),t.isHorizontal()||(t._reversePixels=!t._reversePixels),i&&(t._startValue=t.minIndex-(e?.5:0),t._valueRange=Math.max(i.length-(e?0:1),1))},getPixelForValue:function(t,e,i){var n,a,r,o=this;return ri(e)||ri(i)||(t=o.chart.data.datasets[i].data[e]),ri(t)||(n=o.isHorizontal()?t.x:t.y),(void 0!==n||void 0!==t&&isNaN(e))&&(a=o._getLabels(),t=W.valueOrDefault(n,t),e=-1!==(r=a.indexOf(t))?r:e,isNaN(e)&&(e=t)),o.getPixelForDecimal((e-o._startValue)/o._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=this,i=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(i,0),e.ticks.length-1)},getBasePixel:function(){return this.bottom}});oi._defaults={position:"bottom"};var si=W.isNullOrUndef,li=ai.extend({getRightValue:function(t){return"string"==typeof t?+t:ai.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var i=W.sign(t.min),n=W.sign(t.max);i<0&&n<0?t.max=0:i>0&&n>0&&(t.min=0)}var a=void 0!==e.min||void 0!==e.suggestedMin,r=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(t.min=null===t.min?e.suggestedMin:Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(t.max=null===t.max?e.suggestedMax:Math.max(t.max,e.suggestedMax)),a!==r&&t.min>=t.max&&(a?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this,i=e.options.ticks,n=i.stepSize,a=i.maxTicksLimit;return n?t=Math.ceil(e.max/n)-Math.floor(e.min/n)+1:(t=e._computeTickLimit(),a=a||11),a&&(t=Math.min(a,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:W.noop,buildTicks:function(){var t=this,e=t.options.ticks,i=t.getTickLimit(),n={maxTicks:i=Math.max(2,i),min:e.min,max:e.max,precision:e.precision,stepSize:W.valueOrDefault(e.fixedStepSize,e.stepSize)},a=t.ticks=function(t,e){var i,n,a,r,o=[],s=t.stepSize,l=s||1,u=t.maxTicks-1,c=t.min,h=t.max,d=t.precision,f=e.min,g=e.max,p=W.niceNum((g-f)/u/l)*l;if(p<1e-14&&si(c)&&si(h))return[f,g];(r=Math.ceil(g/p)-Math.floor(f/p))>u&&(p=W.niceNum(r*p/u/l)*l),s||si(d)?i=Math.pow(10,W._decimalPlaces(p)):(i=Math.pow(10,d),p=Math.ceil(p*i)/i),n=Math.floor(f/p)*p,a=Math.ceil(g/p)*p,s&&(!si(c)&&W.almostWhole(c/p,p/1e3)&&(n=c),!si(h)&&W.almostWhole(h/p,p/1e3)&&(a=h)),r=W.almostEquals(r=(a-n)/p,Math.round(r),p/1e3)?Math.round(r):Math.ceil(r),n=Math.round(n*i)/i,a=Math.round(a*i)/i,o.push(si(c)?n:c);for(var m=1;m<r;++m)o.push(Math.round((n+m*p)*i)/i);return o.push(si(h)?a:h),o}(n,t);t.handleDirectionalChanges(),t.max=W.max(a),t.min=W.min(a),e.reverse?(a.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),ai.prototype.convertTicksToLabels.call(t)},_configure:function(){var t,e=this,i=e.getTicks(),n=e.min,a=e.max;ai.prototype._configure.call(e),e.options.offset&&i.length&&(n-=t=(a-n)/Math.max(i.length-1,1)/2,a+=t),e._startValue=n,e._endValue=a,e._valueRange=a-n}}),ui={position:"left",ticks:{callback:Ze.formatters.linear}};function ci(t,e,i,n){var a,r,o=t.options,s=function(t,e,i){var n=[i.type,void 0===e&&void 0===i.stack?i.index:"",i.stack].join(".");return void 0===t[n]&&(t[n]={pos:[],neg:[]}),t[n]}(e,o.stacked,i),l=s.pos,u=s.neg,c=n.length;for(a=0;a<c;++a)r=t._parseValue(n[a]),isNaN(r.min)||isNaN(r.max)||i.data[a].hidden||(l[a]=l[a]||0,u[a]=u[a]||0,o.relativePoints?l[a]=100:r.min<0||r.max<0?u[a]+=r.min:l[a]+=r.max)}function hi(t,e,i){var n,a,r=i.length;for(n=0;n<r;++n)a=t._parseValue(i[n]),isNaN(a.min)||isNaN(a.max)||e.data[n].hidden||(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}var di=li.extend({determineDataLimits:function(){var t,e,i,n,a=this,r=a.options,o=a.chart.data.datasets,s=a._getMatchingVisibleMetas(),l=r.stacked,u={},c=s.length;if(a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,void 0===l)for(t=0;!l&&t<c;++t)l=void 0!==(e=s[t]).stack;for(t=0;t<c;++t)i=o[(e=s[t]).index].data,l?ci(a,u,e,i):hi(a,e,i);W.each(u,function(t){n=t.pos.concat(t.neg),a.min=Math.min(a.min,W.min(n)),a.max=Math.max(a.max,W.max(n))}),a.min=W.isFinite(a.min)&&!isNaN(a.min)?a.min:0,a.max=W.isFinite(a.max)&&!isNaN(a.max)?a.max:1,a.handleTickRangeOptions()},_computeTickLimit:function(){var t,e=this;return e.isHorizontal()?Math.ceil(e.width/40):(t=W.options._parseFont(e.options.ticks),Math.ceil(e.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this;return e.getPixelForDecimal((+e.getRightValue(t)-e._startValue)/e._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}});di._defaults=ui;var fi=W.valueOrDefault,gi=W.math.log10,pi={position:"left",ticks:{callback:Ze.formatters.logarithmic}};function mi(t,e){return W.isFinite(t)&&t>=0?t:e}var vi=ai.extend({determineDataLimits:function(){var t,e,i,n,a,r,o=this,s=o.options,l=o.chart,u=l.data.datasets,c=o.isHorizontal();function h(t){return c?t.xAxisID===o.id:t.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var d=s.stacked;if(void 0===d)for(t=0;t<u.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&h(e)&&void 0!==e.stack){d=!0;break}if(s.stacked||d){var f={};for(t=0;t<u.length;t++){var g=[(e=l.getDatasetMeta(t)).type,void 0===s.stacked&&void 0===e.stack?t:"",e.stack].join(".");if(l.isDatasetVisible(t)&&h(e))for(void 0===f[g]&&(f[g]=[]),a=0,r=(n=u[t].data).length;a<r;a++){var p=f[g];i=o._parseValue(n[a]),isNaN(i.min)||isNaN(i.max)||e.data[a].hidden||i.min<0||i.max<0||(p[a]=p[a]||0,p[a]+=i.max)}}W.each(f,function(t){if(t.length>0){var e=W.min(t),i=W.max(t);o.min=Math.min(o.min,e),o.max=Math.max(o.max,i)}})}else for(t=0;t<u.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&h(e))for(a=0,r=(n=u[t].data).length;a<r;a++)i=o._parseValue(n[a]),isNaN(i.min)||isNaN(i.max)||e.data[a].hidden||i.min<0||i.max<0||(o.min=Math.min(i.min,o.min),o.max=Math.max(i.max,o.max),0!==i.min&&(o.minNotZero=Math.min(i.min,o.minNotZero)));o.min=W.isFinite(o.min)?o.min:null,o.max=W.isFinite(o.max)?o.max:null,o.minNotZero=W.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=mi(e.min,t.min),t.max=mi(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(gi(t.min))-1),t.max=Math.pow(10,Math.floor(gi(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(gi(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(gi(t.min))+1):10),null===t.minNotZero&&(t.minNotZero=t.min>0?t.min:t.max<1?Math.pow(10,Math.floor(gi(t.max))):1)},buildTicks:function(){var t=this,e=t.options.ticks,i=!t.isHorizontal(),n={min:mi(e.min),max:mi(e.max)},a=t.ticks=function(t,e){var i,n,a=[],r=fi(t.min,Math.pow(10,Math.floor(gi(e.min)))),o=Math.floor(gi(e.max)),s=Math.ceil(e.max/Math.pow(10,o));0===r?(i=Math.floor(gi(e.minNotZero)),n=Math.floor(e.minNotZero/Math.pow(10,i)),a.push(r),r=n*Math.pow(10,i)):(i=Math.floor(gi(r)),n=Math.floor(r/Math.pow(10,i)));var l=i<0?Math.pow(10,Math.abs(i)):1;do{a.push(r),10==++n&&(n=1,l=++i>=0?1:l),r=Math.round(n*Math.pow(10,i)*l)/l}while(i<o||i===o&&n<s);var u=fi(t.max,r);return a.push(u),a}(n,t);t.max=W.max(a),t.min=W.min(a),e.reverse?(i=!i,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i&&a.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),ai.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(gi(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,i=0;ai.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),i=fi(t.options.ticks.fontSize,E.global.defaultFontSize)/t._length),t._startValue=gi(e),t._valueOffset=i,t._valueRange=(gi(t.max)-gi(e))/(1-i)},getPixelForValue:function(t){var e=this,i=0;return(t=+e.getRightValue(t))>e.min&&t>0&&(i=(gi(t)-e._startValue)/e._valueRange+e._valueOffset),e.getPixelForDecimal(i)},getValueForPixel:function(t){var e=this,i=e.getDecimalForPixel(t);return 0===i&&0===e.min?0:Math.pow(10,e._startValue+(i-e._valueOffset)*e._valueRange)}});vi._defaults=pi;var yi=W.valueOrDefault,xi=W.valueAtIndexOrDefault,_i=W.options.resolve,bi={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Ze.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function wi(t){var e=t.ticks;return e.display&&t.display?yi(e.fontSize,E.global.defaultFontSize)+2*e.backdropPaddingY:0}function Mi(t,e,i,n,a){return t===n||t===a?{start:e-i/2,end:e+i/2}:t<n||t>a?{start:e-i,end:e}:{start:e,end:e+i}}function Si(t){return 0===t||180===t?"center":t<180?"left":"right"}function Ai(t,e,i,n){var a,r,o=i.y+n/2;if(W.isArray(e))for(a=0,r=e.length;a<r;++a)t.fillText(e[a],i.x,o),o+=n;else t.fillText(e,i.x,o)}function Ii(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function Ti(t){return W.isNumber(t)?t:0}var Ci=li.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=wi(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;W.each(e.data.datasets,function(a,r){if(e.isDatasetVisible(r)){var o=e.getDatasetMeta(r);W.each(a.data,function(e,a){var r=+t.getRightValue(e);isNaN(r)||o.data[a].hidden||(i=Math.min(r,i),n=Math.max(r,n))})}}),t.min=i===Number.POSITIVE_INFINITY?0:i,t.max=n===Number.NEGATIVE_INFINITY?0:n,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/wi(this.options))},convertTicksToLabels:function(){var t=this;li.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(function(){var e=W.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""})},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this,e=t.options;e.display&&e.pointLabels.display?function(t){var e,i,n,a=W.options._parseFont(t.options.pointLabels),r={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={};t.ctx.font=a.string,t._pointLabelSizes=[];var s,l,u,c=t.chart.data.labels.length;for(e=0;e<c;e++){n=t.getPointPosition(e,t.drawingArea+5),s=t.ctx,l=a.lineHeight,i=W.isArray(u=t.pointLabels[e])?{w:W.longestText(s,s.font,u),h:u.length*l}:{w:s.measureText(u).width,h:l},t._pointLabelSizes[e]=i;var h=t.getIndexAngle(e),d=W.toDegrees(h)%360,f=Mi(d,n.x,i.w,0,180),g=Mi(d,n.y,i.h,90,270);f.start<r.l&&(r.l=f.start,o.l=h),f.end>r.r&&(r.r=f.end,o.r=h),g.start<r.t&&(r.t=g.start,o.t=h),g.end>r.b&&(r.b=g.end,o.b=h)}t.setReductions(t.drawingArea,r,o)}(t):t.setCenterPoint(0,0,0,0)},setReductions:function(t,e,i){var n=this,a=e.l/Math.sin(i.l),r=Math.max(e.r-n.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),s=-Math.max(e.b-(n.height-n.paddingTop),0)/Math.cos(i.b);a=Ti(a),r=Ti(r),o=Ti(o),s=Ti(s),n.drawingArea=Math.min(Math.floor(t-(a+r)/2),Math.floor(t-(o+s)/2)),n.setCenterPoint(a,r,o,s)},setCenterPoint:function(t,e,i,n){var a=this,r=i+a.drawingArea,o=a.height-a.paddingTop-n-a.drawingArea;a.xCenter=Math.floor((t+a.drawingArea+(a.width-e-a.drawingArea))/2+a.left),a.yCenter=Math.floor((r+o)/2+a.top+a.paddingTop)},getIndexAngle:function(t){var e=this.chart,i=(t*(360/e.data.labels.length)+((e.options||{}).startAngle||0))%360;return(i<0?i+360:i)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(W.isNullOrUndef(t))return NaN;var i=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this,n=i.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+i.xCenter,y:Math.sin(n)*e+i.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this,i=e.min,n=e.max;return e.getPointPositionForValue(t||0,e.beginAtZero?0:i<0&&n<0?n:i>0&&n>0?i:0)},_drawGrid:function(){var t,e,i,n=this,a=n.ctx,r=n.options,o=r.gridLines,s=r.angleLines,l=yi(s.lineWidth,o.lineWidth),u=yi(s.color,o.color);if(r.pointLabels.display&&function(t){var e=t.ctx,i=t.options,n=i.pointLabels,a=wi(i),r=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),o=W.options._parseFont(n);e.save(),e.font=o.string,e.textBaseline="middle";for(var s=t.chart.data.labels.length-1;s>=0;s--){var l=t.getPointPosition(s,r+(0===s?a/2:0)+5),u=xi(n.fontColor,s,E.global.defaultFontColor);e.fillStyle=u;var c=t.getIndexAngle(s),h=W.toDegrees(c);e.textAlign=Si(h),Ii(h,t._pointLabelSizes[s],l),Ai(e,t.pointLabels[s],l,o.lineHeight)}e.restore()}(n),o.display&&W.each(n.ticks,function(t,i){0!==i&&(e=n.getDistanceFromCenterForValue(n.ticksAsNumbers[i]),function(t,e,i,n){var a,r=t.ctx,o=e.circular,s=t.chart.data.labels.length,l=xi(e.color,n-1),u=xi(e.lineWidth,n-1);if((o||s)&&l&&u){if(r.save(),r.strokeStyle=l,r.lineWidth=u,r.setLineDash&&(r.setLineDash(e.borderDash||[]),r.lineDashOffset=e.borderDashOffset||0),r.beginPath(),o)r.arc(t.xCenter,t.yCenter,i,0,2*Math.PI);else{a=t.getPointPosition(0,i),r.moveTo(a.x,a.y);for(var c=1;c<s;c++)a=t.getPointPosition(c,i),r.lineTo(a.x,a.y)}r.closePath(),r.stroke(),r.restore()}}(n,o,e,i))}),s.display&&l&&u){for(a.save(),a.lineWidth=l,a.strokeStyle=u,a.setLineDash&&(a.setLineDash(_i([s.borderDash,o.borderDash,[]])),a.lineDashOffset=_i([s.borderDashOffset,o.borderDashOffset,0])),t=n.chart.data.labels.length-1;t>=0;t--)e=n.getDistanceFromCenterForValue(r.ticks.reverse?n.min:n.max),i=n.getPointPosition(t,e),a.beginPath(),a.moveTo(n.xCenter,n.yCenter),a.lineTo(i.x,i.y),a.stroke();a.restore()}},_drawLabels:function(){var t=this,e=t.ctx,i=t.options.ticks;if(i.display){var n,a,r=t.getIndexAngle(0),o=W.options._parseFont(i),s=yi(i.fontColor,E.global.defaultFontColor);e.save(),e.font=o.string,e.translate(t.xCenter,t.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",W.each(t.ticks,function(r,l){(0!==l||i.reverse)&&(n=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),i.showLabelBackdrop&&(a=e.measureText(r).width,e.fillStyle=i.backdropColor,e.fillRect(-a/2-i.backdropPaddingX,-n-o.size/2-i.backdropPaddingY,a+2*i.backdropPaddingX,o.size+2*i.backdropPaddingY)),e.fillStyle=s,e.fillText(r,0,-n))}),e.restore()}},_drawTitle:W.noop});Ci._defaults=bi;var ki=W._deprecated,Li=W.options.resolve,Di=W.valueOrDefault,Pi=Number.MIN_SAFE_INTEGER||-9007199254740991,zi=Number.MAX_SAFE_INTEGER||9007199254740991,Oi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ri=Object.keys(Oi);function Ei(t,e){return t-e}function Vi(t){return W.valueOrDefault(t.time.min,t.ticks.min)}function Ni(t){return W.valueOrDefault(t.time.max,t.ticks.max)}function Bi(t,e,i,n){var a=function(t,e,i){for(var n,a,r,o=0,s=t.length-1;o>=0&&o<=s;){if(r=t[n=o+s>>1],!(a=t[n-1]||null))return{lo:null,hi:r};if(r[e]<i)o=n+1;else{if(!(a[e]>i))return{lo:a,hi:r};s=n-1}}return{lo:r,hi:null}}(t,e,i),r=a.lo?a.hi?a.lo:t[t.length-2]:t[0],o=a.lo?a.hi?a.hi:t[t.length-1]:t[1],s=o[e]-r[e];return r[n]+(o[n]-r[n])*(s?(i-r[e])/s:0)}function Fi(t,e){var i=t._adapter,n=t.options.time,a=n.parser,r=a||n.format,o=e;return"function"==typeof a&&(o=a(o)),W.isFinite(o)||(o="string"==typeof r?i.parse(o,r):i.parse(o)),null!==o?+o:(a||"function"!=typeof r||(o=r(e),W.isFinite(o)||(o=i.parse(o))),o)}function Wi(t,e){if(W.isNullOrUndef(e))return null;var i=t.options.time,n=Fi(t,t.getRightValue(e));return null===n||i.round&&(n=+t._adapter.startOf(n,i.round)),n}function Hi(t,e,i,n){var a,r,o=Ri.length;for(a=Ri.indexOf(t);a<o-1;++a)if((r=Oi[Ri[a]]).common&&Math.ceil((i-e)/((r.steps?r.steps:zi)*r.size))<=n)return Ri[a];return Ri[o-1]}function Gi(t,e,i){var n,a,r=[],o={},s=e.length;for(n=0;n<s;++n)o[a=e[n]]=n,r.push({value:a,major:!1});return 0!==s&&i?function(t,e,i,n){var a,r,o=t._adapter,s=+o.startOf(e[0].value,n),l=e[e.length-1].value;for(a=s;a<=l;a=+o.add(a,1,n))(r=i[a])>=0&&(e[r].major=!0);return e}(t,r,o,i):r}var ji=ai.extend({initialize:function(){this.mergeTicksOptions(),ai.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,i=e.time||(e.time={}),n=t._adapter=new je._date(e.adapters.date);return ki("time scale",i.format,"time.format","time.parser"),ki("time scale",i.min,"time.min","ticks.min"),ki("time scale",i.max,"time.max","ticks.max"),W.mergeIf(i.displayFormats,n.formats()),ai.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),ai.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,i,n,a,r,o,s=this,l=s.chart,u=s._adapter,c=s.options,h=c.time.unit||"day",d=zi,f=Pi,g=[],p=[],m=[],v=s._getLabels();for(t=0,i=v.length;t<i;++t)m.push(Wi(s,v[t]));for(t=0,i=(l.data.datasets||[]).length;t<i;++t)if(l.isDatasetVisible(t))if(W.isObject((a=l.data.datasets[t].data)[0]))for(p[t]=[],e=0,n=a.length;e<n;++e)r=Wi(s,a[e]),g.push(r),p[t][e]=r;else p[t]=m.slice(0),o||(g=g.concat(m),o=!0);else p[t]=[];m.length&&(d=Math.min(d,m[0]),f=Math.max(f,m[m.length-1])),g.length&&(g=i>1?function(t){var e,i,n,a={},r=[];for(e=0,i=t.length;e<i;++e)a[n=t[e]]||(a[n]=!0,r.push(n));return r}(g).sort(Ei):g.sort(Ei),d=Math.min(d,g[0]),f=Math.max(f,g[g.length-1])),d=Wi(s,Vi(c))||d,f=Wi(s,Ni(c))||f,d=d===zi?+u.startOf(Date.now(),h):d,f=f===Pi?+u.endOf(Date.now(),h)+1:f,s.min=Math.min(d,f),s.max=Math.max(d+1,f),s._table=[],s._timestamps={data:g,datasets:p,labels:m}},buildTicks:function(){var t,e,i,n=this,a=n.min,r=n.max,o=n.options,s=o.ticks,l=o.time,u=n._timestamps,c=[],h=n.getLabelCapacity(a),d=s.source,f=o.distribution;for(u="data"===d||"auto"===d&&"series"===f?u.data:"labels"===d?u.labels:function(t,e,i,n){var a,r=t._adapter,o=t.options,s=o.time,l=s.unit||Hi(s.minUnit,e,i,n),u=Li([s.stepSize,s.unitStepSize,1]),c="week"===l&&s.isoWeekday,h=e,d=[];if(c&&(h=+r.startOf(h,"isoWeek",c)),h=+r.startOf(h,c?"day":l),r.diff(i,e,l)>1e5*u)throw e+" and "+i+" are too far apart with stepSize of "+u+" "+l;for(a=h;a<i;a=+r.add(a,u,l))d.push(a);return a!==i&&"ticks"!==o.bounds||d.push(a),d}(n,a,r,h),"ticks"===o.bounds&&u.length&&(a=u[0],r=u[u.length-1]),a=Wi(n,Vi(o))||a,r=Wi(n,Ni(o))||r,t=0,e=u.length;t<e;++t)(i=u[t])>=a&&i<=r&&c.push(i);return n.min=a,n.max=r,n._unit=l.unit||(s.autoSkip?Hi(l.minUnit,n.min,n.max,h):function(t,e,i,n,a){var r,o;for(r=Ri.length-1;r>=Ri.indexOf(i);r--)if(Oi[o=Ri[r]].common&&t._adapter.diff(a,n,o)>=e-1)return o;return Ri[i?Ri.indexOf(i):0]}(n,c.length,l.minUnit,n.min,n.max)),n._majorUnit=s.major.enabled&&"year"!==n._unit?function(t){for(var e=Ri.indexOf(t)+1,i=Ri.length;e<i;++e)if(Oi[Ri[e]].common)return Ri[e]}(n._unit):void 0,n._table=function(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var a,r,o,s,l,u=[],c=[e];for(a=0,r=t.length;a<r;++a)(s=t[a])>e&&s<i&&c.push(s);for(c.push(i),a=0,r=c.length;a<r;++a)l=c[a+1],s=c[a],void 0!==(o=c[a-1])&&void 0!==l&&Math.round((l+o)/2)===s||u.push({time:s,pos:a/(r-1)});return u}(n._timestamps.data,a,r,f),n._offsets=function(t,e,i,n,a){var r,o,s=0,l=0;return a.offset&&e.length&&(r=Bi(t,"time",e[0],"pos"),s=1===e.length?1-r:(Bi(t,"time",e[1],"pos")-r)/2,o=Bi(t,"time",e[e.length-1],"pos"),l=1===e.length?o:(o-Bi(t,"time",e[e.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}}(n._table,c,0,0,o),s.reverse&&c.reverse(),Gi(n,c,n._majorUnit)},getLabelForIndex:function(t,e){var i=this,n=i._adapter,a=i.chart.data,r=i.options.time,o=a.labels&&t<a.labels.length?a.labels[t]:"",s=a.datasets[e].data[t];return W.isObject(s)&&(o=i.getRightValue(s)),r.tooltipFormat?n.format(Fi(i,o),r.tooltipFormat):"string"==typeof o?o:n.format(Fi(i,o),r.displayFormats.datetime)},tickFormatFunction:function(t,e,i,n){var a=this,r=a.options,o=r.time.displayFormats,s=a._majorUnit,l=o[s],u=i[e],c=r.ticks,h=s&&l&&u&&u.major,d=a._adapter.format(t,n||(h?l:o[a._unit])),f=h?c.major:c.minor,g=Li([f.callback,f.userCallback,c.callback,c.userCallback]);return g?g(d,e,i):d},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(t[e].value,e,t));return n},getPixelForOffset:function(t){var e=this,i=e._offsets,n=Bi(e._table,"time",t,"pos");return e.getPixelForDecimal((i.start+n)*i.factor)},getPixelForValue:function(t,e,i){var n=this,a=null;if(void 0!==e&&void 0!==i&&(a=n._timestamps.datasets[i][e]),null===a&&(a=Wi(n,t)),null!==a)return n.getPixelForOffset(a)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,i=e._offsets,n=e.getDecimalForPixel(t)/i.factor-i.end,a=Bi(e._table,"pos",n,"time");return e._adapter._create(a)},_getLabelSize:function(t){var e=this,i=e.options.ticks,n=e.ctx.measureText(t).width,a=W.toRadians(e.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(a),o=Math.sin(a),s=Di(i.fontSize,E.global.defaultFontSize);return{w:n*r+s*o,h:n*o+s*r}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this,i=e.options.time,n=i.displayFormats,a=n[i.unit]||n.millisecond,r=e.tickFormatFunction(t,0,Gi(e,[t],e._majorUnit),a),o=e._getLabelSize(r),s=Math.floor(e.isHorizontal()?e.width/o.w:e.height/o.h);return e.options.offset&&s--,s>0?s:1}});ji._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var Zi={category:oi,linear:di,logarithmic:vi,radialLinear:Ci,time:ji},qi={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};je._date.override("function"==typeof t?{_id:"moment",formats:function(){return qi},parse:function(e,i){return"string"==typeof e&&"string"==typeof i?e=t(e,i):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,i){return t(e).format(i)},add:function(e,i,n){return t(e).add(i,n).valueOf()},diff:function(e,i,n){return t(e).diff(t(i),n)},startOf:function(e,i,n){return e=t(e),"isoWeek"===i?e.isoWeekday(n).valueOf():e.startOf(i).valueOf()},endOf:function(e,i){return t(e).endOf(i).valueOf()},_create:function(e){return t(e)}}:{}),E._set("global",{plugins:{filler:{propagate:!0}}});var Ui={dataset:function(t){var e=t.fill,i=t.chart,n=i.getDatasetMeta(e),a=n&&i.isDatasetVisible(e)&&n.dataset._children||[],r=a.length||0;return r?function(t,e){return e<r&&a[e]._view||null}:null},boundary:function(t){var e=t.boundary,i=e?e.x:null,n=e?e.y:null;return W.isArray(e)?function(t,i){return e[i]}:function(t){return{x:null===i?t.x:i,y:null===n?t.y:n}}}};function Yi(t,e,i){var n,a=t._model||{},r=a.fill;if(void 0===r&&(r=!!a.backgroundColor),!1===r||null===r)return!1;if(!0===r)return"origin";if(n=parseFloat(r,10),isFinite(n)&&Math.floor(n)===n)return"-"!==r[0]&&"+"!==r[0]||(n=e+n),!(n===e||n<0||n>=i)&&n;switch(r){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return r;default:return!1}}function Xi(t){return(t.el._scale||{}).getPointPositionForValue?function(t){var e,i,n,a,r,o=t.el._scale,s=o.options,l=o.chart.data.labels.length,u=t.fill,c=[];if(!l)return null;for(i=s.ticks.reverse?o.min:o.max,n=o.getPointPositionForValue(0,e=s.ticks.reverse?o.max:o.min),a=0;a<l;++a)r="start"===u||"end"===u?o.getPointPositionForValue(a,"start"===u?e:i):o.getBasePosition(a),s.gridLines.circular&&(r.cx=n.x,r.cy=n.y,r.angle=o.getIndexAngle(a)-Math.PI/2),c.push(r);return c}(t):function(t){var e,i=t.el._model||{},n=t.el._scale||{},a=t.fill,r=null;if(isFinite(a))return null;if("start"===a?r=void 0===i.scaleBottom?n.bottom:i.scaleBottom:"end"===a?r=void 0===i.scaleTop?n.top:i.scaleTop:void 0!==i.scaleZero?r=i.scaleZero:n.getBasePixel&&(r=n.getBasePixel()),null!=r){if(void 0!==r.x&&void 0!==r.y)return r;if(W.isFinite(r))return{x:(e=n.isHorizontal())?r:null,y:e?null:r}}return null}(t)}function $i(t,e,i){var n,a=t[e].fill,r=[e];if(!i)return a;for(;!1!==a&&-1===r.indexOf(a);){if(!isFinite(a))return a;if(!(n=t[a]))return!1;if(n.visible)return a;r.push(a),a=n.fill}return!1}function Ki(t){var e=t.fill,i="dataset";return!1===e?null:(isFinite(e)||(i="boundary"),Ui[i](t))}function Qi(t){return t&&!t.skip}function Ji(t,e,i,n,a){var r,o,s,l;if(n&&a){for(t.moveTo(e[0].x,e[0].y),r=1;r<n;++r)W.canvas.lineTo(t,e[r-1],e[r]);if(void 0===i[0].angle)for(t.lineTo(i[a-1].x,i[a-1].y),r=a-1;r>0;--r)W.canvas.lineTo(t,i[r],i[r-1],!0);else for(o=i[0].cx,s=i[0].cy,l=Math.sqrt(Math.pow(i[0].x-o,2)+Math.pow(i[0].y-s,2)),r=a-1;r>0;--r)t.arc(o,s,l,i[r].angle,i[r-1].angle,!0)}}function tn(t,e,i,n,a,r){var o,s,l,u,c,h,d,f,g=e.length,p=n.spanGaps,m=[],v=[],y=0,x=0;for(t.beginPath(),o=0,s=g;o<s;++o)c=i(u=e[l=o%g]._view,l,n),h=Qi(u),d=Qi(c),r&&void 0===f&&h&&(s=g+(f=o+1)),h&&d?(y=m.push(u),x=v.push(c)):y&&x&&(p?(h&&m.push(u),d&&v.push(c)):(Ji(t,m,v,y,x),y=x=0,m=[],v=[]));Ji(t,m,v,y,x),t.closePath(),t.fillStyle=a,t.fill()}var en={id:"filler",afterDatasetsUpdate:function(t,e){var i,n,a,r,o=(t.data.datasets||[]).length,s=e.propagate,l=[];for(n=0;n<o;++n)r=null,(a=(i=t.getDatasetMeta(n)).dataset)&&a._model&&a instanceof vt.Line&&(r={visible:t.isDatasetVisible(n),fill:Yi(a,n,o),chart:t,el:a}),i.$filler=r,l.push(r);for(n=0;n<o;++n)(r=l[n])&&(r.fill=$i(l,n,s),r.boundary=Xi(r),r.mapper=Ki(r))},beforeDatasetsDraw:function(t){var e,i,n,a,r,o,s,l=t._getSortedVisibleDatasetMetas(),u=t.ctx;for(i=l.length-1;i>=0;--i)(e=l[i].$filler)&&e.visible&&(r=(n=e.el)._children||[],s=(a=n._view).backgroundColor||E.global.defaultColor,(o=e.mapper)&&s&&r.length&&(W.canvas.clipArea(u,t.chartArea),tn(u,r,o,a,s,n._loop),W.canvas.unclipArea(u)))}},nn=W.rtl.getRtlAdapter,an=W.noop,rn=W.valueOrDefault;function on(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}E._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var i=e.datasetIndex,n=this.chart,a=n.getDatasetMeta(i);a.hidden=null===a.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,i=t.options.legend||{},n=i.labels&&i.labels.usePointStyle;return t._getSortedDatasetMetas().map(function(i){var a=i.controller.getStyle(n?0:void 0);return{text:e[i.index].label,fillStyle:a.backgroundColor,hidden:!t.isDatasetVisible(i.index),lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:a.borderWidth,strokeStyle:a.borderColor,pointStyle:a.pointStyle,rotation:a.rotation,datasetIndex:i.index}},this)}}},legendCallback:function(t){var e,i,n,a=document.createElement("ul"),r=t.data.datasets;for(a.setAttribute("class",t.id+"-legend"),e=0,i=r.length;e<i;e++)(n=a.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[e].backgroundColor,r[e].label&&n.appendChild(document.createTextNode(r[e].label));return a.outerHTML}});var sn=q.extend({initialize:function(t){var e=this;W.extend(e,t),e.legendHitBoxes=[],e._hoveredItem=null,e.doughnutMode=!1},beforeUpdate:an,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:an,beforeSetDimensions:an,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:an,beforeBuildLabels:an,buildLabels:function(){var t=this,e=t.options.labels||{},i=W.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(i=i.filter(function(i){return e.filter(i,t.chart.data)})),t.options.reverse&&i.reverse(),t.legendItems=i},afterBuildLabels:an,beforeFit:an,fit:function(){var t=this,e=t.options,i=e.labels,n=e.display,a=t.ctx,r=W.options._parseFont(i),o=r.size,s=t.legendHitBoxes=[],l=t.minSize,u=t.isHorizontal();if(u?(l.width=t.maxWidth,l.height=n?10:0):(l.width=n?10:0,l.height=t.maxHeight),n){if(a.font=r.string,u){var c=t.lineWidths=[0],h=0;a.textAlign="left",a.textBaseline="middle",W.each(t.legendItems,function(t,e){var n=on(i,o)+o/2+a.measureText(t.text).width;(0===e||c[c.length-1]+n+2*i.padding>l.width)&&(h+=o+i.padding,c[c.length-(e>0?0:1)]=0),s[e]={left:0,top:0,width:n,height:o},c[c.length-1]+=n+i.padding}),l.height+=h}else{var d=i.padding,f=t.columnWidths=[],g=t.columnHeights=[],p=i.padding,m=0,v=0;W.each(t.legendItems,function(t,e){var n=on(i,o)+o/2+a.measureText(t.text).width;e>0&&v+o+2*d>l.height&&(p+=m+i.padding,f.push(m),g.push(v),m=0,v=0),m=Math.max(m,n),v+=o+d,s[e]={left:0,top:0,width:n,height:o}}),p+=m,f.push(m),g.push(v),l.width+=p}t.width=l.width,t.height=l.height}else t.width=l.width=t.height=l.height=0},afterFit:an,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,i=e.labels,n=E.global,a=n.defaultColor,r=n.elements.line,o=t.height,s=t.columnHeights,l=t.width,u=t.lineWidths;if(e.display){var c,h=nn(e.rtl,t.left,t.minSize.width),d=t.ctx,f=rn(i.fontColor,n.defaultFontColor),g=W.options._parseFont(i),p=g.size;d.textAlign=h.textAlign("left"),d.textBaseline="middle",d.lineWidth=.5,d.strokeStyle=f,d.fillStyle=f,d.font=g.string;var m=on(i,p),v=t.legendHitBoxes,y=function(t,n){switch(e.align){case"start":return i.padding;case"end":return t-n;default:return(t-n+i.padding)/2}},x=t.isHorizontal();c=x?{x:t.left+y(l,u[0]),y:t.top+i.padding,line:0}:{x:t.left+i.padding,y:t.top+y(o,s[0]),line:0},W.rtl.overrideTextDirection(t.ctx,e.textDirection);var _=p+i.padding;W.each(t.legendItems,function(e,n){var f=d.measureText(e.text).width,g=m+p/2+f,b=c.x,w=c.y;h.setWidth(t.minSize.width),x?n>0&&b+g+i.padding>t.left+t.minSize.width&&(w=c.y+=_,c.line++,b=c.x=t.left+y(l,u[c.line])):n>0&&w+_>t.top+t.minSize.height&&(b=c.x=b+t.columnWidths[c.line]+i.padding,c.line++,w=c.y=t.top+y(o,s[c.line]));var M=h.x(b);!function(t,e,n){if(!(isNaN(m)||m<=0)){d.save();var o=rn(n.lineWidth,r.borderWidth);if(d.fillStyle=rn(n.fillStyle,a),d.lineCap=rn(n.lineCap,r.borderCapStyle),d.lineDashOffset=rn(n.lineDashOffset,r.borderDashOffset),d.lineJoin=rn(n.lineJoin,r.borderJoinStyle),d.lineWidth=o,d.strokeStyle=rn(n.strokeStyle,a),d.setLineDash&&d.setLineDash(rn(n.lineDash,r.borderDash)),i&&i.usePointStyle){var s=m*Math.SQRT2/2,l=h.xPlus(t,m/2);W.canvas.drawPoint(d,n.pointStyle,s,l,e+p/2,n.rotation)}else d.fillRect(h.leftForLtr(t,m),e,m,p),0!==o&&d.strokeRect(h.leftForLtr(t,m),e,m,p);d.restore()}}(M,w,e),v[n].left=h.leftForLtr(M,v[n].width),v[n].top=w,function(t,e,i,n){var a=p/2,r=h.xPlus(t,m+a),o=e+a;d.fillText(i.text,r,o),i.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(r,o),d.lineTo(h.xPlus(r,n),o),d.stroke())}(M,w,e,f),x?c.x+=g+i.padding:c.y+=_}),W.rtl.restoreTextDirection(t.ctx,e.textDirection)}},_getLegendItemAt:function(t,e){var i,n,a,r=this;if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)for(a=r.legendHitBoxes,i=0;i<a.length;++i)if(t>=(n=a[i]).left&&t<=n.left+n.width&&e>=n.top&&e<=n.top+n.height)return r.legendItems[i];return null},handleEvent:function(t){var e,i=this,n=i.options,a="mouseup"===t.type?"click":t.type;if("mousemove"===a){if(!n.onHover&&!n.onLeave)return}else{if("click"!==a)return;if(!n.onClick)return}e=i._getLegendItemAt(t.x,t.y),"click"===a?e&&n.onClick&&n.onClick.call(i,t.native,e):(n.onLeave&&e!==i._hoveredItem&&(i._hoveredItem&&n.onLeave.call(i,t.native,i._hoveredItem),i._hoveredItem=e),n.onHover&&e&&n.onHover.call(i,t.native,e))}});function ln(t,e){var i=new sn({ctx:t.ctx,options:e,chart:t});le.configure(t,i,e),le.addBox(t,i),t.legend=i}var un={id:"legend",_element:sn,beforeInit:function(t){var e=t.options.legend;e&&ln(t,e)},beforeUpdate:function(t){var e=t.options.legend,i=t.legend;e?(W.mergeIf(e,E.global.legend),i?(le.configure(t,i,e),i.options=e):ln(t,e)):i&&(le.removeBox(t,i),delete t.legend)},afterEvent:function(t,e){var i=t.legend;i&&i.handleEvent(e)}},cn=W.noop;E._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var hn=q.extend({initialize:function(t){W.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:cn,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:cn,beforeSetDimensions:cn,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:cn,beforeBuildLabels:cn,buildLabels:cn,afterBuildLabels:cn,beforeFit:cn,fit:function(){var t,e=this,i=e.options,n=e.minSize={},a=e.isHorizontal();i.display?(t=(W.isArray(i.text)?i.text.length:1)*W.options._parseFont(i).lineHeight+2*i.padding,e.width=n.width=a?e.maxWidth:t,e.height=n.height=a?t:e.maxHeight):e.width=n.width=e.height=n.height=0},afterFit:cn,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,i=t.options;if(i.display){var n,a,r,o=W.options._parseFont(i),s=o.lineHeight,l=s/2+i.padding,u=0,c=t.top,h=t.left,d=t.bottom,f=t.right;e.fillStyle=W.valueOrDefault(i.fontColor,E.global.defaultFontColor),e.font=o.string,t.isHorizontal()?(a=h+(f-h)/2,r=c+l,n=f-h):(a="left"===i.position?h+l:f-l,r=c+(d-c)/2,n=d-c,u=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(a,r),e.rotate(u),e.textAlign="center",e.textBaseline="middle";var g=i.text;if(W.isArray(g))for(var p=0,m=0;m<g.length;++m)e.fillText(g[m],0,p,n),p+=s;else e.fillText(g,0,0,n);e.restore()}}});function dn(t,e){var i=new hn({ctx:t.ctx,options:e,chart:t});le.configure(t,i,e),le.addBox(t,i),t.titleBlock=i}var fn={},gn=en,pn=un,mn={id:"title",_element:hn,beforeInit:function(t){var e=t.options.title;e&&dn(t,e)},beforeUpdate:function(t){var e=t.options.title,i=t.titleBlock;e?(W.mergeIf(e,E.global.title),i?(le.configure(t,i,e),i.options=e):dn(t,e)):i&&(le.removeBox(t,i),delete t.titleBlock)}};for(var vn in fn.filler=gn,fn.legend=pn,fn.title=mn,We.helpers=W,function(){function t(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function e(t){return null!=t&&"none"!==t}function i(i,n,a){var r=document.defaultView,o=W._getParentNode(i),s=r.getComputedStyle(i)[n],l=r.getComputedStyle(o)[n],u=e(s),c=e(l),h=Number.POSITIVE_INFINITY;return u||c?Math.min(u?t(s,i,a):h,c?t(l,o,a):h):"none"}W.where=function(t,e){if(W.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];return W.each(t,function(t){e(t)&&i.push(t)}),i},W.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=void 0===i?t:i;for(var n=0,a=t.length;n<a;++n)if(e.call(i,t[n],n,t))return n;return-1},W.findNextWhere=function(t,e,i){W.isNullOrUndef(i)&&(i=-1);for(var n=i+1;n<t.length;n++){var a=t[n];if(e(a))return a}},W.findPreviousWhere=function(t,e,i){W.isNullOrUndef(i)&&(i=t.length);for(var n=i-1;n>=0;n--){var a=t[n];if(e(a))return a}},W.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},W.almostEquals=function(t,e,i){return Math.abs(t-e)<i},W.almostWhole=function(t,e){var i=Math.round(t);return i-e<=t&&i+e>=t},W.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},W.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},W.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},W.toRadians=function(t){return t*(Math.PI/180)},W.toDegrees=function(t){return t*(180/Math.PI)},W._decimalPlaces=function(t){if(W.isFinite(t)){for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}},W.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,a=Math.sqrt(i*i+n*n),r=Math.atan2(n,i);return r<-.5*Math.PI&&(r+=2*Math.PI),{angle:r,distance:a}},W.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},W.aliasPixel=function(t){return t%2==0?0:.5},W._alignPixel=function(t,e,i){var n=t.currentDevicePixelRatio,a=i/2;return Math.round((e-a)*n)/n+a},W.splineCurve=function(t,e,i,n){var a=t.skip?e:t,r=e,o=i.skip?e:i,s=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),l=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),u=s/(s+l),c=l/(s+l),h=n*(u=isNaN(u)?0:u),d=n*(c=isNaN(c)?0:c);return{previous:{x:r.x-h*(o.x-a.x),y:r.y-h*(o.y-a.y)},next:{x:r.x+d*(o.x-a.x),y:r.y+d*(o.y-a.y)}}},W.EPSILON=Number.EPSILON||1e-14,W.splineCurveMonotone=function(t){var e,i,n,a,r,o,s,l,u,c=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),h=c.length;for(e=0;e<h;++e)if(!(n=c[e]).model.skip){if(i=e>0?c[e-1]:null,(a=e<h-1?c[e+1]:null)&&!a.model.skip){var d=a.model.x-n.model.x;n.deltaK=0!==d?(a.model.y-n.model.y)/d:0}n.mK=!i||i.model.skip?n.deltaK:!a||a.model.skip?i.deltaK:this.sign(i.deltaK)!==this.sign(n.deltaK)?0:(i.deltaK+n.deltaK)/2}for(e=0;e<h-1;++e)a=c[e+1],(n=c[e]).model.skip||a.model.skip||(W.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=a.mK=0:(r=n.mK/n.deltaK,o=a.mK/n.deltaK,(l=Math.pow(r,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),n.mK=r*s*n.deltaK,a.mK=o*s*n.deltaK)));for(e=0;e<h;++e)(n=c[e]).model.skip||(a=e<h-1?c[e+1]:null,(i=e>0?c[e-1]:null)&&!i.model.skip&&(n.model.controlPointPreviousX=n.model.x-(u=(n.model.x-i.model.x)/3),n.model.controlPointPreviousY=n.model.y-u*n.mK),a&&!a.model.skip&&(n.model.controlPointNextX=n.model.x+(u=(a.model.x-n.model.x)/3),n.model.controlPointNextY=n.model.y+u*n.mK))},W.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},W.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},W.niceNum=function(t,e){var i=Math.floor(W.log10(t)),n=t/Math.pow(10,i);return(e?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*Math.pow(10,i)},W.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},W.getRelativePosition=function(t,e){var i,n,a=t.originalEvent||t,r=t.target||t.srcElement,o=r.getBoundingClientRect(),s=a.touches;s&&s.length>0?(i=s[0].clientX,n=s[0].clientY):(i=a.clientX,n=a.clientY);var l=parseFloat(W.getStyle(r,"padding-left")),u=parseFloat(W.getStyle(r,"padding-top")),c=parseFloat(W.getStyle(r,"padding-right")),h=parseFloat(W.getStyle(r,"padding-bottom")),d=o.bottom-o.top-u-h;return{x:i=Math.round((i-o.left-l)/(o.right-o.left-l-c)*r.width/e.currentDevicePixelRatio),y:n=Math.round((n-o.top-u)/d*r.height/e.currentDevicePixelRatio)}},W.getConstraintWidth=function(t){return i(t,"max-width","clientWidth")},W.getConstraintHeight=function(t){return i(t,"max-height","clientHeight")},W._calculatePadding=function(t,e,i){return(e=W.getStyle(t,e)).indexOf("%")>-1?i*parseInt(e,10)/100:parseInt(e,10)},W._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},W.getMaximumWidth=function(t){var e=W._getParentNode(t);if(!e)return t.clientWidth;var i=e.clientWidth,n=i-W._calculatePadding(e,"padding-left",i)-W._calculatePadding(e,"padding-right",i),a=W.getConstraintWidth(t);return isNaN(a)?n:Math.min(n,a)},W.getMaximumHeight=function(t){var e=W._getParentNode(t);if(!e)return t.clientHeight;var i=e.clientHeight,n=i-W._calculatePadding(e,"padding-top",i)-W._calculatePadding(e,"padding-bottom",i),a=W.getConstraintHeight(t);return isNaN(a)?n:Math.min(n,a)},W.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},W.retinaScale=function(t,e){var i=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==i){var n=t.canvas,a=t.height,r=t.width;n.height=a*i,n.width=r*i,t.ctx.scale(i,i),n.style.height||n.style.width||(n.style.height=a+"px",n.style.width=r+"px")}},W.fontString=function(t,e,i){return e+" "+t+"px "+i},W.longestText=function(t,e,i,n){var a=(n=n||{}).data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},r=n.garbageCollect=[],n.font=e),t.font=e;var o,s,l,u,c,h=0,d=i.length;for(o=0;o<d;o++)if(null!=(u=i[o])&&!0!==W.isArray(u))h=W.measureText(t,a,r,h,u);else if(W.isArray(u))for(s=0,l=u.length;s<l;s++)null==(c=u[s])||W.isArray(c)||(h=W.measureText(t,a,r,h,c));var f=r.length/2;if(f>i.length){for(o=0;o<f;o++)delete a[r[o]];r.splice(0,f)}return h},W.measureText=function(t,e,i,n,a){var r=e[a];return r||(r=e[a]=t.measureText(a).width,i.push(a)),r>n&&(n=r),n},W.numberOfLabelLines=function(t){var e=1;return W.each(t,function(t){W.isArray(t)&&t.length>e&&(e=t.length)}),e},W.color=_?function(t){return t instanceof CanvasGradient&&(t=E.global.defaultColor),_(t)}:function(t){return console.error("Color.js not found!"),t},W.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:W.color(t).saturate(.5).darken(.1).rgbString()}}(),We._adapters=je,We.Animation=Y,We.animationService=X,We.controllers=Zt,We.DatasetController=tt,We.defaults=E,We.Element=q,We.elements=vt,We.Interaction=Qt,We.layouts=le,We.platform=be,We.plugins=we,We.Scale=ai,We.scaleService=Me,We.Ticks=Ze,We.Tooltip=Pe,We.helpers.each(Zi,function(t,e){We.scaleService.registerScaleType(e,t,t._defaults)}),fn)fn.hasOwnProperty(vn)&&We.plugins.register(fn[vn]);We.platform.initialize();var yn=We;return"undefined"!=typeof window&&(window.Chart=We),We.Chart=We,We.Legend=fn.legend._element,We.Title=fn.title._element,We.pluginService=We.plugins,We.PluginBase=We.Element.extend({}),We.canvasHelpers=We.helpers.canvas,We.layoutService=We.layouts,We.LinearScaleBase=li,We.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(t){We[t]=function(e,i){return new We(e,We.helpers.merge(i||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}}),yn}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echarts=e():t.echarts=e()}(this,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}return i.m=t,i.c=e,i.p="",i(0)}([function(t,e,i){t.exports=i(1),i(92),i(128),i(133),i(142),i(146),i(156),i(177),i(189),i(210),i(214),i(218),i(233),i(239),i(246),i(252),i(256),i(261),i(107),i(265),i(271),i(275),i(286),i(219),i(289),i(290),i(304),i(319),i(323),i(326),i(335),i(349)},function(t,e,i){var n=i(2),a=i(24),r=i(25),o=i(26),s=i(19),l=i(27),u=i(28),c=i(41),h=i(42),d=i(78),f=i(3),g=i(38),p=i(79),m=i(32),v=f.each,y=["echarts","chart","component"],x=["transform","filter","statistic"];function _(t){return function(e,i,n){e=e&&e.toLowerCase(),m.prototype[t].call(this,e,i,n)}}function b(){m.call(this)}function w(t,e,i){i=i||{},"string"==typeof e&&(e=H[e]),e&&v(F,function(t){t(e)}),this._dom=t,this._zr=d.init(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio}),this._theme=f.clone(e),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new a(this),this._coordSysMgr=new r,m.call(this),this._messageCenter=new b,this._initEvents(),this.resize=f.bind(this.resize,this)}b.prototype.on=_("on"),b.prototype.off=_("off"),b.prototype.one=_("one"),f.mixin(b,m);var M=w.prototype;M.getDom=function(){return this._dom},M.getZr=function(){return this._zr},M.setOption=function(t,e,i){this._model&&!e||(this._model=new n(null,null,this._theme,new o(this._api))),this._model.setOption(t,F),S.prepareAndUpdate.call(this),!i&&this._zr.refreshImmediately()},M.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},M.getModel=function(){return this._model},M.getOption=function(){return this._model.getOption()},M.getWidth=function(){return this._zr.getWidth()},M.getHeight=function(){return this._zr.getHeight()},M.getRenderedCanvas=function(t){if(p.canvasSupported){(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,i=e.storage.getDisplayList();return f.each(i,function(t){t.stopAnimation(!0)}),e.painter.getRenderedCanvas(t)}},M.getDataURL=function(t){var e=this._model,i=[],n=this;v((t=t||{}).excludeComponents,function(t){e.eachComponent({mainType:t},function(t){var e=n._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)})});var a=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return v(i,function(t){t.group.ignore=!1}),a},M.getConnectedDataURL=function(t){if(p.canvasSupported){var e=this.group,i=Math.min,n=Math.max,a=1/0;if(j[e]){var r=a,o=a,s=-1/0,l=-1/0,u=[],c=t&&t.pixelRatio||1;for(var g in G){var m=G[g];if(m.group===e){var y=m.getRenderedCanvas(f.clone(t)),x=m.getDom().getBoundingClientRect();r=i(x.left,r),o=i(x.top,o),s=n(x.right,s),l=n(x.bottom,l),u.push({dom:y,left:x.left,top:x.top})}}var _=(s*=c)-(r*=c),b=(l*=c)-(o*=c),w=f.createCanvas();w.width=_,w.height=b;var M=d.init(w);return v(u,function(t){var e=new h.Image({style:{x:t.left*c-r,y:t.top*c-o,image:t.dom}});M.add(e)}),M.refreshImmediately(),w.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}};var S={update:function(t){var e=this._model,i=this._api,n=this._coordSysMgr;if(e){e.restoreData(),n.create(this._model,this._api),k.call(this,e,i),L.call(this,e),n.update(e,i),D.call(this,e,t),P.call(this,e,t),z.call(this,e,t);var a=e.get("backgroundColor")||"transparent",r=this._zr.painter;if(r.isSingleCanvas&&r.isSingleCanvas())this._zr.configLayer(0,{clearColor:a});else{if(!p.canvasSupported){var o=g.parse(a);a=g.stringify(o,"rgb"),0===o[3]&&(a="transparent")}this._dom.style.backgroundColor=a=a}}},updateView:function(t){var e=this._model;e&&(D.call(this,e,t),P.call(this,e,t),T.call(this,"updateView",e,t))},updateVisual:function(t){var e=this._model;e&&(P.call(this,e,t),T.call(this,"updateVisual",e,t))},updateLayout:function(t){var e=this._model;e&&(D.call(this,e,t),T.call(this,"updateLayout",e,t))},highlight:function(t){A.call(this,"highlight",t)},downplay:function(t){A.call(this,"downplay",t)},prepareAndUpdate:function(t){var e=this._model;C.call(this,"component",e),C.call(this,"chart",e),S.update.call(this,t)}};function A(t,e){var i=this._model;i&&i.eachComponent({mainType:"series",query:e},function(n,a){var r=this._chartsMap[n.__viewId];r&&r.__alive&&r[t](n,i,this._api,e)},this)}M.resize=function(){this._zr.resize();var t=this._model&&this._model.resetOption("media");S[t?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize()};var I=i(88);function T(t,e,i){var n=this._api;v(this._componentsViews,function(a){var r=a.__model;a[t](r,e,n,i),R(r,a)},this),e.eachSeries(function(a,r){var o=this._chartsMap[a.__viewId];o[t](a,e,n,i),R(a,o)},this)}function C(t,e){for(var i="component"===t,n=i?this._componentsViews:this._chartsViews,a=i?this._componentsMap:this._chartsMap,r=this._zr,o=0;o<n.length;o++)n[o].__alive=!1;for(e[i?"eachComponent":"eachSeries"](function(t,o){if(i){if("series"===t)return}else o=t;var l=o.id+"_"+o.type,h=a[l];if(!h){var d=s.parseClassType(o.type),f=i?u.getClass(d.main,d.sub):c.getClass(d.sub);if(!f)return;(h=new f).init(e,this._api),a[l]=h,n.push(h),r.add(h.group)}o.__viewId=l,h.__alive=!0,h.__id=l,h.__model=o},this),o=0;o<n.length;){var l=n[o];l.__alive?o++:(r.remove(l.group),l.dispose(e,this._api),n.splice(o,1),delete a[l.__id])}}function k(t,e){v(x,function(i){v(B[i]||[],function(i){i(t,e)})})}function L(t){var e={};t.eachSeries(function(t){var i=t.get("stack"),n=t.getData();if(i&&"list"===n.type){var a=e[i];a&&(n.stackedOn=a),e[i]=n}})}function D(t,e){var i=this._api;v(N,function(n){n(t,i,e)})}function P(t,e){v(y,function(i){v(W[i]||[],function(i){i(t,e)})})}function z(t,e){var i=this._api;v(this._componentsViews,function(n){var a=n.__model;n.render(a,t,i,e),R(a,n)},this),v(this._chartsViews,function(t){t.__alive=!1},this),t.eachSeries(function(n,a){var r=this._chartsMap[n.__viewId];r.__alive=!0,r.render(n,t,i,e),r.group.silent=!!n.get("silent"),R(n,r)},this),v(this._chartsViews,function(e){e.__alive||e.remove(t,i)},this)}M.showLoading=function(t,e){f.isObject(t)&&(e=t,t="default"),this.hideLoading();var i=I(this._api,e),n=this._zr;this._loadingFX=i,n.add(i)},M.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},M.makeActionFromEvent=function(t){var e=f.extend({},t);return e.type=V[t.type],e},M.dispatchAction=function(t,e){var i=E[t.type];if(i){var n=i.actionInfo,a=n.update||"update",r=[t],o=!1;t.batch&&(o=!0,r=f.map(t.batch,function(e){return(e=f.defaults(f.extend({},e),t)).batch=null,e}));for(var s,l=[],u="highlight"===t.type||"downplay"===t.type,c=0;c<r.length;c++){var h=r[c];(s=(s=i.action(h,this._model))||f.extend({},h)).type=n.event||s.type,l.push(s),u&&S[a].call(this,h)}"none"!==a&&!u&&S[a].call(this,t),e||this._messageCenter.trigger((s=o?{type:n.event||t.type,batch:l}:l[0]).type,s)}},M.on=_("on"),M.off=_("off"),M.one=_("one");var O=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"];function R(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){null!=i&&(t.z=i),null!=n&&(t.zlevel=n)})}M._initEvents=function(){v(O,function(t){this._zr.on(t,function(e){var i=this.getModel(),n=e.target;if(n&&null!=n.dataIndex){var a=n.dataModel||i.getSeriesByIndex(n.seriesIndex),r=a&&a.getDataParams(n.dataIndex,n.dataType)||{};r.event=e,r.type=t,this.trigger(t,r)}else n&&n.eventData&&this.trigger(t,n.eventData)},this)},this),v(V,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},M.isDisposed=function(){return this._disposed},M.clear=function(){this.setOption({},!0)},M.dispose=function(){this._disposed=!0;var t=this._api,e=this._model;v(this._componentsViews,function(i){i.dispose(e,t)}),v(this._chartsViews,function(i){i.dispose(e,t)}),this._zr.dispose(),delete G[this.id]},f.mixin(w,m);var E=[],V={},N=[],B={},F=[],W={},H={},G={},j={},Z=new Date-0,q=new Date-0,U="_echarts_instance_",Y={version:"3.1.10",dependencies:{zrender:"3.1.0"},init:function(t,e,i){if(d.version.replace(".","")-0<Y.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+d.version+" is too old for ECharts "+Y.version+". Current version need ZRender "+Y.dependencies.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.");var n=new w(t,e,i);return n.id="ec_"+Z++,G[n.id]=n,t.setAttribute&&t.setAttribute(U,n.id),function(t){var e="__connectUpdateStatus";function i(t,i){for(var n=0;n<t.length;n++)t[n][e]=i}f.each(V,function(n,a){t._messageCenter.on(a,function(n){if(j[t.group]&&0!==t[e]){var a=t.makeActionFromEvent(n),r=[];for(var o in G){var s=G[o];s!==t&&s.group===t.group&&r.push(s)}i(r,0),v(r,function(t){1!==t[e]&&t.dispatchAction(a)}),i(r,2)}})})}(n),n},connect:function(t){if(f.isArray(t)){var e=t;t=null,f.each(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+q++,f.each(e,function(e){e.group=t})}return j[t]=!0,t},disConnect:function(t){j[t]=!1},dispose:function(t){f.isDom(t)?t=Y.getInstanceByDom(t):"string"==typeof t&&(t=G[t]),t instanceof w&&!t.isDisposed()&&t.dispose()},getInstanceByDom:function(t){var e=t.getAttribute(U);return G[e]},getInstanceById:function(t){return G[t]},registerTheme:function(t,e){H[t]=e},registerPreprocessor:function(t){F.push(t)},registerProcessor:function(t,e){if(f.indexOf(x,t)<0)throw new Error("stage should be one of "+x);(B[t]||(B[t]=[])).push(e)},registerAction:function(t,e,i){"function"==typeof e&&(i=e,e="");var n=f.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,E[n]||(E[n]={action:i,actionInfo:t}),V[e]=n},registerCoordinateSystem:function(t,e){r.register(t,e)},registerLayout:function(t){f.indexOf(N,t)<0&&N.push(t)},registerVisualCoding:function(t,e){if(f.indexOf(y,t)<0)throw new Error("stage should be one of "+y);(W[t]||(W[t]=[])).push(e)},extendChartView:function(t){return c.extend(t)},extendComponentModel:function(t){return s.extend(t)},extendSeriesModel:function(t){return l.extend(t)},extendComponentView:function(t){return u.extend(t)},setCanvasCreator:function(t){f.createCanvas=t}};Y.registerVisualCoding("echarts",f.curry(i(89),"","itemStyle")),Y.registerPreprocessor(i(90)),Y.registerAction({type:"highlight",event:"highlight",update:"highlight"},f.noop),Y.registerAction({type:"downplay",event:"downplay",update:"downplay"},f.noop),Y.graphic=i(42),Y.number=i(7),Y.format=i(6),Y.matrix=i(17),Y.vector=i(16),Y.util={},v(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend"],function(t){Y.util[t]=f[t]}),t.exports=Y},function(t,e,i){var n=i(3),a=i(5),r=i(8),o=n.each,s=n.filter,l=n.map,u=n.isArray,c=n.indexOf,h=n.isObject,d=i(19),f=i(23),g=r.extend({constructor:g,init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new r(i),this._optionManager=n},setOption:function(t,e){n.assert(!("\0_ec_inner"in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption()},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var n=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(n)):p.call(this,n),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var a=i.getTimelineOption(this);a&&(this.mergeOption(a),e=!0)}if(!t||"recreate"===t||"media"===t){var r=i.getMediaOption(this,this._api);r.length&&o(r,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,i=this._componentsMap,r=[];o(t,function(t,i){null!=t&&(d.hasClass(i)?r.push(i):e[i]=null==e[i]?n.clone(t):n.merge(e[i],t,!0))}),d.topologicalTravel(r,d.getAllClassMainTypes(),function(r,s){var l=a.normalizeToArray(t[r]),u=a.mappingToExists(i[r],l);!function(t,e){var i={};o(e,function(t,e){var n=t.exist;n&&(i[n.id]=t)}),o(e,function(e,a){var r=e.option;if(n.assert(!r||null==r.id||!i[r.id]||i[r.id]===e,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&(i[r.id]=e),h(r)){var o=function(t,e,i){return e.type?e.type:i?i.subType:d.determineSubType(t,e)}(t,r,e.exist);e.keyInfo={mainType:t,subType:o}}}),o(e,function(t,e){var n=t.exist,a=t.option,r=t.keyInfo;if(h(a)){if(r.name=null!=a.name?a.name+"":n?n.name:"\0-",n)r.id=n.id;else if(null!=a.id)r.id=a.id+"";else{var o=0;do{r.id="\0"+r.name+"\0"+o++}while(i[r.id])}i[r.id]=t}})}(r,u);var c=function(t,e){n.isArray(e)||(e=e?[e]:[]);var i={};return o(e,function(e){i[e]=(t[e]||[]).slice()}),i}(i,s);e[r]=[],i[r]=[],o(u,function(t,a){var o=t.exist,s=t.option;if(n.assert(h(s)||o,"Empty component definition"),s){var l=d.getClass(r,t.keyInfo.subType,!0);o&&o instanceof l?(o.mergeOption(s,this),o.optionUpdated(this)):(o=new l(s,this,this,n.extend({dependentModels:c,componentIndex:a},t.keyInfo))).optionUpdated(this)}else o.mergeOption({},this),o.optionUpdated(this);i[r][a]=o,e[r][a]=o.option},this),"series"===r&&(this._seriesIndices=m(i.series))},this)},getOption:function(){var t=n.clone(this.option);return o(t,function(e,i){if(d.hasClass(i)){for(var n=(e=a.normalizeToArray(e)).length-1;n>=0;n--)a.isIdInner(e[n])&&e.splice(n,1);t[i]=e}}),delete t["\0_ec_inner"],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap[t];if(i)return i[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i,n=t.index,a=t.id,r=t.name,o=this._componentsMap[e];if(!o||!o.length)return[];if(null!=n)u(n)||(n=[n]),i=s(l(n,function(t){return o[t]}),function(t){return!!t});else if(null!=a){var h=u(a);i=s(o,function(t){return h&&c(a,t.id)>=0||!h&&t.id===a})}else if(null!=r){var d=u(r);i=s(o,function(t){return d&&c(r,t.name)>=0||!d&&t.name===r})}return v(i,t)},findComponents:function(t){var e,i,n,a,r,o=t.mainType,l=(i=o+"Index",n=o+"Id",a=o+"Name",(e=t.query)&&(e.hasOwnProperty(i)||e.hasOwnProperty(n)||e.hasOwnProperty(a))?{mainType:o,index:e[i],id:e[n],name:e[a]}:null);return r=v(l?this.queryComponents(l):this._componentsMap[o],t),t.filter?s(r,t.filter):r},eachComponent:function(t,e,i){var a=this._componentsMap;if("function"==typeof t)i=e,e=t,o(a,function(t,n){o(t,function(t,a){e.call(i,n,t,a)})});else if(n.isString(t))o(a[t],e,i);else if(h(t)){var r=this.findComponents(t);o(r,e,i)}},getSeriesByName:function(t){return s(this._componentsMap.series,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.series[t]},getSeriesByType:function(t){return s(this._componentsMap.series,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(t,e){y(this),o(this._seriesIndices,function(i){t.call(e,this._componentsMap.series[i],i)},this)},eachRawSeries:function(t,e){o(this._componentsMap.series,t,e)},eachSeriesByType:function(t,e,i){y(this),o(this._seriesIndices,function(n){var a=this._componentsMap.series[n];a.subType===t&&e.call(i,a,n)},this)},eachRawSeriesByType:function(t,e,i){return o(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return y(this),n.indexOf(this._seriesIndices,t.componentIndex)<0},filterSeries:function(t,e){y(this);var i=s(this._componentsMap.series,t,e);this._seriesIndices=m(i)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=m(t.series);var e=[];o(t,function(t,i){e.push(i)}),d.topologicalTravel(e,d.getAllClassMainTypes(),function(e,i){o(t[e],function(t){t.restoreData()})})}});function p(t){t=t,this.option={},this.option["\0_ec_inner"]=1,this._componentsMap={},this._seriesIndices=null,function(t,e){for(var i in e)d.hasClass(i)||("object"==typeof e[i]?t[i]=t[i]?n.merge(t[i],e[i],!1):n.clone(e[i]):null==t[i]&&(t[i]=e[i]))}(t,this._theme.option),n.merge(t,f,!1),this.mergeOption(t)}function m(t){return l(t,function(t){return t.componentIndex})||[]}function v(t,e){return e.hasOwnProperty("subType")?s(t,function(t){return t.subType===e.subType}):t}function y(t){if(!t._seriesIndices)throw new Error("Series has not been initialized yet.")}t.exports=g},function(t,e,i){var n,a=i(4),r={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},o=Object.prototype.toString,s=Array.prototype,l=s.forEach,u=s.filter,c=s.slice,h=s.map,d=s.reduce;function f(t){if("object"==typeof t&&null!==t){var e=t;if(t instanceof Array){e=[];for(var i=0,n=t.length;i<n;i++)e[i]=f(t[i])}else if(!y(t)&&!x(t))for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=f(t[a]));return e}return t}function g(t,e,i){if(!v(e)||!v(t))return i?f(e):t;for(var n in e)if(e.hasOwnProperty(n)){var a=t[n],r=e[n];!v(r)||!v(a)||m(r)||m(a)||x(r)||x(a)||y(r)||y(a)?!i&&n in t||(t[n]=f(e[n])):g(a,r,i)}return t}function p(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function m(t){return"[object Array]"===o.call(t)}function v(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function y(t){return!!r[o.call(t)]||t instanceof a}function x(t){return t&&1===t.nodeType&&"string"==typeof t.nodeName}var _={inherits:function(t,e){var i=t.prototype;function n(){}for(var a in n.prototype=e.prototype,t.prototype=new n,i)t.prototype[a]=i[a];t.prototype.constructor=t,t.superClass=e},mixin:function(t,e,i){p(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,i)},clone:f,merge:g,mergeAll:function(t,e){for(var i=t[0],n=1,a=t.length;n<a;n++)i=g(i,t[n],e);return i},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},defaults:p,getContext:function(){return n||(n=_.createCanvas().getContext("2d")),n},createCanvas:function(){return document.createElement("canvas")},indexOf:function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1},slice:function(){return Function.call.apply(c,arguments)},find:function(t,e,i){if(t&&e)for(var n=0,a=t.length;n<a;n++)if(e.call(i,t[n],n,t))return t[n]},isArrayLike:function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},each:function(t,e,i){if(t&&e)if(t.forEach&&t.forEach===l)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,a=t.length;n<a;n++)e.call(i,t[n],n,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)},map:function(t,e,i){if(t&&e){if(t.map&&t.map===h)return t.map(e,i);for(var n=[],a=0,r=t.length;a<r;a++)n.push(e.call(i,t[a],a,t));return n}},reduce:function(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===d)return t.reduce(e,i,n);for(var a=0,r=t.length;a<r;a++)i=e.call(n,i,t[a],a,t);return i}},filter:function(t,e,i){if(t&&e){if(t.filter&&t.filter===u)return t.filter(e,i);for(var n=[],a=0,r=t.length;a<r;a++)e.call(i,t[a],a,t)&&n.push(t[a]);return n}},bind:function(t,e){var i=c.call(arguments,2);return function(){return t.apply(e,i.concat(c.call(arguments)))}},curry:function(t){var e=c.call(arguments,1);return function(){return t.apply(this,e.concat(c.call(arguments)))}},isArray:m,isString:function(t){return"[object String]"===o.call(t)},isObject:v,isFunction:function(t){return"function"==typeof t},isBuildInObject:y,isDom:x,retrieve:function(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]},assert:function(t,e){if(!t)throw new Error(e)},noop:function(){}};t.exports=_},function(t,e){var i=function(t){this.colorStops=t||[]};i.prototype={constructor:i,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}},t.exports=i},function(t,e,i){var n=i(6),a=i(7),r=i(3),o={createNameEach:function(t,e){t=t.slice();var i=r.map(t,o.capitalFirst);e=(e||[]).slice();var n=r.map(e,o.capitalFirst);return function(a,o){r.each(t,function(t,r){for(var s={name:t,capital:i[r]},l=0;l<e.length;l++)s[e[l]]=t+n[l];a.call(o,s)})}},capitalFirst:function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}};o.eachAxisDim=o.createNameEach(["x","y","z","radius","angle"],["axisIndex","axis","index"]),o.normalizeToArray=function(t){return r.isArray(t)?t:null==t?[]:[t]},o.createLinkedNodesFinder=function(t,e,i){return function(a){var o,s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!a)return s;n(a,s);do{o=!1,t(l)}while(o);function l(t){!function(t,e){return r.indexOf(e.nodes,t)>=0}(t,s)&&function(t,n){var a=!1;return e(function(e){r.each(i(t,e)||[],function(t){n.records[e.name][t]&&(a=!0)})}),a}(t,s)&&(n(t,s),o=!0)}return s};function n(t,n){n.nodes.push(t),e(function(e){r.each(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}},o.defaultEmphasis=function(t,e){if(t){var i=t.emphasis=t.emphasis||{},n=t.normal=t.normal||{};r.each(e,function(t){var e=r.retrieve(i[t],n[t]);null!=e&&(i[t]=e)})}},o.LABEL_OPTIONS=["position","show","textStyle","distance","formatter"],o.getDataItemValue=function(t){return t&&(null==t.value?t:t.value)},o.converDataValue=function(t,e){var i=e&&e.type;return"ordinal"===i?t:("time"!==i||isFinite(t)||null==t||"-"===t||(t=+a.parseDate(t)),null==t||""===t?NaN:+t)},o.dataFormatMixin={getDataParams:function(t,e){var i=this.getData(e),n=this.seriesIndex,a=this.name,r=this.getRawValue(t,e),o=i.getRawIndex(t),s=i.getName(t,!0),l=i.getRawDataItem(t);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:n,seriesName:a,name:s,dataIndex:o,data:l,dataType:e,value:r,color:i.getItemVisual(t,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,i,a){e=e||"normal";var o=this.getData(i).getItemModel(t),s=this.getDataParams(t,i);null!=a&&r.isArray(s.value)&&(s.value=s.value[a]);var l=o.get(["label",e,"formatter"]);return"function"==typeof l?(s.status=e,l(s)):"string"==typeof l?n.formatTpl(l,s):void 0},getRawValue:function(t,e){var i=this.getData(e).getRawDataItem(t);if(null!=i)return r.isObject(i)&&!r.isArray(i)?i.value:i},formatTooltip:r.noop},o.mappingToExists=function(t,e){e=(e||[]).slice();var i=r.map(t||[],function(t,e){return{exist:t}});return r.each(e,function(t,n){if(r.isObject(t))for(var a=0;a<i.length;a++){var s=i[a].exist;if(!i[a].option&&(null!=t.id&&s.id===t.id+""||null!=t.name&&!o.isIdInner(t)&&!o.isIdInner(s)&&s.name===t.name+"")){i[a].option=t,e[n]=null;break}}}),r.each(e,function(t,e){if(r.isObject(t)){for(var n=0;n<i.length;n++)if(!i[n].option&&!o.isIdInner(i[n].exist)&&null==t.id){i[n].option=t;break}n>=i.length&&i.push({option:t})}}),i},o.isIdInner=function(t){return r.isObject(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")},t.exports=o},function(t,e,i){var n=i(3),a=i(7),r=["a","b","c","d","e","f","g"];function o(t,e){return"{"+t+(null==e?"":e)+"}"}function s(t){return t<10?"0"+t:t}t.exports={normalizeCssArray:function(t){var e=t.length;return"number"==typeof t?[t,t,t,t]:2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},addCommas:function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")},toCamelCase:function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},encodeHTML:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},formatTpl:function(t,e){n.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var a=e[0].$vars,s=0;s<a.length;s++){var l=r[s];t=t.replace(o(l),o(l,0))}for(var u=0;u<i;u++)for(var c=0;c<a.length;c++)t=t.replace(o(r[c],u),e[u][a[c]]);return t},formatTime:function(t,e){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=a.parseDate(e),n=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),l=i.getHours(),u=i.getMinutes(),c=i.getSeconds();return t.replace("MM",s(r)).toLowerCase().replace("yyyy",n).replace("yy",n%100).replace("dd",s(o)).replace("d",o).replace("hh",s(l)).replace("h",l).replace("mm",s(u)).replace("m",u).replace("ss",s(c)).replace("s",c)}}},function(t,e){var i={linearMap:function(t,e,i,n){var a=e[1]-e[0],r=i[1]-i[0];if(0===a)return 0===r?i[0]:(i[0]+i[1])/2;if(n)if(a>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/a*r+i[0]},parsePercent:function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(i=t,i.replace(/^\s+/,"").replace(/\s+$/,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var i},round:function(t){return+(+t).toFixed(10)},asc:function(t){return t.sort(function(t,e){return t-e}),t},getPrecision:function(t){if(isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i},getPixelPrecision:function(t,e){var i=Math.log,n=Math.LN10,a=Math.floor(i(t[1]-t[0])/n),r=Math.round(i(Math.abs(e[1]-e[0]))/n);return Math.max(-a+r,0)},MAX_SAFE_INTEGER:9007199254740991,remRadian:function(t){var e=2*Math.PI;return(t%e+e)%e},isRadianAroundZero:function(t){return t>-1e-4&&t<1e-4},parseDate:function(t){return t instanceof Date?t:new Date("string"==typeof t?t.replace(/-/g,"/"):Math.round(t))},quantity:function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},nice:function(t,e){var n=i.quantity(t),a=t/n;return(e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10)*n}};t.exports=i},function(t,e,i){var n=i(3),a=i(9);function r(t,e,i,n){this.parentModel=e,this.ecModel=i,this.option=t,this.init&&(arguments.length<=4?this.init(t,e,i,n):this.init.apply(this,arguments))}r.prototype={constructor:r,init:null,mergeOption:function(t){n.merge(this.option,t,!0)},get:function(t,e){if(!t)return this.option;"string"==typeof t&&(t=t.split("."));for(var i=this.option,n=this.parentModel,a=0;a<t.length&&(!t[a]||null!=(i=i&&"object"==typeof i?i[t[a]]:null));a++);return null==i&&n&&!e&&(i=n.get(t)),i},getShallow:function(t,e){var i=this.option,n=i&&i[t],a=this.parentModel;return null==n&&a&&!e&&(n=a.getShallow(t)),n},getModel:function(t,e){var i=this.get(t,!0),n=this.parentModel;return new r(i,e||n&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(n.clone(this.option))},setReadOnly:function(t){a.setReadOnly(this,t)}},a.enableClassExtend(r);var o=n.mixin;o(r,i(10)),o(r,i(12)),o(r,i(13)),o(r,i(18)),t.exports=r},function(t,e,i){var n=i(3),a={},r="___EC__COMPONENT__CONTAINER___",o=a.parseClassType=function(t){var e={main:"",sub:""};return t&&(t=t.split("."),e.main=t[0]||"",e.sub=t[1]||""),e};function s(t,e){var i=n.slice(arguments,2);return this.superClass.prototype[e].apply(t,i)}function l(t,e,i){return this.superClass.prototype[e].apply(t,i)}a.enableClassExtend=function(t,e){t.extend=function(i){var a=function(){e&&e.apply(this,arguments),t.apply(this,arguments)};return n.extend(a.prototype,i),a.extend=this.extend,a.superCall=s,a.superApply=l,n.inherits(a,this),a.superClass=this,a}},a.enableClassManagement=function(t,e){e=e||{};var i={};if(t.registerClass=function(t,e){if(e)if((e=o(e)).sub)e.sub!==r&&((function(t){var e=i[t.main];return e&&e[r]||((e=i[t.main]={})[r]=!0),e}(e))[e.sub]=t);else{if(i[e.main])throw new Error(e.main+"exists.");i[e.main]=t}return t},t.getClass=function(t,e,n){var a=i[t];if(a&&a[r]&&(a=e?a[e]:null),n&&!a)throw new Error("Component "+t+"."+(e||"")+" not exists. Load it first.");return a},t.getClassesByMainType=function(t){t=o(t);var e=[],a=i[t.main];return a&&a[r]?n.each(a,function(t,i){i!==r&&e.push(t)}):e.push(a),e},t.hasClass=function(t){return t=o(t),!!i[t.main]},t.getAllClassMainTypes=function(){var t=[];return n.each(i,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=o(t);var e=i[t.main];return e&&e[r]},t.parseClassType=o,e.registerWhenExtend){var a=t.extend;a&&(t.extend=function(e){var i=a.call(this,e);return t.registerClass(i,e.type)})}return t},a.setReadOnly=function(t,e){},t.exports=a},function(t,e,i){var n=i(11)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getLineStyle:function(t){var e=n.call(this,t),i=this.getLineDash();return i&&(e.lineDash=i),e},getLineDash:function(){var t=this.get("type");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}}},function(t,e,i){var n=i(3);t.exports=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e){for(var i={},a=0;a<t.length;a++){var r=t[a][1];if(!(e&&n.indexOf(e,r)>=0)){var o=this.getShallow(r);null!=o&&(i[t[a][0]]=o)}}return i}}},function(t,e,i){t.exports={getAreaStyle:i(11)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(t,e,i){var n=i(14);function a(t,e){return t&&t.getShallow(e)}t.exports={getTextColor:function(){var t=this.ecModel;return this.getShallow("color")||t&&t.get("textStyle.color")},getFont:function(){var t=this.ecModel,e=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||a(e,"fontStyle"),this.getShallow("fontWeight")||a(e,"fontWeight"),(this.getShallow("fontSize")||a(e,"fontSize")||12)+"px",this.getShallow("fontFamily")||a(e,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(t){var e=this.get("textStyle")||{};return n.getBoundingRect(t,this.getFont(),e.align,e.baseline)},ellipsis:function(t,e,i){return n.ellipsis(t,this.getFont(),e,i)}}},function(t,e,i){var n={},a=0,r=i(3),o=i(15);function s(t,e){var i=t+":"+e;if(n[i])return n[i];for(var r=(t+"").split("\n"),o=0,s=0,l=r.length;s<l;s++)o=Math.max(c.measureText(r[s],e).width,o);return a>5e3&&(a=0,n={}),a++,n[i]=o,o}function l(t,e,i,n){for(var a=0;;a++){var r=s(t,e);if(r<i||a>=n.maxIterations){t+=n.ellipsis;break}var o=0===a?u(t,i,n):Math.floor(t.length*i/r);if(o<n.minCharacters){t="";break}t=t.substr(0,o)}return t}function u(t,e,i){for(var n=0,a=0,r=t.length;a<r&&n<e;a++){var o=t.charCodeAt(a);n+=0<=o&&o<=127?i.ascCharWidth:i.cnCharWidth}return a}var c={getWidth:s,getBoundingRect:function(t,e,i,n){var a=((t||"")+"").split("\n").length,r=s(t,e),l=s("\u56fd",e),u=new o(0,0,r,a*l);switch(u.lineHeight=l,n){case"bottom":case"alphabetic":u.y-=l;break;case"middle":u.y-=l/2}switch(i){case"end":case"right":u.x-=u.width;break;case"center":u.x-=u.width/2}return u},adjustTextPositionOnRect:function(t,e,i,n){var a=e.x,r=e.y,o=e.height,s=e.width,l=i.height,u=o/2-l/2,c="left";switch(t){case"left":a-=n,r+=u,c="right";break;case"right":a+=n+s,r+=u,c="left";break;case"top":a+=s/2,r-=n+l,c="center";break;case"bottom":a+=s/2,r+=o+n,c="center";break;case"inside":a+=s/2,r+=u,c="center";break;case"insideLeft":a+=n,r+=u,c="left";break;case"insideRight":a+=s-n,r+=u,c="right";break;case"insideTop":a+=s/2,r+=n,c="center";break;case"insideBottom":a+=s/2,r+=o-l-n,c="center";break;case"insideTopLeft":a+=n,r+=n,c="left";break;case"insideTopRight":a+=s-n,r+=n,c="right";break;case"insideBottomLeft":a+=n,r+=o-l-n;break;case"insideBottomRight":a+=s-n,r+=o-l-n,c="right"}return{x:a,y:r,textAlign:c,textBaseline:"top"}},ellipsis:function(t,e,i,n){if(!i)return"";n=r.defaults({ellipsis:"...",minCharacters:3,maxIterations:3,cnCharWidth:s("\u56fd",e),ascCharWidth:s("a",e)},n,!0),i-=s(n.ellipsis);for(var a=(t+"").split("\n"),o=0,u=a.length;o<u;o++)a[o]=l(a[o],e,i,n);return a.join("\n")},measureText:function(t,e){var i=r.getContext();return i.font=e,i.measureText(t)}};t.exports=c},function(t,e,i){"use strict";var n,a,r=i(16),o=i(17),s=r.applyTransform,l=Math.min,u=Math.abs,c=Math.max;function h(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}h.prototype={constructor:h,union:function(t){var e=l(t.x,this.x),i=l(t.y,this.y);this.width=c(t.x+t.width,this.x+this.width)-e,this.height=c(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:(n=[],a=[],function(t){t&&(n[0]=this.x,n[1]=this.y,a[0]=this.x+this.width,a[1]=this.y+this.height,s(n,n,t),s(a,a,t),this.x=l(n[0],a[0]),this.y=l(n[1],a[1]),this.width=u(a[0]-n[0]),this.height=u(a[1]-n[1]))}),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,a=o.create();return o.translate(a,a,[-e.x,-e.y]),o.scale(a,a,[i,n]),o.translate(a,a,[t.x,t.y]),a},intersect:function(t){var e=this;return!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new h(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},t.exports=h},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(t,e){var n=new i(2);return n[0]=t||0,n[1]=e||0,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,i){return t[0]=e,t[1]=i,t},add:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},scaleAndAdd:function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},sub:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},normalize:function(t,e){var i=n.len(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},applyTransform:function(t,e,i){var n=e[0],a=e[1];return t[0]=i[0]*n+i[2]*a+i[4],t[1]=i[1]*n+i[3]*a+i[5],t},min:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},max:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}};n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,t.exports=n},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(){var t=new i(6);return n.identity(t),t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,i){var n=e[1]*i[0]+e[3]*i[1],a=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],o=e[0]*i[4]+e[2]*i[5]+e[4],s=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=e[0]*i[0]+e[2]*i[1],t[1]=n,t[2]=a,t[3]=r,t[4]=o,t[5]=s,t},translate:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},rotate:function(t,e,i){var n=e[0],a=e[2],r=e[4],o=e[1],s=e[3],l=e[5],u=Math.sin(i),c=Math.cos(i);return t[0]=n*c+o*u,t[1]=-n*u+o*c,t[2]=a*c+s*u,t[3]=-a*u+c*s,t[4]=c*r+u*l,t[5]=c*l-u*r,t},scale:function(t,e,i){var n=i[0],a=i[1];return t[0]=e[0]*n,t[1]=e[1]*a,t[2]=e[2]*n,t[3]=e[3]*a,t[4]=e[4]*n,t[5]=e[5]*a,t},invert:function(t,e){var i=e[0],n=e[2],a=e[4],r=e[1],o=e[3],s=e[5],l=i*o-r*n;return l?(t[0]=o*(l=1/l),t[1]=-r*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-o*a)*l,t[5]=(r*a-i*s)*l,t):null}};t.exports=n},function(t,e,i){t.exports={getItemStyle:i(11)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(t,e,i){var n=i(8),a=i(3),r=Array.prototype.push,o=i(20),s=i(9),l=i(21),u=n.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,init:function(t,e,i,n){this.mergeDefaultAndTheme(this.option,this.ecModel)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?l.getLayoutParams(t):{},r=e.getTheme();a.merge(t,r.get(this.mainType)),a.merge(t,this.getDefaultOption()),i&&l.mergeLayoutParam(t,n,i)},mergeOption:function(t){a.merge(this.option,t,!0);var e=this.layoutMode;e&&l.mergeLayoutParam(this.option,t,e)},optionUpdated:function(t){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var t=[],e=this.constructor;e;){var i=e.prototype.defaultOption;i&&t.push(i),e=e.superClass}for(var n={},r=t.length-1;r>=0;r--)n=a.merge(n,t[r],!0);this.__defaultOption=n}return this.__defaultOption}});s.enableClassExtend(u,function(t,e,i,n){a.extend(this,n),this.uid=o.getUID("componentModel")}),s.enableClassManagement(u,{registerWhenExtend:!0}),o.enableSubTypeDefaulter(u),o.enableTopologicalTravel(u,function(t){var e=[];return a.each(u.getClassesByMainType(t),function(t){r.apply(e,t.prototype.dependencies||[])}),a.map(e,function(t){return s.parseClassType(t).main})}),a.mixin(u,i(22)),t.exports=u},function(t,e,i){var n=i(3),a=i(9).parseClassType,r=0;t.exports={getUID:function(t){return[t||"",r++,Math.random()].join("_")},enableSubTypeDefaulter:function(t){var e={};return t.registerSubTypeDefaulter=function(t,i){t=a(t),e[t.main]=i},t.determineSubType=function(i,n){var r=n.type;if(!r){var o=a(i).main;t.hasSubTypes(i)&&e[o]&&(r=e[o](n))}return r},t},enableTopologicalTravel:function(t,e){function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,a,r,o){if(t.length){var s=function(t){var a={},r=[];return n.each(t,function(o){var s=i(a,o),l=function(t,e){var i=[];return n.each(t,function(t){n.indexOf(e,t)>=0&&i.push(t)}),i}(s.originalDeps=e(o),t);s.entryCount=l.length,0===s.entryCount&&r.push(o),n.each(l,function(t){n.indexOf(s.predecessor,t)<0&&s.predecessor.push(t);var e=i(a,t);n.indexOf(e.successor,t)<0&&e.successor.push(o)})}),{graph:a,noEntryList:r}}(a),l=s.graph,u=s.noEntryList,c={};for(n.each(t,function(t){c[t]=!0});u.length;){var h=u.pop(),d=l[h],f=!!c[h];f&&(r.call(o,h,d.originalDeps.slice()),delete c[h]),n.each(d.successor,f?p:g)}n.each(c,function(){throw new Error("Circle dependency may exists")})}function g(t){l[t].entryCount--,0===l[t].entryCount&&u.push(t)}function p(t){c[t]=!0,g(t)}}}}},function(t,e,i){"use strict";var n=i(3),a=i(15),r=i(7),o=i(6),s=r.parsePercent,l=n.each,u={},c=["left","right","top","bottom","width","height"];function h(t,e,i,n,a){var r=0,o=0;null==n&&(n=1/0),null==a&&(a=1/0);var s=0;e.eachChild(function(l,u){var c,h,d=l.position,f=l.getBoundingRect(),g=e.childAt(u+1),p=g&&g.getBoundingRect();if("horizontal"===t){var m=f.width+(p?-p.x+f.x:0);(c=r+m)>n||l.newline?(r=0,c=m,o+=s+i,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(p?-p.y+f.y:0);(h=o+v)>a||l.newline?(r+=s+i,o=0,h=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=r,d[1]=o,"horizontal"===t?r=c+i:o=h+i)})}u.box=h,u.vbox=n.curry(h,"vertical"),u.hbox=n.curry(h,"horizontal"),u.getAvailableSize=function(t,e,i){var n=e.width,a=e.height,r=s(t.x,n),l=s(t.y,a),u=s(t.x2,n),c=s(t.y2,a);return(isNaN(r)||isNaN(parseFloat(t.x)))&&(r=0),(isNaN(u)||isNaN(parseFloat(t.x2)))&&(u=n),(isNaN(l)||isNaN(parseFloat(t.y)))&&(l=0),(isNaN(c)||isNaN(parseFloat(t.y2)))&&(c=a),i=o.normalizeCssArray(i||0),{width:Math.max(u-r-i[1]-i[3],0),height:Math.max(c-l-i[0]-i[2],0)}},u.getLayoutRect=function(t,e,i){i=o.normalizeCssArray(i||0);var n=e.width,r=e.height,l=s(t.left,n),u=s(t.top,r),c=s(t.right,n),h=s(t.bottom,r),d=s(t.width,n),f=s(t.height,r),g=i[2]+i[0],p=i[1]+i[3],m=t.aspect;switch(isNaN(d)&&(d=n-c-p-l),isNaN(f)&&(f=r-h-g-u),isNaN(d)&&isNaN(f)&&(m>n/r?d=.8*n:f=.8*r),null!=m&&(isNaN(d)&&(d=m*f),isNaN(f)&&(f=d/m)),isNaN(l)&&(l=n-c-d-p),isNaN(u)&&(u=r-h-f-g),t.left||t.right){case"center":l=n/2-d/2-i[3];break;case"right":l=n-d-p}switch(t.top||t.bottom){case"middle":case"center":u=r/2-f/2-i[0];break;case"bottom":u=r-f-g}l=l||0,u=u||0,isNaN(d)&&(d=n-l-(c||0)),isNaN(f)&&(f=r-u-(h||0));var v=new a(l+i[3],u+i[0],d,f);return v.margin=i,v},u.positionGroup=function(t,e,i,a){var r=t.getBoundingRect();e=n.extend(n.clone(e),{width:r.width,height:r.height}),e=u.getLayoutRect(e,i,a),t.position=[e.x-r.x,e.y-r.y]},u.mergeLayoutParam=function(t,e,i){!n.isObject(i)&&(i={});var a=["width","left","right"],r=["height","top","bottom"],o=u(a),s=u(r);function u(n){var a={},r=0,o={},s=0,u=i.ignoreSize?1:2;if(l(n,function(e){o[e]=t[e]}),l(n,function(t){c(e,t)&&(a[t]=o[t]=e[t]),h(a,t)&&r++,h(o,t)&&s++}),s!==u&&r){if(r>=u)return a;for(var d=0;d<n.length;d++){var f=n[d];if(!c(a,f)&&c(t,f)){a[f]=t[f];break}}return a}return o}function c(t,e){return t.hasOwnProperty(e)}function h(t,e){return null!=t[e]&&"auto"!==t[e]}function d(t,e,i){l(t,function(t){e[t]=i[t]})}d(a,t,o),d(r,t,s)},u.getLayoutParams=function(t){return u.copyLayoutParams({},t)},u.copyLayoutParams=function(t,e){return e&&t&&l(c,function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t},t.exports=u},function(t,e){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(t,e){var i="";"undefined"!=typeof navigator&&(i=navigator.platform||""),t.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{},textStyle:{fontFamily:i.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},animation:!0,animationThreshold:2e3,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut"}},function(t,e,i){"use strict";var n=i(3),a=["getDom","getZr","getWidth","getHeight","dispatchAction","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];t.exports=function(t){n.each(a,function(e){this[e]=n.bind(t[e],t)},this)}},function(t,e){"use strict";var i={};function n(){this._coordinateSystems=[]}n.prototype={constructor:n,create:function(t,e){var n=[];for(var a in i){var r=i[a].create(t,e);r&&(n=n.concat(r))}this._coordinateSystems=n},update:function(t,e){for(var i=this._coordinateSystems,n=0;n<i.length;n++)i[n].update&&i[n].update(t,e)}},n.register=function(t,e){i[t]=e},n.get=function(t){return i[t]},t.exports=n},function(t,e,i){var n=i(3),a=i(5),r=i(19),o=n.each,s=n.clone,l=n.map,u=n.merge,c=/^(min|max)?(.+)$/;function h(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function d(t,e){var i,a,r=[],s=[],l=t.timeline;return t.baseOption&&(a=t.baseOption),(l||t.options)&&(a=a||{},r=(t.options||[]).slice()),t.media&&(a=a||{},o(t.media,function(t){t&&t.option&&(t.query?s.push(t):i||(i=t))})),a||(a=t),a.timeline||(a.timeline=l),o([a].concat(r).concat(n.map(s,function(t){return t.option})),function(t){o(e,function(e){e(t)})}),{baseOption:a,timelineOptions:r,mediaDefault:i,mediaList:s}}function f(t,e,i){var a={width:e,height:i,aspectratio:e/i},r=!0;return n.each(t,function(t,e){var i=e.match(c);if(i&&i[1]&&i[2]){var n=i[1],o=i[2].toLowerCase();(function(t,e,i){return"min"===i?t>=e:"max"===i?t<=e:t===e})(a[o],t,n)||(r=!1)}}),r}h.prototype={constructor:h,setOption:function(t,e){t=s(t,!0);var i,n=this._optionBackup,c=d.call(this,t,e);this._newBaseOption=c.baseOption,n?(i=n.baseOption,o(c.baseOption||{},function(t,e){if(null!=t){var n=i[e];if(r.hasClass(e)){t=a.normalizeToArray(t),n=a.normalizeToArray(n);var o=a.mappingToExists(n,t);i[e]=l(o,function(t){return t.option&&t.exist?u(t.exist,t.option,!0):t.exist||t.option})}else i[e]=u(n,t,!0)}}),c.timelineOptions.length&&(n.timelineOptions=c.timelineOptions),c.mediaList.length&&(n.mediaList=c.mediaList),c.mediaDefault&&(n.mediaDefault=c.mediaDefault)):this._optionBackup=c},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=l(e.timelineOptions,s),this._mediaList=l(e.mediaList,s),this._mediaDefault=s(e.mediaDefault),this._currentMediaIndices=[],s(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=s(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e,i=this._api.getWidth(),n=this._api.getHeight(),a=this._mediaList,r=this._mediaDefault,o=[],u=[];if(!a.length&&!r)return u;for(var c=0,h=a.length;c<h;c++)f(a[c].query,i,n)&&o.push(c);return!o.length&&r&&(o=[-1]),o.length&&(e=this._currentMediaIndices,o.join(",")!==e.join(","))&&(u=l(o,function(t){return s(-1===t?r.option:a[t].option)})),this._currentMediaIndices=o,u}},t.exports=h},function(t,e,i){"use strict";var n=i(3),a=i(6),r=i(5),o=i(19),s=a.encodeHTML,l=a.addCommas,u=o.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,i),this._dataBeforeProcessed=this.getInitialData(t,i),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(t,e){n.merge(t,e.getTheme().get(this.subType)),n.merge(t,this.getDefaultOption()),r.defaultEmphasis(t.label,r.LABEL_OPTIONS),this.fillDataTextStyle(t.data)},mergeOption:function(t,e){t=n.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.getInitialData(t,e);i&&(this._data=i,this._dataBeforeProcessed=i.cloneShallow())},fillDataTextStyle:function(t){if(t)for(var e=0;e<t.length;e++)t[e]&&t[e].label&&r.defaultEmphasis(t[e].label,r.LABEL_OPTIONS)},getInitialData:function(){},getData:function(t){return null==t?this._data:this._data.getLinkedData(t)},setData:function(t){this._data=t},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(t){return[t]},dataDimToCoordDim:function(t){return t},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,i){var a=this._data,r=this.getRawValue(t),o=n.isArray(r)?n.map(r,l).join(", "):l(r),u=a.getName(t),c='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+a.getItemVisual(t,"color")+'"></span>',h=this.name;return"\0-"===h&&(h=""),e?c+s(this.name)+" : "+o:(h&&s(h)+"<br />")+c+(u?s(u)+" : "+o:o)},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getAxisTooltipDataIndex:null});n.mixin(u,r.dataFormatMixin),t.exports=u},function(t,e,i){var n=i(29),a=i(20),r=i(9),o=function(){this.group=new n,this.uid=a.getUID("viewComponent")},s=o.prototype={constructor:o,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){}};s.updateView=s.updateLayout=s.updateVisual=function(t,e,i,n){},r.enableClassExtend(o),r.enableClassManagement(o,{registerWhenExtend:!0}),t.exports=o},function(t,e,i){var n=i(3),a=i(30),r=i(15),o=function(t){for(var e in a.call(this,t=t||{}),t)this[e]=t[e];this._children=[],this.__storage=null,this.__dirty=!0};o.prototype={constructor:o,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToMap(t),t instanceof o&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,a=this._children,r=n.indexOf(a,t);return r<0||(a.splice(r,1),t.parent=null,i&&(i.delFromMap(t.id),t instanceof o&&t.delChildrenFromStorage(i)),e&&e.refresh()),this},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromMap(t.id),t instanceof o&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++)t.call(e,i[n],n);return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToMap(i),i instanceof o&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromMap(i.id),i instanceof o&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new r(0,0,0,0),n=t||this._children,a=[],o=0;o<n.length;o++){var s=n[o];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),u=s.getLocalTransform(a);u?(i.copy(l),i.applyTransform(u),(e=e||i.clone()).union(i)):(e=e||l.clone()).union(l)}}return e||i}},n.inherits(o,a),t.exports=o},function(t,e,i){"use strict";var n=i(31),a=i(32),r=i(33),o=i(34),s=i(3),l=function(t){r.call(this,t),a.call(this,t),o.call(this,t),this.id=t.id||n()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty()},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty()},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty())},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(l,o),s.mixin(l,r),s.mixin(l,a),t.exports=l},function(t,e){var i=2311;t.exports=function(){return"zr_"+i++}},function(t,e,i){var n=Array.prototype.slice,a=i(3).indexOf,r=function(){this._$handlers={}};r.prototype={constructor:r,one:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),a(n[t],t)>=0||n[t].push({h:e,one:!0,ctx:i||this}),this):this},on:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),n[t].push({h:e,one:!1,ctx:i||this}),this):this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],a=0,r=i[t].length;a<r;a++)i[t][a].h!=e&&n.push(i[t][a]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>3&&(e=n.call(e,1));for(var a=this._$handlers[t],r=a.length,o=0;o<r;){switch(i){case 1:a[o].h.call(a[o].ctx);break;case 2:a[o].h.call(a[o].ctx,e[1]);break;case 3:a[o].h.call(a[o].ctx,e[1],e[2]);break;default:a[o].h.apply(a[o].ctx,e)}a[o].one?(a.splice(o,1),r--):o++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>4&&(e=n.call(e,1,e.length-1));for(var a=e[e.length-1],r=this._$handlers[t],o=r.length,s=0;s<o;){switch(i){case 1:r[s].h.call(a);break;case 2:r[s].h.call(a,e[1]);break;case 3:r[s].h.call(a,e[1],e[2]);break;default:r[s].h.apply(a,e)}r[s].one?(r.splice(s,1),o--):s++}}return this}},t.exports=r},function(t,e,i){"use strict";var n=i(17),a=i(16),r=n.identity;function o(t){return t>5e-5||t<-5e-5}var s=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=s.prototype;l.transform=null,l.needLocalTransform=function(){return o(this.rotation)||o(this.position[0])||o(this.position[1])||o(this.scale[0]-1)||o(this.scale[1]-1)},l.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),a=this.transform;i||e?(a=a||n.create(),i?this.getLocalTransform(a):r(a),e&&(i?n.mul(a,t.transform,a):n.copy(a,t.transform)),this.transform=a,this.invTransform=this.invTransform||n.create(),n.invert(this.invTransform,a)):a&&r(a)},l.getLocalTransform=function(t){r(t=t||[]);var e=this.origin,i=this.scale,a=this.rotation,o=this.position;return e&&(t[4]-=e[0],t[5]-=e[1]),n.scale(t,t,i),a&&n.rotate(t,t,a),e&&(t[4]+=e[0],t[5]+=e[1]),t[4]+=o[0],t[5]+=o[1],t},l.setTransform=function(t){var e=this.transform;e&&t.transform(e[0],e[1],e[2],e[3],e[4],e[5])};var u=[];l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(n.mul(u,t.invTransform,e),e=u);var i=e[0]*e[0]+e[1]*e[1],a=e[2]*e[2]+e[3]*e[3],r=this.position,s=this.scale;o(i-1)&&(i=Math.sqrt(i)),o(a-1)&&(a=Math.sqrt(a)),e[0]<0&&(i=-i),e[3]<0&&(a=-a),r[0]=e[4],r[1]=e[5],s[0]=i,s[1]=a,this.rotation=Math.atan2(-e[1]/a,e[0]/i)}},l.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(i=-i),[e,i]},l.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&a.applyTransform(i,i,n),i},l.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&a.applyTransform(i,i,n),i},t.exports=s},function(t,e,i){"use strict";var n=i(35),a=i(3),r=a.isString,o=a.isFunction,s=a.isObject,l=i(39),u=function(){this.animators=[]};u.prototype={constructor:u,animate:function(t,e){var i,r=!1,o=this,s=this.__zr;if(t){var u=t.split("."),c=o;r="shape"===u[0];for(var h=0,d=u.length;h<d;h++)c&&(c=c[u[h]]);c&&(i=c)}else i=o;if(i){var f=o.animators,g=new n(i,e);return g.during(function(t){o.dirty(r)}).done(function(){f.splice(a.indexOf(f,g),1)}),f.push(g),s&&s.animation.addAnimator(g),g}l('Property "'+t+'" is not existed in element '+o.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n<i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,a){r(i)?(a=n,n=i,i=0):o(n)?(a=n,n="linear",i=0):o(i)?(a=i,i=0):o(e)?(a=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,i,n,a);var s=this.animators.slice(),l=s.length;function u(){--l||a&&a()}l||a&&a();for(var c=0;c<s.length;c++)s[c].done(u).start(n)},_animateToShallow:function(t,e,i,n,r){var o={},l=0;for(var u in i)if(null!=e[u])s(i[u])&&!a.isArrayLike(i[u])?this._animateToShallow(t?t+"."+u:u,e[u],i[u],n,r):(o[u]=i[u],l++);else if(null!=i[u])if(t){var c={};c[t]={},c[t][u]=i[u],this.attr(c)}else this.attr(u,i[u]);return l>0&&this.animate(t,!1).when(null==n?500:n,o).delay(r||0),this}},t.exports=u},function(t,e,i){var n=i(36),a=i(38),r=i(3).isArrayLike,o=Array.prototype.slice;function s(t,e){return t[e]}function l(t,e,i){t[e]=i}function u(t,e,i){return(e-t)*i+t}function c(t,e,i){return i>.5?e:t}function h(t,e,i,n,a){var r=t.length;if(1==a)for(var o=0;o<r;o++)n[o]=u(t[o],e[o],i);else{var s=t[0].length;for(o=0;o<r;o++)for(var l=0;l<s;l++)n[o][l]=u(t[o][l],e[o][l],i)}}function d(t,e,i){var n=t.length,a=e.length;if(n!==a)if(n>a)t.length=a;else for(var r=n;r<a;r++)t.push(1===i?e[r]:o.call(e[r]));var s=t[0]&&t[0].length;for(r=0;r<t.length;r++)if(1===i)isNaN(t[r])&&(t[r]=e[r]);else for(var l=0;l<s;l++)isNaN(t[r][l])&&(t[r][l]=e[r][l])}function f(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var a=0;a<n;a++)if(t[a]!==e[a])return!1}else{var r=t[0].length;for(a=0;a<n;a++)for(var o=0;o<r;o++)if(t[a][o]!==e[a][o])return!1}return!0}function g(t,e,i,n,a,r,o,s,l){var u=t.length;if(1==l)for(var c=0;c<u;c++)s[c]=p(t[c],e[c],i[c],n[c],a,r,o);else{var h=t[0].length;for(c=0;c<u;c++)for(var d=0;d<h;d++)s[c][d]=p(t[c][d],e[c][d],i[c][d],n[c][d],a,r,o)}}function p(t,e,i,n,a,r,o){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*o+(-3*(e-i)-2*s-l)*r+s*a+e}function m(t){if(r(t)){var e=t.length;if(r(t[0])){for(var i=[],n=0;n<e;n++)i.push(o.call(t[n]));return i}return o.call(t)}return t}function v(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function y(t,e,i,o,s){var l=t._getter,m=t._setter,y="spline"===e,x=o.length;if(x){var _,b=o[0].value,w=r(b),M=!1,S=!1,A=w&&r(b[0])?2:1;o.sort(function(t,e){return t.time-e.time}),_=o[x-1].time;for(var I=[],T=[],C=o[0].value,k=!0,L=0;L<x;L++){I.push(o[L].time/_);var D=o[L].value;if(w&&f(D,C,A)||!w&&D===C||(k=!1),C=D,"string"==typeof D){var P=a.parse(D);P?(D=P,M=!0):S=!0}T.push(D)}if(!k){var z=T[x-1];for(L=0;L<x-1;L++)w?d(T[L],z,A):!isNaN(T[L])||isNaN(z)||S||M||(T[L]=z);w&&d(l(t._target,s),z,A);var O,R,E,V,N,B=0,F=0;if(M)var W=[0,0,0,0];var H=new n({target:t._target,life:_,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<F){for(i=Math.min(B+1,x-1);i>=0&&!(I[i]<=e);i--);i=Math.min(i,x-2)}else{for(i=B;i<x&&!(I[i]>e);i++);i=Math.min(i-1,x-2)}B=i,F=e;var n=I[i+1]-I[i];if(0!==n)if(O=(e-I[i])/n,y)if(E=T[i],R=T[0===i?i:i-1],V=T[i>x-2?x-1:i+1],N=T[i>x-3?x-1:i+2],w)g(R,E,V,N,O,O*O,O*O*O,l(t,s),A);else{if(M)a=g(R,E,V,N,O,O*O,O*O*O,W,1),a=v(W);else{if(S)return c(E,V,O);a=p(R,E,V,N,O,O*O,O*O*O)}m(t,s,a)}else if(w)h(T[i],T[i+1],O,l(t,s),A);else{var a;if(M)h(T[i],T[i+1],O,W,1),a=v(W);else{if(S)return c(T[i],T[i+1],O);a=u(T[i],T[i+1],O)}m(t,s,a)}},ondestroy:i});return e&&"spline"!==e&&(H.easing=e),H}}}var x=function(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||s,this._setter=n||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};x.prototype={when:function(t,e){var i=this._tracks;for(var n in e){if(!i[n]){i[n]=[];var a=this._getter(this._target,n);if(null==a)continue;0!==t&&i[n].push({time:0,value:m(a)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t){var e,i=this,n=0,a=function(){--n||i._doneCallback()};for(var r in this._tracks){var o=y(this,t,a,this._tracks[r],r);o&&(this._clipList.push(o),n++,this.animation&&this.animation.addClip(o),e=o)}if(e){var s=e.onframe;e.onframe=function(t,e){s(t,e);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var a=e[n];t&&a.onframe(this._target,1),i&&i.removeClip(a)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=x},function(t,e,i){var n=i(37);function a(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}a.prototype={constructor:a,step:function(t){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);var e=(t-this._startTime)/this._life;if(!(e<0)){e=Math.min(e,1);var i=this.easing,a="string"==typeof i?n[i]:i,r="function"==typeof a?a(e):e;return this.fire("frame",r),1==e?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var t=((new Date).getTime()-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)}},t.exports=a},function(t,e){var i={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-i.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5}};t.exports=i},function(t,e){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function a(t){return t<0?0:t>1?1:t}function r(t){return t.length&&"%"===t.charAt(t.length-1)?n(parseFloat(t)/100*255):n(parseInt(t,10))}function o(t){return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100):a(parseFloat(t))}function s(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function l(t,e,i){return t+(e-t)*i}function u(t){if(t){var e=(t+="").replace(/ /g,"").toLowerCase();if(e in i)return i[e].slice();if("#"!==e.charAt(0)){var n=e.indexOf("("),a=e.indexOf(")");if(-1!==n&&a+1===e.length){var s=e.substr(0,n),l=e.substr(n+1,a-(n+1)).split(","),u=1;switch(s){case"rgba":if(4!==l.length)return;u=o(l.pop());case"rgb":if(3!==l.length)return;return[r(l[0]),r(l[1]),r(l[2]),u];case"hsla":if(4!==l.length)return;return l[3]=o(l[3]),c(l);case"hsl":if(3!==l.length)return;return c(l);default:return}}}else{if(4===e.length){if(!((h=parseInt(e.substr(1),16))>=0&&h<=4095))return;return[(3840&h)>>4|(3840&h)>>8,240&h|(240&h)>>4,15&h|(15&h)<<4,1]}if(7===e.length){var h;if(!((h=parseInt(e.substr(1),16))>=0&&h<=16777215))return;return[(16711680&h)>>16,(65280&h)>>8,255&h,1]}}}}function c(t){var e=(parseFloat(t[0])%360+360)%360/360,i=o(t[1]),a=o(t[2]),r=a<=.5?a*(i+1):a+i-a*i,l=2*a-r,u=[n(255*s(l,r,e+1/3)),n(255*s(l,r,e)),n(255*s(l,r,e-1/3))];return 4===t.length&&(u[3]=t[3]),u}function h(t,e){return"rgb"!==e&&"hsv"!==e&&"hsl"!==e||(t=t.slice(0,3)),e+"("+t.join(",")+")"}t.exports={parse:u,lift:function(t,e){var i=u(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0;return h(i,4===i.length?"rgba":"rgb")}},toHex:function(t,e){var i=u(t);if(i)return((1<<24)+(i[0]<<16)+(i[1]<<8)+ +i[2]).toString(16).slice(1)},fastMapToColor:function(t,e,i){if(e&&e.length&&t>=0&&t<=1){i=i||[0,0,0,0];var a=t*(e.length-1),r=Math.floor(a),o=Math.ceil(a),s=e[r],u=e[o],c=a-r;return i[0]=n(l(s[0],u[0],c)),i[1]=n(l(s[1],u[1],c)),i[2]=n(l(s[2],u[2],c)),i[3]=n(l(s[3],u[3],c)),i}},mapToColor:function(t,e,i){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),o=Math.floor(r),s=Math.ceil(r),c=u(e[o]),d=u(e[s]),f=r-o,g=h([n(l(c[0],d[0],f)),n(l(c[1],d[1],f)),n(l(c[2],d[2],f)),a(l(c[3],d[3],f))],"rgba");return i?{color:g,leftIndex:o,rightIndex:s,value:r}:g}},modifyHSL:function(t,e,i,n){if(t=u(t))return t=function(t){if(t){var e,i,n=t[0]/255,a=t[1]/255,r=t[2]/255,o=Math.min(n,a,r),s=Math.max(n,a,r),l=s-o,u=(s+o)/2;if(0===l)e=0,i=0;else{i=u<.5?l/(s+o):l/(2-s-o);var c=((s-n)/6+l/2)/l,h=((s-a)/6+l/2)/l,d=((s-r)/6+l/2)/l;n===s?e=d-h:a===s?e=1/3+c-d:r===s&&(e=2/3+h-c),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,i,u];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=(a=e,(a=Math.round(a))<0?0:a>360?360:a)),null!=i&&(t[1]=o(i)),null!=n&&(t[2]=o(n)),h(c(t),"rgba");var a},modifyAlpha:function(t,e){if((t=u(t))&&null!=e)return t[3]=a(e),h(t,"rgba")},stringify:h}},function(t,e,i){var n=i(40);t.exports=function(){if(0!==n.debugMode)if(1==n.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(n.debugMode>1)for(var t in arguments)console.log(arguments[t])}},function(t,e){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1)),t.exports={debugMode:0,devicePixelRatio:i}},function(t,e,i){var n=i(29),a=i(20),r=i(9);function o(){this.group=new n,this.uid=a.getUID("viewChart")}var s=o.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){u(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){u(t.getData(),n,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){}};function l(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var i=0;i<t.childCount();i++)l(t.childAt(i),e)}function u(t,e,i){if(null!=e.dataIndex)l(t.getItemGraphicEl(e.dataIndex),i);else if(e.name){var n=t.indexOfName(e.name);l(t.getItemGraphicEl(n),i)}else t.eachItemGraphicEl(function(t){l(t,i)})}s.updateView=s.updateLayout=s.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},r.enableClassExtend(o),r.enableClassManagement(o,{registerWhenExtend:!0}),t.exports=o},function(t,e,i){"use strict";var n=i(3),a=i(43),r=Math.round,o=i(44),s=i(38),l=i(17),u=i(16),c=i(4),h={};function d(t){return null!=t&&"none"!=t}function f(t){return t instanceof c?t:s.lift(t,-.1)}function g(t){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,n=t.__hoverStl;n.fill=n.fill||(d(i)?f(i):null),n.stroke=n.stroke||(d(e)?f(e):null);var a={};for(var r in n)n.hasOwnProperty(r)&&(a[r]=t.style[r]);t.__normalStl=a,t.__hoverStlDirty=!1}}function p(t){t.__isHover||(g(t),t.setStyle(t.__hoverStl),t.z2+=1,t.__isHover=!0)}function m(t){if(t.__isHover){var e=t.__normalStl;e&&t.setStyle(e),t.z2-=1,t.__isHover=!1}}function v(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&p(t)}):p(t)}function y(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&m(t)}):m(t)}function x(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&g(t)}function _(){!this.__isEmphasis&&v(this)}function b(){!this.__isEmphasis&&y(this)}function w(){this.__isEmphasis=!0,v(this)}function M(){this.__isEmphasis=!1,y(this)}function S(t,e,i,n,a,r){"function"==typeof a&&(r=a,a=null);var o=t?"Update":"",s=n&&n.getShallow("animationDuration"+o),l=n&&n.getShallow("animationEasing"+o),u=n&&n.getShallow("animationDelay"+o);"function"==typeof u&&(u=u(a)),n&&n.getShallow("animation")?e.animateTo(i,s,u||0,l,r):(e.attr(i),r&&r())}h.Group=i(29),h.Image=i(59),h.Text=i(62),h.Circle=i(63),h.Sector=i(64),h.Ring=i(65),h.Polygon=i(66),h.Polyline=i(70),h.Rect=i(71),h.Line=i(72),h.BezierCurve=i(73),h.Arc=i(74),h.CompoundPath=i(75),h.LinearGradient=i(76),h.RadialGradient=i(77),h.BoundingRect=i(15),h.extendShape=function(t){return o.extend(t)},h.extendPath=function(t,e){return a.extendFromString(t,e)},h.makePath=function(t,e,i,n){var r=a.createFromString(t,e),o=r.getBoundingRect();if(i){var s=o.width/o.height;if("center"===n){var l,u=i.height*s;l=u<=i.width?i.height:(u=i.width)/s;var c=i.y+i.height/2;i.x=i.x+i.width/2-u/2,i.y=c-l/2,i.width=u,i.height=l}this.resizePath(r,i)}return r},h.mergePath=a.mergePath,h.resizePath=function(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}},h.subPixelOptimizeLine=function(t){var e=h.subPixelOptimize,i=t.shape,n=t.style.lineWidth;return r(2*i.x1)===r(2*i.x2)&&(i.x1=i.x2=e(i.x1,n,!0)),r(2*i.y1)===r(2*i.y2)&&(i.y1=i.y2=e(i.y1,n,!0)),t},h.subPixelOptimizeRect=function(t){var e=h.subPixelOptimize,i=t.shape,n=t.style.lineWidth,a=i.x,r=i.y,o=i.width,s=i.height;return i.x=e(i.x,n,!0),i.y=e(i.y,n,!0),i.width=Math.max(e(a+o,n,!1)-i.x,0===o?0:1),i.height=Math.max(e(r+s,n,!1)-i.y,0===s?0:1),t},h.subPixelOptimize=function(t,e,i){var n=r(2*t);return(n+r(e))%2==0?n/2:(n+(i?1:-1))/2},h.setHoverStyle=function(t,e){"group"===t.type?t.traverse(function(t){"group"!==t.type&&x(t,e)}):x(t,e),t.on("mouseover",_).on("mouseout",b),t.on("emphasis",w).on("normal",M)},h.setText=function(t,e,i){var a=e.getShallow("position")||"inside",r=a.indexOf("inside")>=0?"white":i,o=e.getModel("textStyle");n.extend(t,{textDistance:e.getShallow("distance")||5,textFont:o.getFont(),textPosition:a,textFill:o.getTextColor()||r})},h.updateProps=n.curry(S,!0),h.initProps=n.curry(S,!1),h.getTransform=function(t,e){for(var i=l.identity([]);t&&t!==e;)l.mul(i,t.getLocalTransform(),i),t=t.parent;return i},h.applyTransform=function(t,e,i){return i&&(e=l.invert([],e)),u.applyTransform([],t,e)},h.transformDirection=function(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),a=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=["left"===t?-n:"right"===t?n:0,"top"===t?-a:"bottom"===t?a:0];return r=h.applyTransform(r,e,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"},t.exports=h},function(t,e,i){var n=i(44),a=i(48),r=i(58),o=i(17),s=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],l=Math.sqrt,u=Math.sin,c=Math.cos,h=Math.PI,d=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},f=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(d(t)*d(e))},g=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(f(t,e))};function p(t,e,i,n,a,r,o,s,d,p,m){var v=d*(h/180),y=c(v)*(t-i)/2+u(v)*(e-n)/2,x=-1*u(v)*(t-i)/2+c(v)*(e-n)/2,_=y*y/(o*o)+x*x/(s*s);_>1&&(o*=l(_),s*=l(_));var b=(a===r?-1:1)*l((o*o*(s*s)-o*o*(x*x)-s*s*(y*y))/(o*o*(x*x)+s*s*(y*y)))||0,w=b*o*x/s,M=b*-s*y/o,S=(t+i)/2+c(v)*w-u(v)*M,A=(e+n)/2+u(v)*w+c(v)*M,I=g([1,0],[(y-w)/o,(x-M)/s]),T=[(y-w)/o,(x-M)/s],C=[(-1*y-w)/o,(-1*x-M)/s],k=g(T,C);f(T,C)<=-1&&(k=h),f(T,C)>=1&&(k=0),0===r&&k>0&&(k-=2*h),1===r&&k<0&&(k+=2*h),m.addData(p,S,A,o,s,I,k,v,r)}function m(t,e){var i,n=function(t){if(!t)return[];var e,i=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<s.length;e++)i=i.replace(new RegExp(s[e],"g"),"|"+s[e]);var n,r=i.split("|"),o=0,l=0,u=new a,c=a.CMD;for(e=1;e<r.length;e++){var h,d=r[e],f=d.charAt(0),g=0,m=d.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var v=0;v<m.length;v++)m[v]=parseFloat(m[v]);for(;g<m.length&&!isNaN(m[g])&&!isNaN(m[0]);){var y,x,_,b,w,M,S,A=o,I=l;switch(f){case"l":o+=m[g++],l+=m[g++],u.addData(h=c.L,o,l);break;case"L":o=m[g++],l=m[g++],u.addData(h=c.L,o,l);break;case"m":o+=m[g++],l+=m[g++],u.addData(h=c.M,o,l),f="l";break;case"M":o=m[g++],l=m[g++],u.addData(h=c.M,o,l),f="L";break;case"h":o+=m[g++],u.addData(h=c.L,o,l);break;case"H":o=m[g++],u.addData(h=c.L,o,l);break;case"v":l+=m[g++],u.addData(h=c.L,o,l);break;case"V":l=m[g++],u.addData(h=c.L,o,l);break;case"C":u.addData(h=c.C,m[g++],m[g++],m[g++],m[g++],m[g++],m[g++]),o=m[g-2],l=m[g-1];break;case"c":u.addData(h=c.C,m[g++]+o,m[g++]+l,m[g++]+o,m[g++]+l,m[g++]+o,m[g++]+l),o+=m[g-2],l+=m[g-1];break;case"S":y=o,x=l;var T=u.len(),C=u.data;n===c.C&&(y+=o-C[T-4],x+=l-C[T-3]),A=m[g++],I=m[g++],o=m[g++],l=m[g++],u.addData(h=c.C,y,x,A,I,o,l);break;case"s":y=o,x=l,T=u.len(),C=u.data,n===c.C&&(y+=o-C[T-4],x+=l-C[T-3]),A=o+m[g++],I=l+m[g++],o+=m[g++],l+=m[g++],u.addData(h=c.C,y,x,A,I,o,l);break;case"Q":A=m[g++],I=m[g++],o=m[g++],l=m[g++],u.addData(h=c.Q,A,I,o,l);break;case"q":A=m[g++]+o,I=m[g++]+l,o+=m[g++],l+=m[g++],u.addData(h=c.Q,A,I,o,l);break;case"T":y=o,x=l,T=u.len(),C=u.data,n===c.Q&&(y+=o-C[T-4],x+=l-C[T-3]),o=m[g++],l=m[g++],u.addData(h=c.Q,y,x,o,l);break;case"t":y=o,x=l,T=u.len(),C=u.data,n===c.Q&&(y+=o-C[T-4],x+=l-C[T-3]),o+=m[g++],l+=m[g++],u.addData(h=c.Q,y,x,o,l);break;case"A":_=m[g++],b=m[g++],w=m[g++],M=m[g++],S=m[g++],p(A=o,I=l,o=m[g++],l=m[g++],M,S,_,b,w,h=c.A,u);break;case"a":_=m[g++],b=m[g++],w=m[g++],M=m[g++],S=m[g++],p(A=o,I=l,o+=m[g++],l+=m[g++],M,S,_,b,w,h=c.A,u)}}"z"!==f&&"Z"!==f||u.addData(h=c.Z),n=h}return u.toStatic(),u}(t);return(e=e||{}).buildPath=function(t){t.setData(n.data),i&&r(t,i);var e=t.getContext();e&&t.rebuildPath(e)},e.applyTransform=function(t){i||(i=o.create()),o.mul(i,t,i)},e}t.exports={createFromString:function(t,e){return new n(m(t,e))},extendFromString:function(t,e){return n.extend(m(t,e))},mergePath:function(t,e){var i,a,r=[],o=t.length;for(a=0;a<o;a++)(i=t[a]).__dirty&&i.buildPath(i.path,i.shape),r.push(i.path);var s=new n(e);return s.buildPath=function(t){t.appendPath(r);var e=t.getContext();e&&t.rebuildPath(e)},s}}},function(t,e,i){var n=i(45),a=i(3),r=i(48),o=i(51);function s(t){var e=t.fill;return null!=e&&"none"!==e}function l(t){var e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0}i(4);var u=Math.abs;function c(t){n.call(this,t),this.path=new r}c.prototype={constructor:c,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t){t.save();var e=this.style,i=this.path,n=l(e),a=s(e),r=a&&!!e.fill.colorStops,o=n&&!!e.stroke.colorStops;if(e.bind(t,this),this.setTransform(t),this.__dirtyPath){var u=this.getBoundingRect();r&&(this._fillGradient=e.getGradient(t,e.fill,u)),o&&(this._strokeGradient=e.getGradient(t,e.stroke,u))}r&&(t.fillStyle=this._fillGradient),o&&(t.strokeStyle=this._strokeGradient);var c=e.lineDash,h=e.lineDashOffset,d=!!t.setLineDash,f=this.getGlobalScale();i.setScale(f[0],f[1]),this.__dirtyPath||c&&!d&&n?(i=this.path.beginPath(t),c&&!d&&(i.setLineDash(c),i.setLineDashOffset(h)),this.buildPath(i,this.shape),this.__dirtyPath=!1):(t.beginPath(),this.path.rebuildPath(t)),a&&i.fill(t),c&&d&&(t.setLineDash(c),t.lineDashOffset=h),n&&i.stroke(t),null!=e.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()},buildPath:function(t,e){},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape)),t=n.getBoundingRect()}if(this._rect=t,l(e)){var a=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){a.copy(t);var r=e.lineWidth,o=e.strokeNoScale?this.getLineScale():1;s(e)||(r=Math.max(r,this.strokeContainThreshold)),o>1e-10&&(a.width+=r/o,a.height+=r/o,a.x-=r/o/2,a.y-=r/o/2)}return a}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),a=this.style;if(n.contain(t=i[0],e=i[1])){var r=this.path.data;if(l(a)){var u=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(s(a)||(u=Math.max(u,this.strokeContainThreshold)),o.containStroke(r,u/c,t,e)))return!0}if(s(a))return o.contain(r,t,e)}return!1},dirty:function(t){0===arguments.length&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?this.setShape(e):n.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(a.isObject(t))for(var n in t)i[n]=t[n];else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&u(t[0]-1)>1e-10&&u(t[3]-1)>1e-10?Math.sqrt(u(t[0]*t[3]-t[2]*t[1])):1}},c.extend=function(t){var e=function(e){c.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var a in i)!n.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(n[a]=i[a])}t.init&&t.init.call(this,e)};for(var i in a.inherits(e,c),t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},a.inherits(c,n),t.exports=c},function(t,e,i){var n=i(3),a=i(46),r=i(30),o=i(47);function s(t){for(var e in r.call(this,t=t||{}),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new a(t.style),this._rect=null,this.__clipPaths=[]}s.prototype={constructor:s,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?r.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new a(t),this.dirty(!1),this}},n.inherits(s,r),n.mixin(s,o),t.exports=s},function(t,e){var i,n,a=["lineCap","lineJoin","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"],r=function(t){this.extendFrom(t)},o=r.prototype={constructor:r,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,bind:function(t,e){for(var i=this.fill,n=this.stroke,r=0;r<a.length;r++){var o=a[r];null!=this[o]&&(t[o]=this[o])}null!=n&&(t.lineWidth=this.lineWidth/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)),null==i||"none"===i||i.colorStops||(t.fillStyle=i),null==n||"none"===n||n.colorStops||(t.strokeStyle=n),null!=this.opacity&&(t.globalAlpha=this.opacity)},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!e&&this.hasOwnProperty(i)||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},createLinearGradient:function(t,e,i){return t.createLinearGradient(e.x*i.width+i.x,e.y*i.height+i.y,e.x2*i.width+i.x,e.y2*i.height+i.y)},createRadialGradient:function(t,e,i){var n=i.width,a=i.height,r=Math.min(n,a),o=e.x*n+i.x,s=e.y*a+i.y;return t.createRadialGradient(o,s,0,o,s,e.r*r)},getGradient:function(t,e,i){for(var n=this["radial"===e.type?"createRadialGradient":"createLinearGradient"](t,e,i),a=e.colorStops,r=0;r<a.length;r++)n.addColorStop(a[r].offset,a[r].color);return n}};for(n=0;n<a.length;n++)(i=a[n])in o||(o[i]=null);t.exports=r},function(t,e,i){var n=i(14),a=new(i(15)),r=function(){};function o(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function s(t,e){t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}r.prototype={constructor:r,drawRectText:function(t,e,i){var r=this.style,l=r.text;if(null!=l&&(l+=""),l){var u,c,h=r.textPosition,d=r.textDistance,f=r.textAlign,g=r.textFont||r.font,p=r.textBaseline,m=r.textVerticalAlign;i=i||n.getBoundingRect(l,g,f,p);var v=this.transform,y=this.invTransform;if(v&&(a.copy(e),a.applyTransform(v),e=a,s(t,y)),h instanceof Array){if(u=e.x+o(h[0],e.width),c=e.y+o(h[1],e.height),f=f||"left",p=p||"top",m){switch(m){case"middle":c-=i.height/2-i.lineHeight/2;break;case"bottom":c-=i.height-i.lineHeight/2;break;default:c+=i.lineHeight/2}p="middle"}}else{var x=n.adjustTextPositionOnRect(h,e,i,d);u=x.x,c=x.y,f=f||x.textAlign,p=p||x.textBaseline}t.textAlign=f,t.textBaseline=p;var _=r.textFill,b=r.textStroke;_&&(t.fillStyle=_),b&&(t.strokeStyle=b),t.font=g,t.shadowColor=r.textShadowColor,t.shadowBlur=r.textShadowBlur,t.shadowOffsetX=r.textShadowOffsetX,t.shadowOffsetY=r.textShadowOffsetY;for(var w=l.split("\n"),M=0;M<w.length;M++)_&&t.fillText(w[M],u,c),b&&t.strokeText(w[M],u,c),c+=i.lineHeight;v&&s(t,v)}}},t.exports=r},function(t,e,i){"use strict";var n=i(49),a=i(16),r=i(50),o=i(15),s=i(40).devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},u=[],c=[],h=[],d=[],f=Math.min,g=Math.max,p=Math.cos,m=Math.sin,v=Math.sqrt,y=Math.abs,x="undefined"!=typeof Float32Array,_=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};_.prototype={constructor:_,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=y(1/s/t)||0,this._uy=y(1/s/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=y(t-this._xi)>this._ux||y(e-this._yi)>this._uy||0===this._len;return this.addData(l.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,a,r){return this.addData(l.C,t,e,i,n,a,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,a,r):this._ctx.bezierCurveTo(t,e,i,n,a,r)),this._xi=a,this._yi=r,this},quadraticCurveTo:function(t,e,i,n){return this.addData(l.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,a,r){return this.addData(l.A,t,e,i,i,n,a-n,0,r?0:1),this._ctx&&this._ctx.arc(t,e,i,n,a,r),this._xi=p(a)*i+t,this._xi=m(a)*i+t,this},arcTo:function(t,e,i,n,a){return this._ctx&&this._ctx.arcTo(t,e,i,n,a),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(l.R,t,e,i,n),this},closePath:function(){this.addData(l.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!x||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,a=0;a<e;a++)i+=t[a].len();for(x&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i)),a=0;a<e;a++)for(var r=t[a].data,o=0;o<r.length;o++)this.data[n++]=r[o];this._len=n},addData:function(t){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,a=this._dashSum,r=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,c=t-l,h=e-u,d=v(c*c+h*h),p=l,m=u,y=o.length;for(r<0&&(r=a+r),p-=(r%=a)*(c/=d),m-=r*(h/=d);c>=0&&p<=t||c<0&&p>t;)p+=c*(i=o[n=this._dashIdx]),m+=h*i,this._dashIdx=(n+1)%y,c>0&&p<l||c<0&&p>l||s[n%2?"moveTo":"lineTo"](c>=0?f(p,t):g(p,t),h>=0?f(m,e):g(m,e));this._dashOffset=-v((c=p-t)*c+(h=m-e)*h)},_dashedBezierTo:function(t,e,i,a,r,o){var s,l,u,c,h,d=this._dashSum,f=this._dashOffset,g=this._lineDash,p=this._ctx,m=this._xi,y=this._yi,x=n.cubicAt,_=0,b=this._dashIdx,w=g.length,M=0;for(f<0&&(f=d+f),f%=d,s=0;s<1;s+=.1)l=x(m,t,i,r,s+.1)-x(m,t,i,r,s),u=x(y,e,a,o,s+.1)-x(y,e,a,o,s),_+=v(l*l+u*u);for(;b<w&&!((M+=g[b])>f);b++);for(s=(M-f)/_;s<=1;)c=x(m,t,i,r,s),h=x(y,e,a,o,s),b%2?p.moveTo(c,h):p.lineTo(c,h),s+=g[b]/_,b=(b+1)%w;b%2!=0&&p.lineTo(r,o),this._dashOffset=-v((l=r-c)*l+(u=o-h)*u)},_dashedQuadraticTo:function(t,e,i,n){var a=i,r=n;i=(i+2*t)/3,n=(n+2*e)/3,this._dashedBezierTo(t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,i,n,a,r)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,x&&(this.data=new Float32Array(t)))},getBoundingRect:function(){u[0]=u[1]=h[0]=h[1]=Number.MAX_VALUE,c[0]=c[1]=d[0]=d[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,s=0,f=0;f<t.length;){var g=t[f++];switch(1==f&&(n=e=t[f],s=i=t[f+1]),g){case l.M:e=n=t[f++],i=s=t[f++],h[0]=n,h[1]=s,d[0]=n,d[1]=s;break;case l.L:r.fromLine(e,i,t[f],t[f+1],h,d),e=t[f++],i=t[f++];break;case l.C:r.fromCubic(e,i,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],h,d),e=t[f++],i=t[f++];break;case l.Q:r.fromQuadratic(e,i,t[f++],t[f++],t[f],t[f+1],h,d),e=t[f++],i=t[f++];break;case l.A:var v=t[f++],y=t[f++],x=t[f++],_=t[f++],b=t[f++],w=t[f++]+b,M=(f++,1-t[f++]);1==f&&(n=p(b)*x+v,s=m(b)*_+y),r.fromArc(v,y,x,_,b,w,M,h,d),e=p(w)*x+v,i=m(w)*_+y;break;case l.R:n=e=t[f++],s=i=t[f++];var S=t[f++],A=t[f++];r.fromLine(n,s,n+S,s+A,h,d);break;case l.Z:e=n,i=s}a.min(u,u,h),a.max(c,c,d)}return 0===f&&(u[0]=u[1]=c[0]=c[1]=0),new o(u[0],u[1],c[0]-u[0],c[1]-u[1])},rebuildPath:function(t){for(var e,i,n,a,r,o,s=this.data,u=this._ux,c=this._uy,h=this._len,d=0;d<h;){var f=s[d++];switch(1==d&&(e=n=s[d],i=a=s[d+1]),f){case l.M:e=n=s[d++],i=a=s[d++],t.moveTo(n,a);break;case l.L:r=s[d++],o=s[d++],(y(r-n)>u||y(o-a)>c||d===h-1)&&(t.lineTo(r,o),n=r,a=o);break;case l.C:t.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]),n=s[d-2],a=s[d-1];break;case l.Q:t.quadraticCurveTo(s[d++],s[d++],s[d++],s[d++]),n=s[d-2],a=s[d-1];break;case l.A:var g=s[d++],v=s[d++],x=s[d++],_=s[d++],b=s[d++],w=s[d++],M=s[d++],S=s[d++],A=x>_?x:_,I=x>_?1:x/_,T=x>_?_/x:1,C=b+w;Math.abs(x-_)>.001?(t.translate(g,v),t.rotate(M),t.scale(I,T),t.arc(0,0,A,b,C,1-S),t.scale(1/I,1/T),t.rotate(-M),t.translate(-g,-v)):t.arc(g,v,A,b,C,1-S),1==d&&(e=p(b)*x+g,i=m(b)*_+v),n=p(C)*x+g,a=m(C)*_+v;break;case l.R:e=n=s[d],i=a=s[d+1],t.rect(s[d++],s[d++],s[d++],s[d++]);break;case l.Z:t.closePath(),n=e,a=i}}}},_.CMD=l,t.exports=_},function(t,e,i){"use strict";var n=i(16),a=n.create,r=n.distSquare,o=Math.pow,s=Math.sqrt,l=1e-4,u=s(3),c=1/3,h=a(),d=a(),f=a();function g(t){return t>-1e-8&&t<1e-8}function p(t){return t>1e-8||t<-1e-8}function m(t,e,i,n,a){var r=1-a;return r*r*(r*t+3*a*e)+a*a*(a*n+3*r*i)}function v(t,e,i,n){var a=1-n;return a*(a*t+2*n*e)+n*n*i}t.exports={cubicAt:m,cubicDerivativeAt:function(t,e,i,n,a){var r=1-a;return 3*(((e-t)*r+2*(i-e)*a)*r+(n-i)*a*a)},cubicRootAt:function(t,e,i,n,a,r){var l=n+3*(e-i)-t,h=3*(i-2*e+t),d=3*(e-t),f=t-a,p=h*h-3*l*d,m=h*d-9*l*f,v=d*d-3*h*f,y=0;if(g(p)&&g(m))g(h)?r[0]=0:(k=-d/h)>=0&&k<=1&&(r[y++]=k);else{var x=m*m-4*p*v;if(g(x)){var _=m/p,b=-_/2;(k=-h/l+_)>=0&&k<=1&&(r[y++]=k),b>=0&&b<=1&&(r[y++]=b)}else if(x>0){var w=s(x),M=p*h+1.5*l*(-m+w),S=p*h+1.5*l*(-m-w);(k=(-h-((M=M<0?-o(-M,c):o(M,c))+(S=S<0?-o(-S,c):o(S,c))))/(3*l))>=0&&k<=1&&(r[y++]=k)}else{var A=(2*p*h-3*l*m)/(2*s(p*p*p)),I=Math.acos(A)/3,T=s(p),C=Math.cos(I),k=(-h-2*T*C)/(3*l),L=(b=(-h+T*(C+u*Math.sin(I)))/(3*l),(-h+T*(C-u*Math.sin(I)))/(3*l));k>=0&&k<=1&&(r[y++]=k),b>=0&&b<=1&&(r[y++]=b),L>=0&&L<=1&&(r[y++]=L)}}return y},cubicExtrema:function(t,e,i,n,a){var r=6*i-12*e+6*t,o=9*e+3*n-3*t-9*i,l=3*e-3*t,u=0;if(g(o))p(r)&&(h=-l/r)>=0&&h<=1&&(a[u++]=h);else{var c=r*r-4*o*l;if(g(c))a[0]=-r/(2*o);else if(c>0){var h,d=s(c),f=(-r-d)/(2*o);(h=(-r+d)/(2*o))>=0&&h<=1&&(a[u++]=h),f>=0&&f<=1&&(a[u++]=f)}}return u},cubicSubdivide:function(t,e,i,n,a,r){var o=(e-t)*a+t,s=(i-e)*a+e,l=(n-i)*a+i,u=(s-o)*a+o,c=(l-s)*a+s,h=(c-u)*a+u;r[0]=t,r[1]=o,r[2]=u,r[3]=h,r[4]=h,r[5]=c,r[6]=l,r[7]=n},cubicProjectPoint:function(t,e,i,n,a,o,u,c,g,p,v){var y,x,_,b,w,M=.005,S=1/0;h[0]=g,h[1]=p;for(var A=0;A<1;A+=.05)d[0]=m(t,i,a,u,A),d[1]=m(e,n,o,c,A),(b=r(h,d))<S&&(y=A,S=b);S=1/0;for(var I=0;I<32&&!(M<l);I++)_=y+M,d[0]=m(t,i,a,u,x=y-M),d[1]=m(e,n,o,c,x),b=r(d,h),x>=0&&b<S?(y=x,S=b):(f[0]=m(t,i,a,u,_),f[1]=m(e,n,o,c,_),w=r(f,h),_<=1&&w<S?(y=_,S=w):M*=.5);return v&&(v[0]=m(t,i,a,u,y),v[1]=m(e,n,o,c,y)),s(S)},quadraticAt:v,quadraticDerivativeAt:function(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))},quadraticRootAt:function(t,e,i,n,a){var r=t-2*e+i,o=2*(e-t),l=t-n,u=0;if(g(r))p(o)&&(h=-l/o)>=0&&h<=1&&(a[u++]=h);else{var c=o*o-4*r*l;if(g(c))(h=-o/(2*r))>=0&&h<=1&&(a[u++]=h);else if(c>0){var h,d=s(c),f=(-o-d)/(2*r);(h=(-o+d)/(2*r))>=0&&h<=1&&(a[u++]=h),f>=0&&f<=1&&(a[u++]=f)}}return u},quadraticExtremum:function(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n},quadraticSubdivide:function(t,e,i,n,a){var r=(e-t)*n+t,o=(i-e)*n+e,s=(o-r)*n+r;a[0]=t,a[1]=r,a[2]=s,a[3]=s,a[4]=o,a[5]=i},quadraticProjectPoint:function(t,e,i,n,a,o,u,c,g){var p,m=.005,y=1/0;h[0]=u,h[1]=c;for(var x=0;x<1;x+=.05)d[0]=v(t,i,a,x),d[1]=v(e,n,o,x),(M=r(h,d))<y&&(p=x,y=M);y=1/0;for(var _=0;_<32&&!(m<l);_++){var b=p-m,w=p+m;d[0]=v(t,i,a,b),d[1]=v(e,n,o,b);var M=r(d,h);if(b>=0&&M<y)p=b,y=M;else{f[0]=v(t,i,a,w),f[1]=v(e,n,o,w);var S=r(f,h);w<=1&&S<y?(p=w,y=S):m*=.5}}return g&&(g[0]=v(t,i,a,p),g[1]=v(e,n,o,p)),s(y)}}},function(t,e,i){var n=i(16),a=i(49),r={},o=Math.min,s=Math.max,l=Math.sin,u=Math.cos,c=n.create(),h=n.create(),d=n.create(),f=2*Math.PI;r.fromPoints=function(t,e,i){if(0!==t.length){var n,a=t[0],r=a[0],l=a[0],u=a[1],c=a[1];for(n=1;n<t.length;n++)r=o(r,(a=t[n])[0]),l=s(l,a[0]),u=o(u,a[1]),c=s(c,a[1]);e[0]=r,e[1]=u,i[0]=l,i[1]=c}},r.fromLine=function(t,e,i,n,a,r){a[0]=o(t,i),a[1]=o(e,n),r[0]=s(t,i),r[1]=s(e,n)};var g=[],p=[];r.fromCubic=function(t,e,i,n,r,l,u,c,h,d){var f,m=a.cubicExtrema,v=a.cubicAt,y=m(t,i,r,u,g);for(h[0]=1/0,h[1]=1/0,d[0]=-1/0,d[1]=-1/0,f=0;f<y;f++){var x=v(t,i,r,u,g[f]);h[0]=o(x,h[0]),d[0]=s(x,d[0])}for(y=m(e,n,l,c,p),f=0;f<y;f++){var _=v(e,n,l,c,p[f]);h[1]=o(_,h[1]),d[1]=s(_,d[1])}h[0]=o(t,h[0]),d[0]=s(t,d[0]),h[0]=o(u,h[0]),d[0]=s(u,d[0]),h[1]=o(e,h[1]),d[1]=s(e,d[1]),h[1]=o(c,h[1]),d[1]=s(c,d[1])},r.fromQuadratic=function(t,e,i,n,r,l,u,c){var h=a.quadraticExtremum,d=a.quadraticAt,f=s(o(h(t,i,r),1),0),g=s(o(h(e,n,l),1),0),p=d(t,i,r,f),m=d(e,n,l,g);u[0]=o(t,r,p),u[1]=o(e,l,m),c[0]=s(t,r,p),c[1]=s(e,l,m)},r.fromArc=function(t,e,i,a,r,o,s,g,p){var m=n.min,v=n.max,y=Math.abs(r-o);if(y%f<1e-4&&y>1e-4)return g[0]=t-i,g[1]=e-a,p[0]=t+i,void(p[1]=e+a);if(c[0]=u(r)*i+t,c[1]=l(r)*a+e,h[0]=u(o)*i+t,h[1]=l(o)*a+e,m(g,c,h),v(p,c,h),(r%=f)<0&&(r+=f),(o%=f)<0&&(o+=f),r>o&&!s?o+=f:r<o&&s&&(r+=f),s){var x=o;o=r,r=x}for(var _=0;_<o;_+=Math.PI/2)_>r&&(d[0]=u(_)*i+t,d[1]=l(_)*a+e,m(g,d,g),v(p,d,p))},t.exports=r},function(t,e,i){"use strict";var n=i(48).CMD,a=i(52),r=i(53),o=i(54),s=i(55),l=i(56).normalizeRadian,u=i(49),c=i(57),h=a.containStroke,d=2*Math.PI,f=[-1,-1,-1],g=[-1,-1];function p(t,e,i,n,a,r,o,s,l,c){if(c>e&&c>n&&c>r&&c>s||c<e&&c<n&&c<r&&c<s)return 0;var h,d=u.cubicRootAt(e,n,r,s,c,f);if(0===d)return 0;for(var p,m,v=0,y=-1,x=0;x<d;x++){var _=f[x];u.cubicAt(t,i,a,o,_)<l||(y<0&&(y=u.cubicExtrema(e,n,r,s,g),g[1]<g[0]&&y>1&&(h=g[0],g[0]=g[1],g[1]=h),p=u.cubicAt(e,n,r,s,g[0]),y>1&&(m=u.cubicAt(e,n,r,s,g[1]))),v+=2==y?_<g[0]?p<e?1:-1:_<g[1]?m<p?1:-1:s<m?1:-1:_<g[0]?p<e?1:-1:s<p?1:-1)}return v}function m(t,e,i,n,a,r,o,s){if(s>e&&s>n&&s>r||s<e&&s<n&&s<r)return 0;var l=u.quadraticRootAt(e,n,r,s,f);if(0===l)return 0;var c=u.quadraticExtremum(e,n,r);if(c>=0&&c<=1){for(var h=0,d=u.quadraticAt(e,n,r,c),g=0;g<l;g++)u.quadraticAt(t,i,a,f[g])<o||(h+=f[g]<c?d<e?1:-1:r<d?1:-1);return h}return u.quadraticAt(t,i,a,f[0])<o?0:r<e?1:-1}function v(t,e,i,n,a,r,o,s){if((s-=e)>i||s<-i)return 0;var u=Math.sqrt(i*i-s*s);f[0]=-u,f[1]=u;var c=Math.abs(n-a);if(c<1e-4)return 0;if(c%d<1e-4){n=0,a=d;var h=r?1:-1;return o>=f[0]+t&&o<=f[1]+t?h:0}r?(u=n,n=l(a),a=l(u)):(n=l(n),a=l(a)),n>a&&(a+=d);for(var g=0,p=0;p<2;p++){var m=f[p];if(m+t>o){var v=Math.atan2(s,m);h=r?1:-1,v<0&&(v=d+v),(v>=n&&v<=a||v+d>=n&&v+d<=a)&&(v>Math.PI/2&&v<1.5*Math.PI&&(h=-h),g+=h)}}return g}function y(t,e,i,a,l){for(var u=0,d=0,f=0,g=0,y=0,x=0;x<t.length;){var _=t[x++];if(_===n.M&&x>1&&(i||(u+=c(d,f,g,y,a,l)),0!==u))return!0;switch(1==x&&(g=d=t[x],y=f=t[x+1]),_){case n.M:d=g=t[x++],f=y=t[x++];break;case n.L:if(i){if(h(d,f,t[x],t[x+1],e,a,l))return!0}else u+=c(d,f,t[x],t[x+1],a,l)||0;d=t[x++],f=t[x++];break;case n.C:if(i){if(r.containStroke(d,f,t[x++],t[x++],t[x++],t[x++],t[x],t[x+1],e,a,l))return!0}else u+=p(d,f,t[x++],t[x++],t[x++],t[x++],t[x],t[x+1],a,l)||0;d=t[x++],f=t[x++];break;case n.Q:if(i){if(o.containStroke(d,f,t[x++],t[x++],t[x],t[x+1],e,a,l))return!0}else u+=m(d,f,t[x++],t[x++],t[x],t[x+1],a,l)||0;d=t[x++],f=t[x++];break;case n.A:var b=t[x++],w=t[x++],M=t[x++],S=t[x++],A=t[x++],I=t[x++],T=(x++,1-t[x++]),C=Math.cos(A)*M+b,k=Math.sin(A)*S+w;x>1?u+=c(d,f,C,k,a,l):(g=C,y=k);var L=(a-b)*S/M+b;if(i){if(s.containStroke(b,w,S,A,A+I,T,e,L,l))return!0}else u+=v(b,w,S,A,A+I,T,L,l);d=Math.cos(A+I)*M+b,f=Math.sin(A+I)*S+w;break;case n.R:if(g=d=t[x++],y=f=t[x++],C=g+t[x++],k=y+t[x++],i){if(h(g,y,C,y,e,a,l)||h(C,y,C,k,e,a,l)||h(C,k,g,k,e,a,l)||h(g,k,C,k,e,a,l))return!0}else u+=c(C,y,C,k,a,l),u+=c(g,k,g,y,a,l);break;case n.Z:if(i){if(h(d,f,g,y,e,a,l))return!0}else if(0!==(u+=c(d,f,g,y,a,l)))return!0;d=g,f=y}}return i||Math.abs(f-y)<1e-4||(u+=c(d,f,g,y,a,l)||0),0!==u}t.exports={contain:function(t,e,i){return y(t,0,!1,e,i)},containStroke:function(t,e,i,n){return y(t,e,!0,i,n)}}},function(t,e){t.exports={containStroke:function(t,e,i,n,a,r,o){if(0===a)return!1;var s,l=a;if(o>e+l&&o>n+l||o<e-l&&o<n-l||r>t+l&&r>i+l||r<t-l&&r<i-l)return!1;if(t===i)return Math.abs(r-t)<=l/2;var u=(s=(e-n)/(t-i))*r-o+(t*n-i*e)/(t-i);return u*u/(s*s+1)<=l/2*l/2}}},function(t,e,i){var n=i(49);t.exports={containStroke:function(t,e,i,a,r,o,s,l,u,c,h){if(0===u)return!1;var d=u;return!(h>e+d&&h>a+d&&h>o+d&&h>l+d||h<e-d&&h<a-d&&h<o-d&&h<l-d||c>t+d&&c>i+d&&c>r+d&&c>s+d||c<t-d&&c<i-d&&c<r-d&&c<s-d)&&n.cubicProjectPoint(t,e,i,a,r,o,s,l,c,h,null)<=d/2}}},function(t,e,i){var n=i(49);t.exports={containStroke:function(t,e,i,a,r,o,s,l,u){if(0===s)return!1;var c=s;return!(u>e+c&&u>a+c&&u>o+c||u<e-c&&u<a-c&&u<o-c||l>t+c&&l>i+c&&l>r+c||l<t-c&&l<i-c&&l<r-c)&&n.quadraticProjectPoint(t,e,i,a,r,o,l,u,null)<=c/2}}},function(t,e,i){var n=i(56).normalizeRadian,a=2*Math.PI;t.exports={containStroke:function(t,e,i,r,o,s,l,u,c){if(0===l)return!1;var h=l;u-=t,c-=e;var d=Math.sqrt(u*u+c*c);if(d-h>i||d+h<i)return!1;if(Math.abs(r-o)%a<1e-4)return!0;if(s){var f=r;r=n(o),o=n(f)}else r=n(r),o=n(o);r>o&&(o+=a);var g=Math.atan2(c,u);return g<0&&(g+=a),g>=r&&g<=o||g+a>=r&&g+a<=o}}},function(t,e){var i=2*Math.PI;t.exports={normalizeRadian:function(t){return(t%=i)<0&&(t+=i),t}}},function(t,e){t.exports=function(t,e,i,n,a,r){return r>e&&r>n||r<e&&r<n||n===e?0:(r-e)/(n-e)*(i-t)+t>a?n<e?1:-1:0}},function(t,e,i){var n=i(48).CMD,a=i(16).applyTransform,r=[[],[],[]],o=Math.sqrt,s=Math.atan2;t.exports=function(t,e){var i,l,u,c,h,d=t.data,f=n.M,g=n.C,p=n.L,m=n.R,v=n.A,y=n.Q;for(u=0,c=0;u<d.length;){switch(i=d[u++],c=u,l=0,i){case f:case p:l=1;break;case g:l=3;break;case y:l=2;break;case v:var x=e[4],_=e[5],b=o(e[0]*e[0]+e[1]*e[1]),w=o(e[2]*e[2]+e[3]*e[3]),M=s(-e[1]/w,e[0]/b);d[u++]+=x,d[u++]+=_,d[u++]*=b,d[u++]*=w,d[u++]+=M,d[u++]+=M,c=u+=2;break;case m:S[0]=d[u++],S[1]=d[u++],a(S,S,e),d[c++]=S[0],d[c++]=S[1],S[0]+=d[u++],S[1]+=d[u++],a(S,S,e),d[c++]=S[0],d[c++]=S[1]}for(h=0;h<l;h++){var S;(S=r[h])[0]=d[u++],S[1]=d[u++],a(S,S,e),d[c++]=S[0],d[c++]=S[1]}}}},function(t,e,i){var n=i(45),a=i(15),r=i(3),o=i(60),s=new(i(61))(50);function l(t){n.call(this,t)}l.prototype={constructor:l,type:"image",brush:function(t){var e,i=this.style,n=i.image;if(!(e="string"==typeof n?this._image:n)&&n){var a=s.get(n);if(!a)return(e=new Image).onload=function(){e.onload=null;for(var t=0;t<a.pending.length;t++)a.pending[t].dirty()},a={image:e,pending:[this]},e.src=n,s.put(n,a),void(this._image=e);if(this._image=e=a.image,!e.width||!e.height)return void a.pending.push(this)}if(e){var r=i.width||e.width,l=i.height||e.height,u=i.x||0,c=i.y||0;if(!e.width||!e.height)return;if(t.save(),i.bind(t),this.setTransform(t),i.r&&(t.beginPath(),o.buildPath(t,i),t.clip()),i.sWidth&&i.sHeight)t.drawImage(e,h=i.sx||0,d=i.sy||0,i.sWidth,i.sHeight,u,c,r,l);else if(i.sx&&i.sy){var h,d;t.drawImage(e,h=i.sx,d=i.sy,r-h,l-d,u,c,r,l)}else t.drawImage(e,u,c,r,l);null==i.width&&(i.width=r),null==i.height&&(i.height=l),null!=i.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new a(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},r.inherits(l,n),t.exports=l},function(t,e){t.exports={buildPath:function(t,e){var i,n,a,r,o,s=e.x,l=e.y,u=e.width,c=e.height,h=e.r;u<0&&(s+=u,u=-u),c<0&&(l+=c,c=-c),"number"==typeof h?i=n=a=r=h:h instanceof Array?1===h.length?i=n=a=r=h[0]:2===h.length?(i=a=h[0],n=r=h[1]):3===h.length?(i=h[0],n=r=h[1],a=h[2]):(i=h[0],n=h[1],a=h[2],r=h[3]):i=n=a=r=0,i+n>u&&(i*=u/(o=i+n),n*=u/o),a+r>u&&(a*=u/(o=a+r),r*=u/o),n+a>c&&(n*=c/(o=n+a),a*=c/o),i+r>c&&(i*=c/(o=i+r),r*=c/o),t.moveTo(s+i,l),t.lineTo(s+u-n,l),0!==n&&t.quadraticCurveTo(s+u,l,s+u,l+n),t.lineTo(s+u,l+c-a),0!==a&&t.quadraticCurveTo(s+u,l+c,s+u-a,l+c),t.lineTo(s+r,l+c),0!==r&&t.quadraticCurveTo(s,l+c,s,l+c-r),t.lineTo(s,l+i),0!==i&&t.quadraticCurveTo(s,l,s+i,l)}}},function(t,e){var i=function(){this.head=null,this.tail=null,this._len=0},n=i.prototype;n.insert=function(t){var e=new a(t);return this.insertEntry(e),e},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._len++},n.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.len=function(){return this._len};var a=function(t){this.value=t},r=function(t){this._list=new i,this._map={},this._maxSize=t||10},o=r.prototype;o.put=function(t,e){var i=this._list,n=this._map;if(null==n[t]){var a=i.len();if(a>=this._maxSize&&a>0){var r=i.head;i.remove(r),delete n[r.key]}var o=i.insert(e);o.key=t,n[t]=o}},o.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},o.clear=function(){this._list.clear(),this._map={}},t.exports=r},function(t,e,i){var n=i(45),a=i(3),r=i(14),o=function(t){n.call(this,t)};o.prototype={constructor:o,type:"text",brush:function(t){var e=this.style,i=e.x||0,n=e.y||0,a=e.text,o=e.fill,s=e.stroke;if(null!=a&&(a+=""),a){if(t.save(),this.style.bind(t),this.setTransform(t),o&&(t.fillStyle=o),s&&(t.strokeStyle=s),t.font=e.textFont||e.font,t.textAlign=e.textAlign,e.textVerticalAlign){var l=r.getBoundingRect(a,t.font,e.textAlign,"top");switch(t.textBaseline="middle",e.textVerticalAlign){case"middle":n-=l.height/2-l.lineHeight/2;break;case"bottom":n-=l.height-l.lineHeight/2;break;default:n+=l.lineHeight/2}}else t.textBaseline=e.textBaseline;for(var u=r.measureText("\u56fd",t.font).width,c=a.split("\n"),h=0;h<c.length;h++)o&&t.fillText(c[h],i,n),s&&t.strokeText(c[h],i,n),n+=u;t.restore()}},getBoundingRect:function(){if(!this._rect){var t=this.style,e=t.textVerticalAlign,i=r.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,e?"top":t.textBaseline);switch(e){case"middle":i.y-=i.height/2;break;case"bottom":i.y-=i.height}i.x+=t.x||0,i.y+=t.y||0,this._rect=i}return this._rect}},a.inherits(o,n),t.exports=o},function(t,e,i){"use strict";t.exports=i(44).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}})},function(t,e,i){t.exports=i(44).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r0||0,0),r=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(o),c=Math.sin(o);t.moveTo(u*a+i,c*a+n),t.lineTo(u*r+i,c*r+n),t.arc(i,n,r,o,s,!l),t.lineTo(Math.cos(s)*a+i,Math.sin(s)*a+n),0!==a&&t.arc(i,n,a,s,o,l),t.closePath()}})},function(t,e,i){t.exports=i(44).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,a,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,a,!0)}})},function(t,e,i){var n=i(67);t.exports=i(44).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){n.buildPath(t,e,!0)}})},function(t,e,i){var n=i(68),a=i(69);t.exports={buildPath:function(t,e,i){var r=e.points,o=e.smooth;if(r&&r.length>=2){if(o&&"spline"!==o){var s=a(r,o,i,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var l=r.length,u=0;u<(i?l:l-1);u++){var c=s[2*u],h=s[2*u+1],d=r[(u+1)%l];t.bezierCurveTo(c[0],c[1],h[0],h[1],d[0],d[1])}}else{"spline"===o&&(r=n(r,i)),t.moveTo(r[0][0],r[0][1]),u=1;for(var f=r.length;u<f;u++)t.lineTo(r[u][0],r[u][1])}i&&t.closePath()}}}},function(t,e,i){var n=i(16);function a(t,e,i,n,a,r,o){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*o+(-3*(e-i)-2*s-l)*r+s*a+e}t.exports=function(t,e){for(var i=t.length,r=[],o=0,s=1;s<i;s++)o+=n.distance(t[s-1],t[s]);var l=o/2;for(l=l<i?i:l,s=0;s<l;s++){var u,c,h,d=s/(l-1)*(e?i:i-1),f=Math.floor(d),g=d-f,p=t[f%i];e?(u=t[(f-1+i)%i],c=t[(f+1)%i],h=t[(f+2)%i]):(u=t[0===f?f:f-1],c=t[f>i-2?i-1:f+1],h=t[f>i-3?i-1:f+2]);var m=g*g,v=g*m;r.push([a(u[0],p[0],c[0],h[0],g,m,v),a(u[1],p[1],c[1],h[1],g,m,v)])}return r}},function(t,e,i){var n=i(16),a=n.min,r=n.max,o=n.scale,s=n.distance,l=n.add;t.exports=function(t,e,i,u){var c,h,d,f,g=[],p=[],m=[],v=[];if(u){d=[1/0,1/0],f=[-1/0,-1/0];for(var y=0,x=t.length;y<x;y++)a(d,d,t[y]),r(f,f,t[y]);a(d,d,u[0]),r(f,f,u[1])}for(y=0,x=t.length;y<x;y++){var _=t[y];if(i)c=t[y?y-1:x-1],h=t[(y+1)%x];else{if(0===y||y===x-1){g.push(n.clone(t[y]));continue}c=t[y-1],h=t[y+1]}n.sub(p,h,c),o(p,p,e);var b=s(_,c),w=s(_,h),M=b+w;0!==M&&(b/=M,w/=M),o(m,p,-b),o(v,p,w);var S=l([],_,m),A=l([],_,v);u&&(r(S,S,d),a(S,S,f),r(A,A,d),a(A,A,f)),g.push(S),g.push(A)}return i&&g.push(g.shift()),g}},function(t,e,i){var n=i(67);t.exports=i(44).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){n.buildPath(t,e,!1)}})},function(t,e,i){var n=i(60);t.exports=i(44).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,a=e.y,r=e.width,o=e.height;e.r?n.buildPath(t,e):t.rect(i,a,r,o),t.closePath()}})},function(t,e,i){t.exports=i(44).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,a=e.x2,r=e.y2,o=e.percent;0!==o&&(t.moveTo(i,n),o<1&&(a=i*(1-o)+a*o,r=n*(1-o)+r*o),t.lineTo(a,r))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}})},function(t,e,i){"use strict";var n=i(49),a=i(16),r=n.quadraticSubdivide,o=n.cubicSubdivide,s=n.quadraticAt,l=n.cubicAt,u=n.quadraticDerivativeAt,c=n.cubicDerivativeAt,h=[];function d(t,e,i){return null===t.cpx2||null===t.cpy2?[(i?c:l)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?c:l)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?u:s)(t.x1,t.cpx1,t.x2,e),(i?u:s)(t.y1,t.cpy1,t.y2,e)]}t.exports=i(44).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,a=e.x2,s=e.y2,l=e.cpx1,u=e.cpy1,c=e.cpx2,d=e.cpy2,f=e.percent;0!==f&&(t.moveTo(i,n),null==c||null==d?(f<1&&(r(i,l,a,f,h),l=h[1],a=h[2],r(n,u,s,f,h),u=h[1],s=h[2]),t.quadraticCurveTo(l,u,a,s)):(f<1&&(o(i,l,c,a,f,h),l=h[1],c=h[2],a=h[3],o(n,u,d,s,f,h),u=h[1],d=h[2],s=h[3]),t.bezierCurveTo(l,u,c,d,a,s)))},pointAt:function(t){return d(this.shape,t,!1)},tangentAt:function(t){var e=d(this.shape,t,!0);return a.normalize(e,e)}})},function(t,e,i){t.exports=i(44).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r,0),r=e.startAngle,o=e.endAngle,s=e.clockwise,l=Math.cos(r),u=Math.sin(r);t.moveTo(l*a+i,u*a+n),t.arc(i,n,a,r,o,!s)}})},function(t,e,i){var n=i(44);t.exports=n.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape)},afterBrush:function(){for(var t=this.shape.paths,e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),n.prototype.getBoundingRect.call(this)}})},function(t,e,i){"use strict";var n=i(3),a=i(4),r=function(t,e,i,n,r){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,a.call(this,r)};r.prototype={constructor:r,type:"linear"},n.inherits(r,a),t.exports=r},function(t,e,i){"use strict";var n=i(3),a=i(4),r=function(t,e,i,n){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,a.call(this,n)};r.prototype={constructor:r,type:"radial"},n.inherits(r,a),t.exports=r},function(t,e,i){var n=i(31),a=i(79),r=i(80),o=i(84),s=i(85),l=!a.canvasSupported,u={canvas:i(86)},c={},h={version:"3.1.0",init:function(t,e){var i=new d(n(),t,e);return c[i.id]=i,i},dispose:function(t){if(t)t.dispose();else{for(var e in c)c[e].dispose();c={}}return h},getInstance:function(t){return c[t]},registerPainter:function(t,e){u[t]=e}},d=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,c=new o,h=i.renderer;if(l){if(!u.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");h="vml"}else h&&u[h]||(h="canvas");var d=new u[h](e,c,i);this.storage=c,this.painter=d,a.node||(this.handler=new r(d.getViewportRoot(),c,d)),this.animation=new s({stage:{update:function(){n._needsRefresh&&n.refreshImmediately()}}}),this.animation.start();var f=c.delFromMap,g=c.addToMap;c.delFromMap=function(t){var e=c.get(t);f.call(c,t),e&&e.removeSelfFromZr(n)},c.addToMap=function(t){g.call(c,t),t.addSelfToZr(n)}};d.prototype={constructor:d,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},resize:function(){this.painter.resize(),this.handler&&this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e,i){var a=n();return this.painter.pathToImage(a,t,e,i)},setDefaultCursorStyle:function(t){this.handler.setDefaultCursorStyle(t)},on:function(t,e,i){this.handler&&this.handler.on(t,e,i)},off:function(t,e){this.handler&&this.handler.off(t,e)},trigger:function(t,e){this.handler&&this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler&&this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete c[this.id]}},t.exports=h},function(t,e){var i,n,a,r,o,s,l,u,c,h,d,f,g,p,m,v,y,x,_,b,w,M,S;i="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:(a={},r={},o=(n=navigator.userAgent).match(/Web[kK]it[\/]{0,1}([\d.]+)/),s=n.match(/(Android);?[\s\/]+([\d.]+)?/),l=n.match(/(iPad).*OS\s([\d_]+)/),u=n.match(/(iPod)(.*OS\s([\d_]+))?/),c=!l&&n.match(/(iPhone\sOS)\s([\d_]+)/),d=(h=n.match(/(webOS|hpwOS)[\s\/]([\d.]+)/))&&n.match(/TouchPad/),f=n.match(/Kindle\/([\d.]+)/),g=n.match(/Silk\/([\d._]+)/),p=n.match(/(BlackBerry).*Version\/([\d.]+)/),m=n.match(/(BB10).*Version\/([\d.]+)/),v=n.match(/(RIM\sTablet\sOS)\s([\d.]+)/),y=n.match(/PlayBook/),x=n.match(/Chrome\/([\d.]+)/)||n.match(/CriOS\/([\d.]+)/),_=n.match(/Firefox\/([\d.]+)/),b=o&&n.match(/Mobile\//)&&!x,w=n.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!x,M=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),S=n.match(/Edge\/([\d.]+)/),(r.webkit=!!o)&&(r.version=o[1]),s&&(a.android=!0,a.version=s[2]),c&&!u&&(a.ios=a.iphone=!0,a.version=c[2].replace(/_/g,".")),l&&(a.ios=a.ipad=!0,a.version=l[2].replace(/_/g,".")),u&&(a.ios=a.ipod=!0,a.version=u[3]?u[3].replace(/_/g,"."):null),h&&(a.webos=!0,a.version=h[2]),d&&(a.touchpad=!0),p&&(a.blackberry=!0,a.version=p[2]),m&&(a.bb10=!0,a.version=m[2]),v&&(a.rimtabletos=!0,a.version=v[2]),y&&(r.playbook=!0),f&&(a.kindle=!0,a.version=f[1]),g&&(r.silk=!0,r.version=g[1]),!g&&a.android&&n.match(/Kindle Fire/)&&(r.silk=!0),x&&(r.chrome=!0,r.version=x[1]),_&&(r.firefox=!0,r.version=_[1]),M&&(r.ie=!0,r.version=M[1]),b&&(n.match(/Safari/)||a.ios)&&(r.safari=!0),w&&(r.webview=!0),M&&(r.ie=!0,r.version=M[1]),S&&(r.edge=!0,r.version=S[1]),a.tablet=!!(l||y||s&&!n.match(/Mobile/)||_&&n.match(/Tablet/)||M&&!n.match(/Phone/)&&n.match(/Touch/)),a.phone=!(a.tablet||a.ipod||!(s||c||h||p||m||x&&n.match(/Android/)||x&&n.match(/CriOS\/([\d.]+)/)||_&&n.match(/Mobile/)||M&&n.match(/Touch/))),{browser:r,os:a,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=10)}),t.exports=i},function(t,e,i){"use strict";var n=i(79),a=i(81),r=i(3),o=i(82),s=i(83),l=i(32),u=["click","dblclick","mousewheel","mouseout"];u.push("mouseup","mousedown","mousemove");var c=["touchstart","touchend","touchmove"],h=["pointerdown","pointerup","pointermove"],d=a.addEventListener,f=a.removeEventListener,g=a.normalizeEvent,p={mousemove:function(t){t=g(this.root,t);var e=this.findHover(t.zrX,t.zrY,null),i=this._hovered;this._hovered=e,this.root.style.cursor=e?e.cursor:this._defaultCursorStyle,i&&e!==i&&i.__zr&&this._dispatchProxy(i,"mouseout",t),this._dispatchProxy(e,"mousemove",t),e&&e!==i&&this._dispatchProxy(e,"mouseover",t)},mouseout:function(t){var e=(t=g(this.root,t)).toElement||t.relatedTarget;if(e!=this.root)for(;e&&9!=e.nodeType;){if(e===this.root)return;e=e.parentNode}this._dispatchProxy(this._hovered,"mouseout",t),this.trigger("globalout",{event:t})},touchstart:function(t){t=g(this.root,t),this._lastTouchMoment=new Date,m(this,t,"start"),p.mousemove.call(this,t),p.mousedown.call(this,t),x(this)},touchmove:function(t){m(this,t=g(this.root,t),"change"),p.mousemove.call(this,t),x(this)},touchend:function(t){m(this,t=g(this.root,t),"end"),p.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&p.click.call(this,t),x(this)}};function m(t,e,i){var n=t._gestureMgr;"start"===i&&n.clear();var a=n.recognize(e,t.findHover(e.zrX,e.zrY,null));if("end"===i&&n.clear(),a){var r=a.type;e.gestureEvent=r,t._dispatchProxy(a.target,r,a.event)}}r.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(t){p[t]=function(e){e=g(this.root,e);var i=this.findHover(e.zrX,e.zrY,null);if("mousedown"===t)this._downel=i,this._upel=i;else if("mosueup"===t)this._upel=i;else if("click"===t&&this._downel!==this._upel)return;this._dispatchProxy(i,t,e)}});var v=function(t,e,i){function a(e,i){r.each(e,function(e){d(t,_(e),i._handlers[e])},i)}l.call(this),this.root=t,this.storage=e,this.painter=i,this._defaultCursorStyle="default",this._gestureMgr=new s,this._handlers=[],this._touching=!1,function(t){for(var e=c.concat(h),i=0;i<e.length;i++)t._handlers[n=e[i]]=r.bind(p[n],t);for(i=0;i<u.length;i++){var n;t._handlers[n=u[i]]=a(p[n],t)}function a(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}}(this),n.touchEventsSupported&&a(c,this),a(u,this),o.call(this)};function y(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n=t;n;){if(n.silent||n.clipPath&&!n.clipPath.contain(e,i))return!1;n=n.parent}return!0}return!1}function x(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function _(t){return"mousewheel"===t&&n.browser.firefox?"DOMMouseScroll":t}v.prototype={constructor:v,resize:function(t){this._hovered=null},dispatch:function(t,e){var i=this._handlers[t];i&&i.call(this,e)},dispose:function(){for(var t=this.root,e=u.concat(c),i=0;i<e.length;i++){var n=e[i];f(t,_(n),this._handlers[n])}this.root=this.storage=this.painter=null},setDefaultCursorStyle:function(t){this._defaultCursorStyle=t},_dispatchProxy:function(t,e,i){for(var n="on"+e,a=function(t,e,i){return{type:t,event:i,target:e,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta}}(e,t,i),r=t;r&&(r[n]&&(a.cancelBubble=r[n].call(r,a)),r.trigger(e,a),r=r.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[n]&&t[n].call(t,a),t.trigger&&t.trigger(e,a)}))},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),a=n.length-1;a>=0;a--)if(!n[a].silent&&n[a]!==i&&!n[a].ignore&&y(n[a],t,e))return n[a]}},r.mixin(v,l),r.mixin(v,o),t.exports=v},function(t,e,i){"use strict";var n=i(32),a="undefined"!=typeof window&&!!window.addEventListener;function r(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}t.exports={normalizeEvent:function(t,e){if(null!=(e=e||window.event).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var n="touchend"!=i?e.targetTouches[0]:e.changedTouches[0];if(n){var a=r(t);e.zrX=n.clientX-a.left,e.zrY=n.clientY-a.top}}else{var o=r(t);e.zrX=e.clientX-o.left,e.zrY=e.clientY-o.top,e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}return e},addEventListener:function(t,e,i){a?t.addEventListener(e,i):t.attachEvent("on"+e,i)},removeEventListener:function(t,e,i){a?t.removeEventListener(e,i):t.detachEvent("on"+e,i)},stop:a?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},Dispatcher:n}},function(t,e){function i(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}i.prototype={constructor:i,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this._dispatchProxy(e,"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,a=i-this._x,r=n-this._y;this._x=i,this._y=n,e.drift(a,r,t),this._dispatchProxy(e,"drag",t.event);var o=this.findHover(i,n,e),s=this._dropTarget;this._dropTarget=o,e!==o&&(s&&o!==s&&this._dispatchProxy(s,"dragleave",t.event),o&&o!==s&&this._dispatchProxy(o,"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this._dispatchProxy(e,"dragend",t.event),this._dropTarget&&this._dispatchProxy(this._dropTarget,"drop",t.event),this._draggingTarget=null,this._dropTarget=null}},t.exports=i},function(t,e){"use strict";var i=function(){this._track=[]};function n(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}i.prototype={constructor:i,recognize:function(t,e){return this._doTrack(t,e),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e){var i=t.touches;if(i){for(var n={points:[],touches:[],target:e,event:t},a=0,r=i.length;a<r;a++){var o=i[a];n.points.push([o.clientX,o.clientY]),n.touches.push(o)}this._track.push(n)}},_recognize:function(t){for(var e in a)if(a.hasOwnProperty(e)){var i=a[e](this._track,t);if(i)return i}}};var a={pinch:function(t,e){var i=t.length;if(i){var a,r=(t[i-1]||{}).points,o=(t[i-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var s=n(r)/n(o);!isFinite(s)&&(s=1),e.pinchScale=s;var l=[((a=r)[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}};t.exports=i},function(t,e,i){"use strict";var n=i(3),a=i(29);function r(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2===e.z2?t.__renderidx-e.__renderidx:t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var o=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};o.prototype={constructor:o,getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,a=e.length;n<a;n++)this._updateAndAddDisplayable(e[n],null,t);for(i.length=this._displayListLen,n=0,a=i.length;n<a;n++)i[n].__renderidx=n;i.sort(r)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.clipPath;if(n&&(n.parent=t,n.updateTransform(),e?(e=e.slice()).push(n):e=[n]),"group"==t.type){for(var a=t._children,r=0;r<a.length;r++){var o=a[r];o.__dirty=t.__dirty||o.__dirty,this._updateAndAddDisplayable(o,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){this._elements[t.id]||(t instanceof a&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof a&&i.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var r=t.length;e<r;e++)this.delRoot(t[e])}else{var o,s=n.indexOf(this._roots,o="string"==typeof t?this._elements[t]:t);s>=0&&(this.delFromMap(o.id),this._roots.splice(s,1),o instanceof a&&o.delChildrenFromStorage(this))}},addToMap:function(t){return t instanceof a&&(t.__storage=this),t.dirty(),this._elements[t.id]=t,this},get:function(t){return this._elements[t]},delFromMap:function(t){var e=this._elements,i=e[t];return i&&(delete e[t],i instanceof a&&(i.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null}},t.exports=o},function(t,e,i){"use strict";var n=i(3),a=i(81).Dispatcher,r="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},o=i(35),s=function(t){this.stage=(t=t||{}).stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time=0,a.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=n.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime(),e=t-this._time,i=this._clips,n=i.length,a=[],r=[],o=0;o<n;o++){var s=i[o],l=s.step(t);l&&(a.push(l),r.push(s))}for(o=0;o<n;)i[o]._needsRemove?(i[o]=i[n-1],i.pop(),n--):o++;for(n=a.length,o=0;o<n;o++)r[o].fire(a[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},start:function(){var t=this;this._running=!0,this._time=(new Date).getTime(),r(function e(){t._running&&(r(e),t._update())})},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(t,e){return new o(t,(e=e||{}).loop,e.getter,e.setter)}},n.mixin(s,a),t.exports=s},function(t,e,i){"use strict";var n=i(40),a=i(3),r=i(39),o=i(15),s=i(87);function l(t){return parseInt(t,10)}function u(t){t.__unusedCount++}function c(t){t.__dirty=!1,1==t.__unusedCount&&t.clear()}var h=new o(0,0,0,0),d=new o(0,0,0,0);function f(t,e,i){return h.copy(t.getBoundingRect()),t.transform&&h.applyTransform(t.transform),d.width=e,d.height=i,!h.intersect(d)}function g(t,e){if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}function p(t,e){for(var i=0;i<t.length;i++){var n,a=t[i];a.transform&&e.transform((n=a.transform)[0],n[1],n[2],n[3],n[4],n[5]);var r=a.path;r.beginPath(e),a.buildPath(r,a.shape),e.clip(),a.transform&&e.transform((n=a.invTransform)[0],n[1],n[2],n[3],n[4],n[5])}}var m=function(t,e,i){var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this.dpr=(i=i||{}).devicePixelRatio||n.devicePixelRatio,this._singleCanvas=a,this.root=t;var r=t.style;if(r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e,a){u=t.height,this._width=l=t.width,this._height=u;var o=new s(t,this,1);o.initContext(),this._layers={0:o},this._zlevelList=[0]}else{var l=this._getWidth(),u=this._getHeight();this._width=l,this._height=u;var c=document.createElement("div");this._domRoot=c;var h=c.style;h.position="relative",h.overflow="hidden",h.width=this._width+"px",h.height=this._height+"px",t.appendChild(c),this._layers={},this._zlevelList=[]}this._layerConfig={},this.pathToImage=this._createPathToImage()};m.prototype={constructor:m,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._paintList(e,t);for(var n=0;n<i.length;n++){var a=this._layers[i[n]];!a.isBuildin&&a.refresh&&a.refresh()}return this},_paintList:function(t,e){var i,n,a;null==e&&(e=!1),this._updateLayerStatus(t);var o=this._width,s=this._height;this.eachBuildinLayer(u);for(var l=null,h=0,d=t.length;h<d;h++){var m=t[h],v=this._singleCanvas?0:m.zlevel;if(n!==v&&((i=this.getLayer(n=v)).isBuildin||r("ZLevel "+n+" has been used by unkown layer "+i.id),a=i.ctx,i.__unusedCount=0,(i.__dirty||e)&&i.clear()),(i.__dirty||e)&&!m.invisible&&0!==m.style.opacity&&m.scale[0]&&m.scale[1]&&(!m.culling||!f(m,o,s))){var y=m.__clipPaths;g(y,l)&&(l&&a.restore(),y&&(a.save(),p(y,a)),l=y),m.beforeBrush&&m.beforeBrush(a),m.brush(a,!1),m.afterBrush&&m.afterBrush(a)}m.__dirty=!1}l&&a.restore(),this.eachBuildinLayer(c)},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||((e=new s("zr_"+t,this,this.dpr)).isBuildin=!0,this._layerConfig[t]&&a.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,a=n.length,o=null,s=-1,l=this._domRoot;if(i[t])r("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.isBuildin||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(a>0&&t>n[0]){for(s=0;s<a-1&&!(n[s]<t&&n[s+1]>t);s++);o=i[n[s]]}if(n.splice(s+1,0,t),o){var u=o.dom;u.nextSibling?l.insertBefore(e.dom,u.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom);i[t]=e}else r("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,n,a=this._zlevelList;for(n=0;n<a.length;n++)t.call(e,this._layers[i=a[n]],i)},eachBuildinLayer:function(t,e){var i,n,a,r=this._zlevelList;for(a=0;a<r.length;a++)(i=this._layers[n=r[a]]).isBuildin&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,a,r=this._zlevelList;for(a=0;a<r.length;a++)(i=this._layers[n=r[a]]).isBuildin||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,i={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0});for(var n=0,a=t.length;n<a;n++){var r=t[n],o=e[this._singleCanvas?0:r.zlevel];if(o){if(o.elCount++,o.__dirty)continue;o.__dirty=r.__dirty}}this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.__dirty=!0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?a.merge(i[t],e,!0):i[t]=e;var n=this._layers[t];n&&a.merge(n,i[t],!0)}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(a.indexOf(i,t),1))},resize:function(t,e){var i=this._domRoot;if(i.style.display="none",t=t||this._getWidth(),e=e||this._getHeight(),i.style.display="",this._width!=t||e!=this._height){for(var n in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers[n].resize(t,e);this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(this._singleCanvas)return this._layers[0].dom;var e=new s("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext();var i=e.ctx;e.clearColor=t.backgroundColor,e.clear();for(var n=this.storage.getDisplayList(!0),a=0;a<n.length;a++){var r=n[a];r.invisible||(r.beforeBrush&&r.beforeBrush(i),r.brush(i,!1),r.afterBrush&&r.afterBrush(i))}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientWidth||l(e.width)||l(t.style.width))-(l(e.paddingLeft)||0)-(l(e.paddingRight)||0)|0},_getHeight:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientHeight||l(e.height)||l(t.style.height))-(l(e.paddingTop)||0)-(l(e.paddingBottom)||0)|0},_pathToImage:function(t,e,n,a,r){var o=document.createElement("canvas"),s=o.getContext("2d");o.width=n*r,o.height=a*r,s.clearRect(0,0,n*r,a*r);var l={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(s);var u=new(i(59))({id:t,style:{x:0,y:0,image:o}});return null!=l.position&&(u.position=e.position=l.position),null!=l.rotation&&(u.rotation=e.rotation=l.rotation),null!=l.scale&&(u.scale=e.scale=l.scale),u},_createPathToImage:function(){var t=this;return function(e,i,n,a){return t._pathToImage(e,i,n,a,t.dpr)}}},t.exports=m},function(t,e,i){var n=i(3),a=i(40);function r(){return!1}function o(t,e,i,n){var a=document.createElement(e),r=i.getWidth(),o=i.getHeight(),s=a.style;return s.position="absolute",s.left=0,s.top=0,s.width=r+"px",s.height=o+"px",a.width=r*n,a.height=o*n,a.setAttribute("data-zr-dom-id",t),a}var s=function(t,e,i){var s;i=i||a.devicePixelRatio,"string"==typeof t?s=o(t,"canvas",e,i):n.isObject(t)&&(t=(s=t).id),this.id=t,this.dom=s;var l=s.style;l&&(s.onselectstart=r,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};s.prototype={constructor:s,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var t=this.dpr;1!=t&&this.ctx.scale(t,t)},createBackBuffer:function(){var t=this.dpr;this.domBack=o("back-"+this.id,"canvas",this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,a=n.style,r=this.domBack;a.width=t+"px",a.height=e+"px",n.width=t*i,n.height=e*i,1!=i&&this.ctx.scale(i,i),r&&(r.width=t*i,r.height=e*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(t){var e=this.dom,i=this.ctx,n=e.width,a=e.height,r=this.clearColor,o=this.motionBlur&&!t,s=this.lastFrameAlpha,l=this.dpr;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/l,a/l)),i.clearRect(0,0,n/l,a/l),r&&(i.save(),i.fillStyle=this.clearColor,i.fillRect(0,0,n/l,a/l),i.restore()),o){var u=this.domBack;i.save(),i.globalAlpha=s,i.drawImage(u,0,0,n/l,a/l),i.restore()}}},t.exports=s},function(t,e,i){var n=i(42),a=i(3),r=Math.PI;t.exports=function(t,e){a.defaults(e=e||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new n.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),o=new n.Arc({shape:{startAngle:-r/2,endAngle:-r/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new n.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*r/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*r/2}).delay(300).start("circularInOut");var l=new n.Group;return l.add(o),l.add(s),l.add(i),l.resize=function(){var e=t.getWidth()/2,n=t.getHeight()/2;o.setShape({cx:e,cy:n});var a=o.shape.r;s.setShape({x:e-a,y:n-a,width:2*a,height:2*a}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},l.resize(),l}},function(t,e,i){var n=i(4);t.exports=function(t,e,i){function a(t){var a=[e,"normal","color"],r=i.get("color"),o=t.getData(),s=t.get(a)||r[t.seriesIndex%r.length];o.setVisual("color",s),i.isSeriesFiltered(t)||("function"!=typeof s||s instanceof n||o.each(function(e){o.setItemVisual(e,"color",s(t.getDataParams(e)))}),o.each(function(t){var e=o.getItemModel(t).get(a,!0);null!=e&&o.setItemVisual(t,"color",e)}))}t?i.eachSeriesByType(t,a):i.eachSeries(a)}},function(t,e,i){var n=i(3),a=i(91);function r(t){u(o,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var o=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],s=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],l=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],u=n.each;t.exports=function(t){u(t.series,function(t){if(n.isObject(t)){var e=t.type;if(a(t),"pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var i=function(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&null!=(i=i&&i[e[n]]);n++);return i}(t,"pointer.color");null!=i&&function(t,e,i,n){e=e.split(",");for(var a,r=t,o=0;o<e.length-1;o++)null==r[a=e[o]]&&(r[a]={}),r=r[a];null==r[e[o]]&&(r[e[o]]=i)}(t,"itemStyle.normal.color",i)}for(var o=0;o<l.length;o++)if(l[o]===t.type){r(t);break}}}),t.dataRange&&(t.visualMap=t.dataRange),u(s,function(e){var i=t[e];i&&(n.isArray(i)||(i=[i]),u(i,function(t){r(t)}))})}},function(t,e,i){var n=i(3),a=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function r(t){var e=t&&t.itemStyle;e&&n.each(a,function(i){var a=e.normal,r=e.emphasis;a&&a[i]&&(t[i]=t[i]||{},t[i].normal?n.merge(t[i].normal,a[i]):t[i].normal=a[i],a[i]=null),r&&r[i]&&(t[i]=t[i]||{},t[i].emphasis?n.merge(t[i].emphasis,r[i]):t[i].emphasis=r[i],r[i]=null)})}t.exports=function(t){if(t){r(t),r(t.markPoint),r(t.markLine);var e=t.data;if(e){for(var i=0;i<e.length;i++)r(e[i]);var a=t.markPoint;if(a&&a.data){var o=a.data;for(i=0;i<o.length;i++)r(o[i])}var s=t.markLine;if(s&&s.data){var l=s.data;for(i=0;i<l.length;i++)n.isArray(l[i])?(r(l[i][0]),r(l[i][1])):r(l[i])}}}}},function(t,e,i){var n=i(3),a=i(1);i(93),i(98),a.registerVisualCoding("chart",n.curry(i(104),"line","circle","line")),a.registerLayout(n.curry(i(105),"line")),a.registerProcessor("statistic",n.curry(i(106),"line")),i(107)},function(t,e,i){"use strict";var n=i(94),a=i(27);t.exports=a.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return n(t.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear"}})},function(t,e,i){"use strict";var n=i(95),a=i(97),r=i(3),o=i(5),s=i(25),l=o.getDataItemValue,u=o.converDataValue;function c(t){return"category"!==t&&"time"!==t}function h(t){return"category"===t?"ordinal":"time"===t?"time":"float"}var d={cartesian2d:function(t,e,i){var n=i.getComponent("xAxis",e.get("xAxisIndex")),r=i.getComponent("yAxis",e.get("yAxisIndex"));if(!n||!r)throw new Error("Axis option not found");var o=n.get("type"),s=r.get("type"),l=[{name:"x",type:h(o),stackable:c(o)},{name:"y",type:h(s),stackable:c(s)}],u="category"===o;return a(l,t,["x","y","z"]),{dimensions:l,categoryIndex:u?0:1,categoryAxisModel:u?n:"category"===s?r:null}},polar:function(t,e,i){var n=e.get("polarIndex")||0,r=function(t){return t.get("polarIndex")===n},o=i.findComponents({mainType:"angleAxis",filter:r})[0],s=i.findComponents({mainType:"radiusAxis",filter:r})[0];if(!o||!s)throw new Error("Axis option not found");var l=s.get("type"),u=o.get("type"),d=[{name:"radius",type:h(l),stackable:c(l)},{name:"angle",type:h(u),stackable:c(u)}],f="category"===u;return a(d,t,["radius","angle","value"]),{dimensions:d,categoryIndex:f?1:0,categoryAxisModel:f?o:"category"===l?s:null}},geo:function(t,e,i){return{dimensions:a([{name:"lng"},{name:"lat"}],t,["lng","lat","value"])}}};t.exports=function(t,e,i){if(!r.isArray(t=t||[]))throw new Error("Invalid data.");var o=e.get("coordinateSystem"),c=d[o],h=s.get(o),f=c&&c(t,e,i),g=f&&f.dimensions;g||(g=a(g=h&&h.dimensions||["x","y"],t,g.concat(["value"])));var p,m=f&&f.categoryAxisModel,v="ordinal"===g[0].type?0:"ordinal"===g[1].type?1:-1,y=new n(g,e),x=function(t,e){var i=[];if(t&&t.categoryAxisModel){var n=t.categoryAxisModel.getCategories();if(n){var a=e.length;if(r.isArray(e[0])&&e[0].length>1){i=[];for(var o=0;o<a;o++)i[o]=n[e[o][t.categoryIndex||0]]}else i=n.slice(0)}}return i}(f,t),_=m&&function(t){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t);return null!=e&&!r.isArray(l(e))}(t)?function(t,e,i,n){return n===v?i:u(l(t),g[n])}:function(t,e,i,n){var a=l(t),o=u(a&&a[n],g[n]);return v===n&&"string"==typeof o&&(p=p||m.getCategories(),(o=r.indexOf(p,o))<0&&!isNaN(o)&&(o=+o)),o};return y.initData(t,x,_),y}},function(t,e,i){(function(e){var n="undefined",a="undefined"==typeof window?e:window,r={float:typeof a.Float64Array===n?Array:a.Float64Array,int:typeof a.Int32Array===n?Array:a.Int32Array,ordinal:Array,number:Array,time:Array},o=i(8),s=i(96),l=i(3),u=i(5),c=l.isObject,h=["stackedOn","_nameList","_idList","_rawData"],d=function(t,e){l.each(h.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods},f=function(t,e){t=t||["x","y"];for(var i={},n=[],a=0;a<t.length;a++){var r,o={};"string"==typeof t[a]?o={name:r=t[a],stackable:!1,type:"number"}:(r=(o=t[a]).name,o.type=o.type||"number"),n.push(r),i[r]=o}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[]},g=f.prototype;function p(t){return l.isArray(t)||(t=[t]),t}function m(t,e){var i=t.dimensions,n=new f(l.map(i,t.getDimensionInfo,t),t.hostModel);d(n,t);for(var a=n._storage={},r=t._storage,o=0;o<i.length;o++){var s=i[o],u=r[s];a[s]=l.indexOf(e,s)>=0?new u.constructor(r[s].length):r[s]}return n}g.type="list",g.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},g.getDimensionInfo=function(t){return l.clone(this._dimensionInfos[this.getDimension(t)])},g.initData=function(t,e,i){if(!l.isArray(t=t||[]))throw new Error("Invalid data.");this._rawData=t;var n=this._storage={},a=this.indices=[],o=this.dimensions,s=t.length,c=this._dimensionInfos,h=[],d={};e=e||[];for(var f=0;f<o.length;f++)n[o[f]]=new(0,r[c[o[f]].type])(s);i=i||function(t,e,i,n){var a=u.getDataItemValue(t);return u.converDataValue(l.isArray(a)?a[n]:a,c[e])};for(var g=0;g<t.length;g++){for(var p=t[g],m=0;m<o.length;m++){var v=o[m];n[v][g]=i(p,v,g,m)}a.push(g)}for(f=0;f<t.length;f++){var y="";e[f]||(e[f]=t[f].name,y=t[f].id);var x=e[f]||"";!y&&x&&(d[x]=d[x]||0,y=x,d[x]>0&&(y+="__ec__"+d[x]),d[x]++),y&&(h[f]=y)}this._nameList=e,this._idList=h},g.count=function(){return this.indices.length},g.get=function(t,e,i){var n=this._storage,a=this.indices[e];if(null==a)return NaN;var r=n[t]&&n[t][a];if(i){var o=this._dimensionInfos[t];if(o&&o.stackable)for(var s=this.stackedOn;s;){var l=s.get(t,e);(r>=0&&l>0||r<=0&&l<0)&&(r+=l),s=s.stackedOn}}return r},g.getValues=function(t,e,i){var n=[];l.isArray(t)||(i=e,e=t,t=this.dimensions);for(var a=0,r=t.length;a<r;a++)n.push(this.get(t[a],e,i));return n},g.hasValue=function(t){for(var e=this.dimensions,i=this._dimensionInfos,n=0,a=e.length;n<a;n++)if("ordinal"!==i[e[n]].type&&isNaN(this.get(e[n],t)))return!1;return!0},g.getDataExtent=function(t,e){var i=this._storage[t],n=this.getDimensionInfo(t);e=n&&n.stackable&&e;var a,r=(this._extent||(this._extent={}))[t+!!e];if(r)return r;if(i){for(var o=1/0,s=-1/0,l=0,u=this.count();l<u;l++)(a=this.get(t,l,e))<o&&(o=a),a>s&&(s=a);return this._extent[t+e]=[o,s]}return[1/0,-1/0]},g.getSum=function(t,e){var i=0;if(this._storage[t])for(var n=0,a=this.count();n<a;n++){var r=this.get(t,n,e);isNaN(r)||(i+=r)}return i},g.indexOf=function(t,e){var i=this._storage[t],n=this.indices;if(i)for(var a=0,r=n.length;a<r;a++)if(i[n[a]]===e)return a;return-1},g.indexOfName=function(t){for(var e=this.indices,i=this._nameList,n=0,a=e.length;n<a;n++)if(i[e[n]]===t)return n;return-1},g.indexOfNearest=function(t,e,i){if(this._storage[t]){for(var n=Number.MAX_VALUE,a=-1,r=0,o=this.count();r<o;r++){var s=e-this.get(t,r,i),l=Math.abs(s);(l<n||l===n&&s>0)&&(n=l,a=r)}return a}return-1},g.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e},g.getRawDataItem=function(t){return this._rawData[this.getRawIndex(t)]},g.getName=function(t){return this._nameList[this.indices[t]]||""},g.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""},g.each=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]);var a=[],r=(t=l.map(p(t),this.getDimension,this)).length,o=this.indices;n=n||this;for(var s=0;s<o.length;s++)if(0===r)e.call(n,s);else if(1===r)e.call(n,this.get(t[0],s,i),s);else{for(var u=0;u<r;u++)a[u]=this.get(t[u],s,i);a[u]=s,e.apply(n,a)}},g.filterSelf=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]);var a=[],r=[],o=(t=l.map(p(t),this.getDimension,this)).length,s=this.indices;n=n||this;for(var u=0;u<s.length;u++){var c;if(1===o)c=e.call(n,this.get(t[0],u,i),u);else{for(var h=0;h<o;h++)r[h]=this.get(t[h],u,i);r[h]=u,c=e.apply(n,r)}c&&a.push(s[u])}return this.indices=a,this._extent={},this},g.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]);var a=[];return this.each(t,function(){a.push(e&&e.apply(this,arguments))},i,n),a},g.map=function(t,e,i,n){var a=m(this,t=l.map(p(t),this.getDimension,this)),r=a.indices=this.indices,o=a._storage,s=[];return this.each(t,function(){var i=arguments[arguments.length-1],n=e&&e.apply(this,arguments);if(null!=n){"number"==typeof n&&(s[0]=n,n=s);for(var a=0;a<n.length;a++){var l=t[a],u=o[l],c=r[i];u&&(u[c]=n[a])}}},i,n),a},g.downSample=function(t,e,i,n){for(var a=m(this,[t]),r=this._storage,o=a._storage,s=this.indices,l=a.indices=[],u=[],c=[],h=Math.floor(1/e),d=o[t],f=this.count(),g=0;g<r[t].length;g++)o[t][g]=r[t][g];for(g=0;g<f;g+=h){h>f-g&&(u.length=h=f-g);for(var p=0;p<h;p++)u[p]=d[v=s[g+p]],c[p]=v;var v,y=i(u);d[v=c[n(u,y)||0]]=y,l.push(v)}return a},g.getItemModel=function(t){var e=this.hostModel;return new o(this._rawData[t=this.indices[t]],e,e&&e.ecModel)},g.diff=function(t){var e=this._idList,i=t&&t._idList;return new s(t?t.indices:[],this.indices,function(t){return i[t]||t+""},function(t){return e[t]||t+""})},g.getVisual=function(t){var e=this._visual;return e&&e[t]},g.setVisual=function(t,e){if(c(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},g.setLayout=function(t,e){if(c(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},g.getLayout=function(t){return this._layout[t]},g.getItemLayout=function(t){return this._itemLayouts[t]},g.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?l.extend(this._itemLayouts[t]||{},e):e},g.clearItemLayouts=function(){this._itemLayouts.length=0},g.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],a=n&&n[e];return null!=a||i?a:this.getVisual(e)},g.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};if(this._itemVisuals[t]=n,c(e))for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);else n[e]=i};var v=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};g.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(v,e)),this._graphicEls[t]=e},g.getItemGraphicEl=function(t){return this._graphicEls[t]},g.eachItemGraphicEl=function(t,e){l.each(this._graphicEls,function(i,n){i&&t&&t.call(e,i,n)})},g.cloneShallow=function(){var t=l.map(this.dimensions,this.getDimensionInfo,this),e=new f(t,this.hostModel);return e._storage=this._storage,d(e,this),e.indices=this.indices.slice(),e},g.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(l.slice(arguments)))})},g.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],g.CHANGABLE_METHODS=["filterSelf"],t.exports=f}).call(e,function(){return this}())},function(t,e){"use strict";function i(t){return t}function n(t,e,n,a){this._old=t,this._new=e,this._oldKeyGetter=n||i,this._newKeyGetter=a||i}function a(t,e,i){for(var n=0;n<t.length;n++){var a=i(t[n]),r=e[a];null==r?e[a]=n:(r.length||(e[a]=r=[r]),r.push(n))}}n.prototype={constructor:n,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i=this._oldKeyGetter,n=this._newKeyGetter,r={};for(a(t,{},i),a(e,r,n),l=0;l<t.length;l++)null!=(s=r[o=i(t[l])])?((u=s.length)?(1===u&&(r[o]=null),s=s.unshift()):r[o]=null,this._update&&this._update(s,l)):this._remove&&this._remove(l);for(var o in r)if(r.hasOwnProperty(o)){var s;if(null==(s=r[o]))continue;if(s.length)for(var l=0,u=s.length;l<u;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}},t.exports=n},function(t,e,i){var n=i(3);function a(t,e){for(var i=0,a=t.length;i<a;i++){var o=r(t[i]);if(!n.isArray(o))return!1;if(null!=(o=o[e])&&isFinite(o))return!1;if(n.isString(o)&&"-"!==o)return!0}return!1}function r(t){return n.isArray(t)?t:n.isObject(t)?t.value:t}t.exports=function(t,e,i,o){if(!e)return t;var s=r(e[0]),l=n.isArray(s)&&s.length||1;i=i||[],o=o||"extra";for(var u=0;u<l;u++)if(!t[u]){var c=i[u]||o+(u-i.length);t[u]=a(e,u)?{type:"ordinal",name:c}:c}return t}},function(t,e,i){"use strict";var n=i(3),a=i(99),r=i(100),o=i(102),s=i(42),l=i(103),u=i(41);function c(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],a=e[i];if(n[0]!==a[0]||n[1]!==a[1])return}return!0}}function h(t){return"number"==typeof t?t:t?.3:0}function d(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function f(t){return t>=0?1:-1}function g(t,e){return null!=e.dataIndex?e.dataIndex:null!=e.name?t.indexOfName(e.name):void 0}function p(t,e,i){return"polar"===t.type?function(t,e,i){var n=t.getAngleAxis(),a=t.getRadiusAxis().getExtent(),r=n.getExtent(),o=Math.PI/180,l=new s.Sector({shape:{cx:t.cx,cy:t.cy,r0:a[0],r:a[1],startAngle:-r[0]*o,endAngle:-r[1]*o,clockwise:n.inverse}});return e&&(l.shape.endAngle=-r[0]*o,s.initProps(l,{shape:{endAngle:-r[1]*o}},i)),l}(t,e,i):function(t,e,i){var n=d(t.getAxis("x")),a=d(t.getAxis("y")),r=t.getBaseAxis().isHorizontal(),o=Math.min(n[0],n[1]),l=Math.min(a[0],a[1]),u=Math.max(n[0],n[1])-o,c=Math.max(a[0],a[1])-l,h=i.get("lineStyle.normal.width")||2,f=i.get("clipOverflow")?h/2:Math.max(u,c);r?(l-=f,c+=2*f):(o-=f,u+=2*f);var g=new s.Rect({shape:{x:o,y:l,width:u,height:c}});return e&&(g.shape[r?"width":"height"]=0,s.initProps(g,{shape:{width:u,height:c}},i)),g}(t,e,i)}t.exports=u.extend({type:"line",init:function(){var t=new s.Group,e=new a;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var a=t.coordinateSystem,r=this.group,o=t.getData(),s=t.getModel("lineStyle.normal"),l=t.getModel("areaStyle.normal"),u=o.mapArray(o.getItemLayout,!0),d="polar"===a.type,g=this._coordSys,m=this._symbolDraw,v=this._polyline,y=this._polygon,x=this._lineGroup,_=t.get("animation"),b=!l.isEmpty(),w=function(t,e){var i=t.getBaseAxis(),n=t.getOtherAxis(i),a=i.onZero?0:n.scale.getExtent()[0],r=n.dim,o="x"===r||"radius"===r?1:0;return e.mapArray([r],function(n,s){for(var l,u=e.stackedOn;u&&f(u.get(r,s))===f(n);){l=u;break}var c=[];return c[o]=e.get(i.dim,s),c[1-o]=l?l.get(r,s,!0):a,t.dataToPoint(c)},!0)}(a,o),M=t.get("showSymbol"),S=M&&!d&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(o,a),A=this._data;A&&A.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),A.setItemGraphicEl(e,null))}),M||m.remove(),r.add(x),v&&g.type===a.type?(b&&!y?y=this._newPolygon(u,w,a,_):y&&!b&&(x.remove(y),y=this._polygon=null),x.setClipPath(p(a,!1,t)),M&&m.updateData(o,S),o.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),c(this._stackedOnPoints,w)&&c(this._points,u)||(_?this._updateAnimation(o,w,a,i):(v.setShape({points:u}),y&&y.setShape({points:u,stackedOnPoints:w})))):(M&&m.updateData(o,S),v=this._newPolyline(u,a,_),b&&(y=this._newPolygon(u,w,a,_)),x.setClipPath(p(a,!0,t))),v.useStyle(n.defaults(s.getLineStyle(),{fill:"none",stroke:o.getVisual("color"),lineJoin:"bevel"}));var I=t.get("smooth");if(I=h(t.get("smooth")),v.setShape({smooth:I,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),y){var T=o.stackedOn,C=0;y.useStyle(n.defaults(l.getAreaStyle(),{fill:o.getVisual("color"),opacity:.7,lineJoin:"bevel"})),T&&(C=h(T.hostModel.get("smooth"))),y.setShape({smooth:I,stackedOnSmooth:C,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=o,this._coordSys=a,this._stackedOnPoints=w,this._points=u},highlight:function(t,e,i,n){var a=t.getData(),o=g(a,n);if(null!=o&&o>=0){var s=a.getItemGraphicEl(o);if(!s){var l=a.getItemLayout(o);(s=new r(a,o,i)).position=l,s.setZ(t.get("zlevel"),t.get("z")),s.ignore=isNaN(l[0])||isNaN(l[1]),s.__temp=!0,a.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else u.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var a=t.getData(),r=g(a,n);if(null!=r&&r>=0){var o=a.getItemGraphicEl(r);o&&(o.__temp?(a.setItemGraphicEl(r,null),this.group.remove(o)):o.downplay())}else u.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new l.Polyline({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new l.Polygon({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(t,e){var i=e.getAxesByScale("ordinal")[0];if(i&&i.isLabelIgnored)return n.bind(i.isLabelIgnored,i)},_updateAnimation:function(t,e,i,n){var a=this._polyline,r=this._polygon,l=t.hostModel,u=o(this._data,t,this._stackedOnPoints,e,this._coordSys,i);a.shape.points=u.current,s.updateProps(a,{shape:{points:u.next}},l),r&&(r.setShape({points:u.current,stackedOnPoints:u.stackedOnCurrent}),s.updateProps(r,{shape:{points:u.next,stackedOnPoints:u.stackedOnNext}},l));for(var c=[],h=u.status,d=0;d<h.length;d++)if("="===h[d].cmd){var f=t.getItemGraphicEl(h[d].idx1);f&&c.push({el:f,ptIdx:d})}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<c.length;t++)c[t].el.attr("position",a.shape.points[c[t].ptIdx])})},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(t,e,i){var n=i(42),a=i(100);function r(t){this.group=new n.Group,this._symbolCtor=t||a}var o=r.prototype;function s(t,e,i){var n=t.getItemLayout(e);return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(i&&i(e))&&"none"!==t.getItemVisual(e,"symbol")}o.updateData=function(t,e){var i=this.group,a=t.hostModel,r=this._data,o=this._symbolCtor;t.diff(r).add(function(n){var a=t.getItemLayout(n);if(s(t,n,e)){var r=new o(t,n);r.attr("position",a),t.setItemGraphicEl(n,r),i.add(r)}}).update(function(l,u){var c=r.getItemGraphicEl(u),h=t.getItemLayout(l);s(t,l,e)?(c?(c.updateData(t,l),n.updateProps(c,{position:h},a)):(c=new o(t,l)).attr("position",h),i.add(c),t.setItemGraphicEl(l,c)):i.remove(c)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},o.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,i){e.attr("position",t.getItemLayout(i))})},o.remove=function(t){var e=this.group,i=this._data;i&&(t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())},t.exports=r},function(t,e,i){var n=i(3),a=i(101),r=i(42),o=i(7);function s(t){return n.isArray(t)||(t=[+t,+t]),t}function l(t,e){r.Group.call(this),this.updateData(t,e)}var u=l.prototype;function c(t,e){this.parent.drift(t,e)}u._createSymbol=function(t,e,i){this.removeAll();var n=e.hostModel,o=e.getItemVisual(i,"color"),l=a.createSymbol(t,-.5,-.5,1,1,o);l.attr({z2:100,culling:!0,scale:[0,0]}),l.drift=c;var u=s(e.getItemVisual(i,"symbolSize"));r.initProps(l,{scale:u},n,i),this._symbolType=t,this.add(l)},u.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},u.getScale=function(){return this.childAt(0).scale},u.highlight=function(){this.childAt(0).trigger("emphasis")},u.downplay=function(){this.childAt(0).trigger("normal")},u.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},u.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},u.updateData=function(t,e){var i=t.getItemVisual(e,"symbol")||"circle",n=t.hostModel,a=s(t.getItemVisual(e,"symbolSize"));if(i!==this._symbolType)this._createSymbol(i,t,e);else{var o=this.childAt(0);r.updateProps(o,{scale:a},n,e)}this._updateCommon(t,e,a),this._seriesModel=n};var h=["itemStyle","normal"],d=["itemStyle","emphasis"],f=["label","normal"],g=["label","emphasis"];u._updateCommon=function(t,e,i){var a=this.childAt(0),l=t.hostModel,u=t.getItemModel(e),c=u.getModel(h),p=t.getItemVisual(e,"color");"image"!==a.type&&a.useStyle({strokeNoScale:!0});var m=a.style,v=u.getModel(d).getItemStyle();a.rotation=(u.getShallow("symbolRotate")||0)*Math.PI/180||0;var y=u.getShallow("symbolOffset");if(y){var x=a.position;x[0]=o.parsePercent(y[0],i[0]),x[1]=o.parsePercent(y[1],i[1])}a.setColor(p),n.extend(m,c.getItemStyle(["color"]));var _=t.getItemVisual(e,"opacity");null!=_&&(m.opacity=_);for(var b,w,M=u.getModel(f),S=u.getModel(g),A=t.dimensions.slice();A.length&&(b=A.pop(),"ordinal"===(w=t.getDimensionInfo(b).type)||"time"===w););null!=b&&M.get("show")?(r.setText(m,M,p),m.text=n.retrieve(l.getFormattedLabel(e,"normal"),t.get(b,e))):m.text="",null!=b&&S.getShallow("show")?(r.setText(v,S,p),v.text=n.retrieve(l.getFormattedLabel(e,"emphasis"),t.get(b,e))):v.text="";var I=s(t.getItemVisual(e,"symbolSize"));if(a.off("mouseover").off("mouseout").off("emphasis").off("normal"),r.setHoverStyle(a,v),u.getShallow("hoverAnimation")){var T=function(){var t=I[1]/I[0];this.animateTo({scale:[Math.max(1.1*I[0],I[0]+3),Math.max(1.1*I[1],I[1]+3*t)]},400,"elasticOut")},C=function(){this.animateTo({scale:I},400,"elasticOut")};a.on("mouseover",T).on("mouseout",C).on("emphasis",T).on("normal",C)}},u.fadeOut=function(t){var e=this.childAt(0);e.off("mouseover").off("mouseout").off("emphasis").off("normal"),e.style.text="",r.updateProps(e,{scale:[0,0]},this._seriesModel,this.dataIndex,t)},n.inherits(l,r.Group),t.exports=l},function(t,e,i){"use strict";var n=i(42),a=i(15),r=n.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+a,n+r),t.lineTo(i-a,n+r),t.closePath()}}),o=n.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+a,n),t.lineTo(i,n+r),t.lineTo(i-a,n),t.closePath()}}),s=n.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,a=e.width/5*3,r=Math.max(a,e.height),o=a/2,s=o*o/(r-o),l=n-r+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,h=Math.sin(u),d=Math.cos(u);t.arc(i,l,o,Math.PI-u,2*Math.PI+u);var f=.6*o,g=.7*o;t.bezierCurveTo(i+c-h*f,l+s+d*f,i,n-g,i,n),t.bezierCurveTo(i,n-g,i-c+h*f,l+s+d*f,i-c,l+s),t.closePath()}}),l=n.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.x,a=e.y,r=e.width/3*2;t.moveTo(n,a),t.lineTo(n+r,a+i),t.lineTo(n,a+i/4*3),t.lineTo(n-r,a+i),t.lineTo(n,a),t.closePath()}}),u={line:n.Line,rect:n.Rect,roundRect:n.Rect,square:n.Rect,circle:n.Circle,diamond:o,pin:s,arrow:l,triangle:r},c={line:function(t,e,i,n,a){a.x1=t,a.y1=e+n/2,a.x2=t+i,a.y2=e+n/2},rect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n},roundRect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n,a.r=Math.min(i,n)/4},square:function(t,e,i,n,a){var r=Math.min(i,n);a.x=t,a.y=e,a.width=r,a.height=r},circle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.r=Math.min(i,n)/2},diamond:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n},pin:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},arrow:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},triangle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n}},h={};for(var d in u)h[d]=new u[d];var f=n.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e){var i=e.symbolType,n=h[i];"none"!==e.symbolType&&(n||(n=h[i="rect"]),c[i](e.x,e.y,e.width,e.height,n.shape),n.buildPath(t,n.shape))}}),g=function(t){if("image"!==this.type){var e=this.style,i=this.shape;i&&"line"===i.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty()}};t.exports={createSymbol:function(t,e,i,r,o,s){var l,u=0===t.indexOf("empty");return u&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(l=0===t.indexOf("image://")?new n.Image({style:{image:t.slice(8),x:e,y:i,width:r,height:o}}):0===t.indexOf("path://")?n.makePath(t.slice(7),{},new a(e,i,r,o)):new f({shape:{symbolType:t,x:e,y:i,width:r,height:o}})).__isEmptyBrush=u,l.setColor=g,l.setColor(s),l}}},function(t,e){function i(t){return t>=0?1:-1}function n(t,e,n){for(var a,r=t.getBaseAxis(),o=t.getOtherAxis(r),s=r.onZero?0:o.scale.getExtent()[0],l=o.dim,u="x"===l||"radius"===l?1:0,c=e.stackedOn,h=e.get(l,n);c&&i(c.get(l,n))===i(h);){a=c;break}var d=[];return d[u]=e.get(r.dim,n),d[1-u]=a?a.get(l,n,!0):s,t.dataToPoint(d)}t.exports=function(t,e,i,a,r,o){for(var s=function(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t})}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){i.push({cmd:"-",idx:t})}).execute(),i}(t,e),l=[],u=[],c=[],h=[],d=[],f=[],g=[],p=o.dimensions,m=0;m<s.length;m++){var v=s[m],y=!0;switch(v.cmd){case"=":var x=t.getItemLayout(v.idx),_=e.getItemLayout(v.idx1);(isNaN(x[0])||isNaN(x[1]))&&(x=_.slice()),l.push(x),u.push(_),c.push(i[v.idx]),h.push(a[v.idx1]),g.push(e.getRawIndex(v.idx1));break;case"+":l.push(r.dataToPoint([e.get(p[0],T=v.idx,!0),e.get(p[1],T,!0)])),u.push(e.getItemLayout(T).slice()),c.push(n(r,e,T)),h.push(a[T]),g.push(e.getRawIndex(T));break;case"-":var b=t.getRawIndex(T=v.idx);b!==T?(l.push(t.getItemLayout(T)),u.push(o.dataToPoint([t.get(p[0],T,!0),t.get(p[1],T,!0)])),c.push(i[T]),h.push(n(o,t,T)),g.push(b)):y=!1}y&&(d.push(v),f.push(f.length))}f.sort(function(t,e){return g[t]-g[e]});var w=[],M=[],S=[],A=[],I=[];for(m=0;m<f.length;m++){var T;w[m]=l[T=f[m]],M[m]=u[T],S[m]=c[T],A[m]=h[T],I[m]=d[T]}return{current:w,next:M,stackedOnCurrent:S,stackedOnNext:A,status:I}}},function(t,e,i){var n=i(44),a=i(16),r=a.min,o=a.max,s=a.scaleAndAdd,l=a.copy,u=[],c=[],h=[];function d(t){return isNaN(t[0])||isNaN(t[1])}function f(t,e,i,n,f,g,p,m,v,y,x){for(var _=0,b=i,w=0;w<n;w++){var M=e[b];if(b>=f||b<0)break;if(d(M)){if(x){b+=g;continue}break}if(b===i)t[g>0?"moveTo":"lineTo"](M[0],M[1]),l(c,M);else if(v>0){var S=b+g,A=e[S];if(x)for(;A&&d(e[S]);)A=e[S+=g];var I=.5,T=e[_];if(!(A=e[S])||d(A))l(h,M);else{var C,k;if(d(A)&&!x&&(A=M),a.sub(u,A,T),"x"===y||"y"===y){var L="x"===y?0:1;C=Math.abs(M[L]-T[L]),k=Math.abs(M[L]-A[L])}else C=a.dist(M,T),k=a.dist(M,A);s(h,M,u,-v*(1-(I=k/(k+C))))}r(c,c,m),o(c,c,p),r(h,h,m),o(h,h,p),t.bezierCurveTo(c[0],c[1],h[0],h[1],M[0],M[1]),s(c,M,u,v*I)}else t.lineTo(M[0],M[1]);_=b,b+=g}return w}function g(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var a=0;a<t.length;a++){var r=t[a];r[0]<i[0]&&(i[0]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[0]>n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])}return{min:e?i:n,max:e?n:i}}t.exports={Polyline:n.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(t,e){var i=e.points,n=0,a=i.length,r=g(i,e.smoothConstraint);if(e.connectNulls){for(;a>0&&d(i[a-1]);a--);for(;n<a&&d(i[n]);n++);}for(;n<a;)n+=f(t,i,n,a,a,1,r.min,r.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Polygon:n.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,a=0,r=i.length,o=e.smoothMonotone,s=g(i,e.smoothConstraint),l=g(n,e.smoothConstraint);if(e.connectNulls){for(;r>0&&d(i[r-1]);r--);for(;a<r&&d(i[a]);a++);}for(;a<r;){var u=f(t,i,a,r,r,1,s.min,s.max,e.smooth,o,e.connectNulls);f(t,n,a+u-1,u,r,-1,l.min,l.max,e.stackedOnSmooth,o,e.connectNulls),a+=u+1,t.closePath()}}})}},function(t,e){t.exports=function(t,e,i,n,a){n.eachRawSeriesByType(t,function(t){var a=t.getData(),r=t.get("symbol")||e,o=t.get("symbolSize");a.setVisual({legendSymbol:i||r,symbol:r,symbolSize:o}),n.isSeriesFiltered(t)||("function"==typeof o&&a.each(function(e){var i=t.getRawValue(e),n=t.getDataParams(e);a.setItemVisual(e,"symbolSize",o(i,n))}),a.each(function(t){var e=a.getItemModel(t),i=e.get("symbol",!0),n=e.get("symbolSize",!0);null!=i&&a.setItemVisual(t,"symbol",i),null!=n&&a.setItemVisual(t,"symbolSize",n)}))})}},function(t,e){t.exports=function(t,e,i){e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem;i&&e.each(i.dimensions,function(t,n,a){var r;r=isNaN(t)||isNaN(n)?[NaN,NaN]:i.dataToPoint([t,n]),e.setItemLayout(a,r)},!0)})}},function(t,e){var i={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return e},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return e},nearest:function(t){return t[0]}},n=function(t,e){return Math.round(t.length/2)};t.exports=function(t,e,a){e.eachSeriesByType(t,function(t){var e=t.getData(),a=t.get("sampling"),r=t.coordinateSystem;if("cartesian2d"===r.type&&a){var o,s=r.getBaseAxis(),l=r.getOtherAxis(s),u=s.getExtent(),c=u[1]-u[0],h=Math.round(e.count()/c);h>1&&("string"==typeof a?o=i[a]:"function"==typeof a&&(o=a),o&&(e=e.downSample(l.dim,1/h,o,n),t.setData(e)))}},this)}},function(t,e,i){"use strict";var n=i(42),a=i(3);i(108),i(125),i(1).extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new n.Rect({shape:t.coordinateSystem.getRect(),style:a.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0}))}})},function(t,e,i){var n=i(21),a=i(109),r=i(3),o=i(115),s=i(117),l=r.each,u=a.ifAxisCrossZero,c=a.niceScaleExtent;function h(t,e,i){return i.getComponent("grid",t.get("gridIndex"))===e}function d(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this._model=t}i(120);var f=d.prototype;f.type="grid",f.getRect=function(){return this._rect},f.update=function(t,e){var i=this._axesMap;function n(t){var e=i[t];for(var n in e){var a=e[n];if(a&&("category"===a.type||!u(a)))return!0}return!1}this._updateScale(t,this._model),l(i.x,function(t){c(t,t.model)}),l(i.y,function(t){c(t,t.model)}),l(i.x,function(t){n("y")&&(t.onZero=!1)}),l(i.y,function(t){n("x")&&(t.onZero=!1)}),this.resize(this._model,e)},f.resize=function(t,e){var i=n.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var a=this._axesList;function r(){l(a,function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],a=t.inverse?1:0;t.setExtent(n[a],n[1-a]),function(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}(t,e?i.x:i.y)})}r(),t.get("containLabel")&&(l(a,function(t){if(!t.model.get("axisLabel.inside")){var e=function(t){var e,i=t.model,n=i.getFormattedLabels(),a=1,r=n.length;r>40&&(a=Math.ceil(r/40));for(var o=0;o<r;o+=a)if(!t.isLabelIgnored(o)){var s=i.getTextRect(n[o]);e?e.union(s):e=s}return e}(t);if(e){var n=t.isHorizontal()?"height":"width",a=t.model.get("axisLabel.margin");i[n]-=e[n]+a,"top"===t.position?i.y+=e.height+a:"left"===t.position&&(i.x+=e.width+a)}}}),r())},f.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)return i[n];return i[e]}},f.getCartesian=function(t,e){return this._coordsMap["x"+t+"y"+e]},f._initCartesian=function(t,e,i){var n={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},u={x:0,y:0};if(e.eachComponent("xAxis",c("x"),this),e.eachComponent("yAxis",c("y"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function c(i){return function(o,l){if(h(o,t,e)){var c=o.get("position");"x"===i?("top"!==c&&"bottom"!==c&&(c="bottom"),n[c]&&(c="top"===c?"bottom":"top")):("left"!==c&&"right"!==c&&(c="left"),n[c]&&(c="left"===c?"right":"left")),n[c]=!0;var d=new s(i,a.createScaleByModel(o),[0,0],o.get("type"),c);d.onBand="category"===d.type&&o.get("boundaryGap"),d.inverse=o.get("inverse"),d.onZero=o.get("axisLine.onZero"),o.axis=d,d.model=o,d.index=l,this._axesList.push(d),r[i][l]=d,u[i]++}}}this._axesMap=r,l(r.x,function(t,e){l(r.y,function(i,n){var a="x"+e+"y"+n,r=new o(a);r.grid=this,this._coordsMap[a]=r,this._coordsList.push(r),r.addAxis(t),r.addAxis(i)},this)},this)},f._updateScale=function(t,e){function i(t,e,i){l(i.coordDimToDataDim(e.dim),function(i){e.scale.unionExtent(t.getDataExtent(i,"ordinal"!==e.scale.type))})}r.each(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(n){if("cartesian2d"===n.get("coordinateSystem")){var a=n.get("xAxisIndex"),r=n.get("yAxisIndex"),o=t.getComponent("xAxis",a),s=t.getComponent("yAxis",r);if(!h(o,e,t)||!h(s,e,t))return;var l=this.getCartesian(a,r),u=n.getData(),c=l.getAxis("x"),d=l.getAxis("y");"list"===u.type&&(i(u,c,n),i(u,d,n))}},this)},d.create=function(t,e){var i=[];return t.eachComponent("grid",function(n,a){var r=new d(n,t,e);r.name="grid_"+a,r.resize(n,e),n.coordinateSystem=r,i.push(r)}),t.eachSeries(function(e){if("cartesian2d"===e.get("coordinateSystem")){var n=e.get("xAxisIndex"),a=t.getComponent("xAxis",n),r=i[a.get("gridIndex")];e.coordinateSystem=r.getCartesian(n,e.get("yAxisIndex"))}}),i},d.dimensions=o.prototype.dimensions,i(25).register("cartesian2d",d),t.exports=d},function(t,e,i){var n=i(110),a=i(112);i(113),i(114);var r=i(111),o=i(7),s=i(3),l=i(14),u={getScaleExtent:function(t,e){var i=t.scale,n=i.getExtent(),a=n[1]-n[0];if("ordinal"===i.type)return isFinite(a)?n:[0,0];var r=e.getMin?e.getMin():e.get("min"),l=e.getMax?e.getMax():e.get("max"),u=e.getNeedCrossZero?e.getNeedCrossZero():!e.get("scale"),c=e.get("boundaryGap");s.isArray(c)||(c=[c||0,c||0]),c[0]=o.parsePercent(c[0],1),c[1]=o.parsePercent(c[1],1);var h=!0,d=!0;return null==r&&(r=n[0]-c[0]*a,h=!1),null==l&&(l=n[1]+c[1]*a,d=!1),"dataMin"===r&&(r=n[0]),"dataMax"===l&&(l=n[1]),u&&(r>0&&l>0&&!h&&(r=0),r<0&&l<0&&!d&&(l=0)),[r,l]},niceScaleExtent:function(t,e){var i=t.scale,n=u.getScaleExtent(t,e),a=null!=(e.getMin?e.getMin():e.get("min")),r=null!=(e.getMax?e.getMax():e.get("max")),o=e.get("splitNumber");i.setExtent(n[0],n[1]),i.niceExtent(o,a,r);var s=e.get("minInterval");if(isFinite(s)&&!a&&!r&&"interval"===i.type){var l=i.getInterval(),c=Math.max(Math.abs(l),s)/l;n=i.getExtent(),i.setExtent(c*n[0],n[1]*c),i.niceExtent(o)}null!=(l=e.get("interval"))&&i.setInterval&&i.setInterval(l)},createScaleByModel:function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new n(t.getCategories(),[1/0,-1/0]);case"value":return new a;default:return(r.getClass(e)||a).create(t)}},ifAxisCrossZero:function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||i<0&&n<0)},getAxisLabelInterval:function(t,e,i,n){var a,r=0,o=0,s=1;e.length>40&&(s=Math.round(e.length/40));for(var u=0;u<t.length;u+=s){var c=t[u],h=l.getBoundingRect(e[u],i,"center","top");h[n?"x":"y"]+=c,h[n?"width":"height"]*=1.5,a?a.intersect(h)?(o++,r=Math.max(r,o)):(a.union(h),o=0):a=h.clone()}return 0===r&&s>1?s:r*s},getFormattedLabels:function(t,e){var i,n=t.scale,a=n.getTicksLabels(),r=n.getTicks();return"string"==typeof e?(i=e,s.map(a,e=function(t){return i.replace("{value}",t)})):"function"==typeof e?s.map(r,function(i,a){return e("category"===t.type?n.getLabel(i):i,a)},this):a}};t.exports=u},function(t,e,i){var n=i(3),a=i(111),r=a.prototype,o=a.extend({type:"ordinal",init:function(t,e){this._data=t,this._extent=e||[0,t.length-1]},parse:function(t){return"string"==typeof t?n.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),r.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return r.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(r.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:n.noop,niceExtent:n.noop});o.create=function(){return new o},t.exports=o},function(t,e,i){var n=i(9);function a(){this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var r=a.prototype;r.parse=function(t){return t},r.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},r.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},r.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},r.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},r.getExtent=function(){return this._extent.slice()},r.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},r.getTicksLabels=function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},n.enableClassExtend(a),n.enableClassManagement(a,{registerWhenExtend:!0}),t.exports=a},function(t,e,i){var n=i(7),a=i(6),r=i(111),o=Math.floor,s=Math.ceil,l=r.extend({type:"interval",_interval:0,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var t=this._interval,e=this._extent,i=[];if(t){var a=this._niceExtent;e[0]<a[0]&&i.push(e[0]);for(var r=a[0];r<=a[1];)if(i.push(r),r=n.round(r+t),i.length>1e4)return[];e[1]>a[1]&&i.push(e[1])}return i},getTicksLabels:function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},getLabel:function(t){return a.addCommas(t)},niceTicks:function(t){t=t||5;var e=this._extent,i=e[1]-e[0];if(isFinite(i)){i<0&&(i=-i,e.reverse());var a=n.nice(i/t,!0),r=[n.round(s(e[0]/a)*a),n.round(o(e[1]/a)*a)];this._interval=a,this._niceExtent=r}},niceExtent:function(t,e,i){var a=this._extent;if(a[0]===a[1])if(0!==a[0]){var r=a[0]/2;a[0]-=r,a[1]+=r}else a[1]=1;isFinite(a[1]-a[0])||(a[0]=0,a[1]=1),this.niceTicks(t);var l=this._interval;e||(a[0]=n.round(o(a[0]/l)*l)),i||(a[1]=n.round(s(a[1]/l)*l))}});l.create=function(){return new l},t.exports=l},function(t,e,i){var n=i(3),a=i(7),r=i(6),o=i(112),s=o.prototype,l=Math.ceil,u=Math.floor,c=864e5,h=o.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return r.formatTime(e[0],i)},niceExtent:function(t,e,i){var n=this._extent;if(n[0]===n[1]&&(n[0]-=c,n[1]+=c),n[1]===-1/0&&n[0]===1/0){var r=new Date;n[1]=new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-c}this.niceTicks(t);var o=this._interval;e||(n[0]=a.round(u(n[0]/o)*o)),i||(n[1]=a.round(l(n[1]/o)*o))},niceTicks:function(t){var e=this._extent,i=e[1]-e[0],n=d.length,r=function(t,e,i,n){for(;i<n;){var a=i+n>>>1;t[a][2]<e?i=a+1:n=a}return i}(d,i/(t=t||10),0,n),o=d[Math.min(r,n-1)],s=o[2];"year"===o[0]&&(s*=a.nice(i/s/t,!0));var c=[l(e[0]/s)*s,u(e[1]/s)*s];this._stepLvl=o,this._interval=s,this._niceExtent=c},parse:function(t){return+a.parseDate(t)}});n.each(["contain","normalize"],function(t){h.prototype[t]=function(e){return s[t].call(this,this.parse(e))}});var d=[["hh:mm:ss",1,1e3],["hh:mm:ss",5,5e3],["hh:mm:ss",10,1e4],["hh:mm:ss",15,15e3],["hh:mm:ss",30,3e4],["hh:mm\nMM-dd",1,6e4],["hh:mm\nMM-dd",5,3e5],["hh:mm\nMM-dd",10,6e5],["hh:mm\nMM-dd",15,9e5],["hh:mm\nMM-dd",30,18e5],["hh:mm\nMM-dd",1,36e5],["hh:mm\nMM-dd",2,72e5],["hh:mm\nMM-dd",6,216e5],["hh:mm\nMM-dd",12,432e5],["MM-dd\nyyyy",1,c],["week",7,6048e5],["month",1,26784e5],["quarter",3,8208e6],["half-year",6,16416e6],["year",1,32832e6]];h.create=function(){return new h},t.exports=h},function(t,e,i){var n=i(3),a=i(111),r=i(7),o=i(112),s=a.prototype,l=o.prototype,u=Math.floor,c=Math.ceil,h=Math.pow,d=10,f=Math.log,g=a.extend({type:"log",getTicks:function(){return n.map(l.getTicks.call(this),function(t){return r.round(h(d,t))})},getLabel:l.getLabel,scale:function(t){return t=s.scale.call(this,t),h(d,t)},setExtent:function(t,e){t=f(t)/f(d),e=f(e)/f(d),l.setExtent.call(this,t,e)},getExtent:function(){var t=s.getExtent.call(this);return t[0]=h(d,t[0]),t[1]=h(d,t[1]),t},unionExtent:function(t){t[0]=f(t[0])/f(d),t[1]=f(t[1])/f(d),s.unionExtent.call(this,t)},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=h(10,u(f(i/t)/Math.LN10));t/i*n<=.5&&(n*=10);var a=[r.round(c(e[0]/n)*n),r.round(u(e[1]/n)*n)];this._interval=n,this._niceExtent=a}},niceExtent:l.niceExtent});n.each(["contain","normalize"],function(t){g.prototype[t]=function(e){return e=f(e)/f(d),s[t].call(this,e)}}),g.create=function(){return new g},t.exports=g},function(t,e,i){"use strict";var n=i(3),a=i(116);function r(t){a.call(this,t)}r.prototype={constructor:r,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoints:function(t,e){return t.mapArray(["x","y"],function(t,e){return this.dataToPoint([t,e])},e,this)},dataToPoint:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(t[0],e)),n.toGlobalCoord(n.dataToCoord(t[1],e))]},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.coordToData(i.toLocalCoord(t[0]),e),n.coordToData(n.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},n.inherits(r,a),t.exports=r},function(t,e,i){"use strict";var n=i(3);function a(t){return this._axes[t]}var r=function(t){this._axes={},this._dimList=[],this.name=t||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return n.map(this._dimList,a,this)},getAxesByScale:function(t){return t=t.toLowerCase(),n.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},a=0;a<i.length;a++){var r=i[a];n[r]=this._axes[r][e](t[r])}return n}},t.exports=r},function(t,e,i){var n=i(3),a=i(118),r=i(119),o=function(t,e,i,n,r){a.call(this,t,e,i),this.type=n||"value",this.position=r||"bottom"};o.prototype={constructor:o,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),t},getLabelInterval:function(){var t=this._labelInterval;return t||(t=this._labelInterval=r(this)),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},toLocalCoord:null,toGlobalCoord:null},n.inherits(o,a),t.exports=o},function(t,e,i){var n=i(7),a=n.linearMap,r=i(3);function o(t,e){var i=(t[1]-t[0])/e/2;t[0]+=i,t[1]-=i}var s=[0,1],l=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};l.prototype={constructor:l,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&t<=n},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return n.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&o(i=i.slice(),n.count()),a(t,s,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&o(i=i.slice(),n.count());var r=a(t,i,s,e);return this.scale.scale(r)},getTicksCoords:function(){if(this.onBand){for(var t=this.getBands(),e=[],i=0;i<t.length;i++)e.push(t[i][0]);return t[i-1]&&e.push(t[i-1][1]),e}return r.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){if(this.onBand){for(var t,e=this.getBands(),i=[],n=0;n<e.length;n++)i.push(((t=e[n])[0]+t[1])/2);return i}return r.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],i=this.scale.count(),n=t[0],a=t[1]-n,r=0;r<i;r++)e.push([a*r/i+n,a*(r+1)/i+n]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i}},t.exports=l},function(t,e,i){"use strict";var n=i(3),a=i(109);t.exports=function(t){var e=t.model,i=e.getModel("axisLabel"),r=i.get("interval");return"category"!==t.type||"auto"!==r?"auto"===r?0:r:a.getAxisLabelInterval(n.map(t.scale.getTicks(),t.dataToCoord,t),e.getFormattedLabels(),i.getModel("textStyle").getFont(),t.isHorizontal())}},function(t,e,i){"use strict";i(121);var n=i(19);t.exports=n.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(t,e,i){"use strict";var n=i(19),a=i(3),r=i(122),o=n.extend({type:"cartesian2dAxis",axis:null,init:function(){o.superApply(this,"init",arguments),this._resetRange()},mergeOption:function(){o.superApply(this,"mergeOption",arguments),this._resetRange()},restoreData:function(){o.superApply(this,"restoreData",arguments),this._resetRange()},setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},getMin:function(){var t=this.option;return null!=t.rangeStart?t.rangeStart:t.min},getMax:function(){var t=this.option;return null!=t.rangeEnd?t.rangeEnd:t.max},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});function s(t,e){return e.type||(e.data?"category":"value")}a.merge(o.prototype,i(124));var l={gridIndex:0};r("x",o,s,l),r("y",o,s,l),t.exports=o},function(t,e,i){var n=i(123),a=i(3),r=i(19),o=i(21),s=["value","category","time","log"];t.exports=function(t,e,i,l){a.each(s,function(r){e.extend({type:t+"Axis."+r,mergeDefaultAndTheme:function(e,n){var s=this.layoutMode,l=s?o.getLayoutParams(e):{},u=n.getTheme();a.merge(e,u.get(r+"Axis")),a.merge(e,this.getDefaultOption()),e.type=i(t,e),s&&o.mergeLayoutParam(e,l,s)},defaultOption:a.mergeAll([{},n[r+"Axis"],l],!0)})}),r.registerSubTypeDefaulter(t+"Axis",a.curry(i,t))}},function(t,e,i){var n=i(3),a={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameTextStyle:{},nameGap:15,silent:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{color:"#333",fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r=n.merge({boundaryGap:!0,axisTick:{interval:"auto"},axisLabel:{interval:"auto"}},a),o=n.defaults({boundaryGap:[0,0],splitNumber:5},a),s=n.defaults({scale:!0,min:"dataMin",max:"dataMax"},o),l=n.defaults({},o);l.scale=!0,t.exports={categoryAxis:r,valueAxis:o,timeAxis:s,logAxis:l}},function(t,e,i){var n=i(3),a=i(109);function r(t){return n.isObject(t)&&null!=t.value?t.value:t}t.exports={getFormattedLabels:function(){return a.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&n.map(this.get("data"),r)}}},function(t,e,i){"use strict";i(121),i(126)},function(t,e,i){var n=i(3),a=i(42),r=i(127),o=r.ifIgnoreOnTick,s=r.getInterval,l=["axisLine","axisLabel","axisTick","axisName"],u=["splitLine","splitArea"],c=i(1).extendComponentView({type:"axis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("grid",t.get("gridIndex")),a=function(t,e){var i=t.coordinateSystem,n=e.axis,a={},r=n.position,o=n.onZero?"onZero":r,s=n.dim,l=i.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],c={x:{top:u[2],bottom:u[3]},y:{left:u[0],right:u[1]}};function h(t,e){var n=i.getAxis(t);return n.toGlobalCoord(n.dataToCoord(0))}c.x.onZero=Math.max(Math.min(h("y"),c.x.bottom),c.x.top),c.y.onZero=Math.max(Math.min(h("x"),c.y.right),c.y.left),a.position=["y"===s?c.y[o]:u[0],"x"===s?c.x[o]:u[3]],a.rotation=Math.PI/2*{x:0,y:1}[s],a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[r],n.onZero&&(a.labelOffset=c[s][r]-c[s].onZero),e.getModel("axisTick").get("inside")&&(a.tickDirection=-a.tickDirection),e.getModel("axisLabel").get("inside")&&(a.labelDirection=-a.labelDirection);var d=e.getModel("axisLabel").get("rotate");return a.labelRotation="top"===o?-d:d,a.labelInterval=n.getLabelInterval(),a.z2=1,a}(i,t),o=new r(t,a);n.each(l,o.add,o),this.group.add(o.getGroup()),n.each(u,function(e){t.get(e+".show")&&this["_"+e](t,i,a.labelInterval)},this)}},_splitLine:function(t,e,i){var r=t.axis,l=t.getModel("splitLine"),u=l.getModel("lineStyle"),c=u.get("width"),h=u.get("color"),d=s(l,i);h=n.isArray(h)?h:[h];for(var f=e.coordinateSystem.getRect(),g=r.isHorizontal(),p=[],m=0,v=r.getTicksCoords(),y=[],x=[],_=0;_<v.length;_++)if(!o(r,_,d)){var b=r.toGlobalCoord(v[_]);g?(y[0]=b,y[1]=f.y,x[0]=b,x[1]=f.y+f.height):(y[0]=f.x,y[1]=b,x[0]=f.x+f.width,x[1]=b);var w=m++%h.length;p[w]=p[w]||[],p[w].push(new a.Line(a.subPixelOptimizeLine({shape:{x1:y[0],y1:y[1],x2:x[0],y2:x[1]},style:{lineWidth:c},silent:!0})))}var M=u.getLineStyle();for(_=0;_<p.length;_++)this.group.add(a.mergePath(p[_],{style:n.defaults({stroke:h[_%h.length]},M),silent:!0}))},_splitArea:function(t,e,i){var r=t.axis,l=t.getModel("splitArea"),u=l.getModel("areaStyle"),c=u.get("color"),h=e.coordinateSystem.getRect(),d=r.getTicksCoords(),f=r.toGlobalCoord(d[0]),g=r.toGlobalCoord(d[0]),p=[],m=0,v=s(l,i);c=n.isArray(c)?c:[c];for(var y=1;y<d.length;y++)if(!o(r,y,v)){var x,_,b,w,M=r.toGlobalCoord(d[y]);r.isHorizontal()?(_=h.y,b=M-(x=f),w=h.height):(x=h.x,b=h.width,w=M-(_=g));var S=m++%c.length;p[S]=p[S]||[],p[S].push(new a.Rect({shape:{x:x,y:_,width:b,height:w},silent:!0})),f=x+b,g=_+w}var A=u.getAreaStyle();for(y=0;y<p.length;y++)this.group.add(a.mergePath(p[y],{style:n.defaults({fill:c[y%c.length]},A),silent:!0}))}});c.extend({type:"xAxis"}),c.extend({type:"yAxis"})},function(t,e,i){var n=i(3),a=i(42),r=i(8),o=i(7),s=o.remRadian,l=o.isRadianAroundZero,u=Math.PI;function c(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}var h=function(t,e){this.opt=e,this.axisModel=t,n.defaults(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new a.Group({position:e.position.slice(),rotation:e.rotation})};h.prototype={constructor:h,hasBuilder:function(t){return!!d[t]},add:function(t){d[t].call(this)},getGroup:function(){return this.group}};var d={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent();this.group.add(new a.Line({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:n.extend({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold,silent:!!t.axisLineSilent,z2:1}))}},axisTick:function(){var t=this.axisModel;if(t.get("axisTick.show")){for(var e=t.axis,i=t.getModel("axisTick"),n=this.opt,r=i.getModel("lineStyle"),o=i.get("length"),s=p(i,n.labelInterval),l=e.getTicksCoords(),u=[],c=0;c<l.length;c++)if(!g(e,c,s)){var h=l[c];u.push(new a.Line(a.subPixelOptimizeLine({shape:{x1:h,y1:0,x2:h,y2:n.tickDirection*o},style:{lineWidth:r.get("width")},silent:!0})))}this.group.add(a.mergePath(u,{style:r.getLineStyle(),z2:2,silent:!0}))}},axisLabel:function(){var t=this.axisModel;if(t.get("axisLabel.show")){var e=this.opt,i=t.axis,n=t.getModel("axisLabel"),o=n.getModel("textStyle"),s=n.get("margin"),l=i.scale.getTicks(),h=t.getFormattedLabels(),d=e.labelRotation;null==d&&(d=n.get("rotate")||0);for(var p=f(e,d=d*u/180,e.labelDirection),m=t.get("data"),v=[],y=t.get("silent"),x=0;x<l.length;x++)if(!g(i,x,e.labelInterval)){var _=o;m&&m[x]&&m[x].textStyle&&(_=new r(m[x].textStyle,o,t.ecModel));var b=_.getTextColor(),w=[i.dataToCoord(l[x]),e.labelOffset+e.labelDirection*s],M=i.scale.getLabel(l[x]),S=new a.Text({style:{text:h[x],textAlign:_.get("align",!0)||p.textAlign,textVerticalAlign:_.get("baseline",!0)||p.verticalAlign,textFont:_.getFont(),fill:"function"==typeof b?b(M):b},position:w,rotation:p.rotation,silent:y,z2:10});S.eventData=c(t),S.eventData.targetType="axisLabel",S.eventData.value=M,v.push(S),this.group.add(S)}if("category"!==i.type){if(t.getMin?t.getMin():t.get("min")){var A=v[0];T(A,v[1])&&(A.ignore=!0)}if(t.getMax?t.getMax():t.get("max")){var I=v[v.length-1];T(v[v.length-2],I)&&(I.ignore=!0)}}}function T(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n)return i.applyTransform(t.getLocalTransform()),n.applyTransform(e.getLocalTransform()),i.intersect(n)}},axisName:function(){var t=this.opt,e=this.axisModel,i=this.opt.axisName;if(null==i&&(i=e.get("name")),i){var n,r=e.get("nameLocation"),o=t.nameDirection,h=e.getModel("nameTextStyle"),d=e.get("nameGap")||0,g=this.axisModel.axis.getExtent(),p=g[0]>g[1]?-1:1,m=["start"===r?g[0]-p*d:"end"===r?g[1]+p*d:(g[0]+g[1])/2,"middle"===r?t.labelOffset+o*d:0];n="middle"===r?f(t,t.rotation,o):function(t,e,i){var n,a,r=s(-t.rotation),o=i[0]>i[1],c="start"===e&&!o||"start"!==e&&o;return l(r-u/2)?(a=c?"bottom":"top",n="center"):l(r-1.5*u)?(a=c?"top":"bottom",n="center"):(a="middle",n=r<1.5*u&&r>u/2?c?"left":"right":c?"right":"left"),{rotation:r,textAlign:n,verticalAlign:a}}(t,r,g);var v=new a.Text({style:{text:i,textFont:h.getFont(),fill:h.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:n.textAlign,textVerticalAlign:n.verticalAlign},position:m,rotation:n.rotation,silent:e.get("silent"),z2:1});v.eventData=c(e),v.eventData.targetType="axisName",v.eventData.name=i,this.group.add(v)}}};function f(t,e,i){var n,a,r=s(e-t.rotation);return l(r)?(a=i>0?"top":"bottom",n="center"):l(r-u)?(a=i>0?"bottom":"top",n="center"):(a="middle",n=r>0&&r<u?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,verticalAlign:a}}var g=h.ifIgnoreOnTick=function(t,e,i){var n,a=t.scale;return"ordinal"===a.type&&("function"==typeof i?!i(n=a.getTicks()[e],a.getLabel(n)):e%(i+1))},p=h.getInterval=function(t,e){var i=t.get("interval");return null!=i&&"auto"!=i||(i=e),i};t.exports=h},function(t,e,i){var n=i(3);i(108),i(129),i(130);var a=i(132),r=i(1);r.registerLayout(n.curry(a,"bar")),r.registerVisualCoding("chart",function(t){t.eachSeriesByType("bar",function(t){t.getData().setVisual("legendSymbol","roundRect")})}),i(107)},function(t,e,i){"use strict";var n=i(27),a=i(94);t.exports=n.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(t,e){return a(t.data,this,e)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(t),n=this.getData(),a=n.getLayout("offset"),r=n.getLayout("size");return i[e.getBaseAxis().isHorizontal()?0:1]+=a+r/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{barBorderColor:"#fff",barBorderWidth:0},emphasis:{barBorderColor:"#fff",barBorderWidth:0}}}})},function(t,e,i){"use strict";var n=i(3),a=i(42);function r(t,e){var i=t.width>0?1:-1,n=t.height>0?1:-1;e=Math.min(e,Math.abs(t.width),Math.abs(t.height)),t.x+=i*e/2,t.y+=n*e/2,t.width-=i*e,t.height-=n*e}n.extend(i(8).prototype,i(131)),t.exports=i(1).extendChartView({type:"bar",render:function(t,e,i){return"cartesian2d"===t.get("coordinateSystem")&&this._renderOnCartesian(t,e,i),this.group},_renderOnCartesian:function(t,e,i){var o=this.group,s=t.getData(),l=this._data,u=t.coordinateSystem.getBaseAxis().isHorizontal(),c=t.get("animation"),h=["itemStyle","normal","barBorderWidth"];function d(e,i){var o=s.getItemLayout(e);r(o,s.getItemModel(e).get(h)||0);var l=new a.Rect({shape:n.extend({},o)});if(c){var d=u?"height":"width",f={};l.shape[d]=0,f[d]=o[d],a[i?"updateProps":"initProps"](l,{shape:f},t,e)}return l}s.diff(l).add(function(t){if(s.hasValue(t)){var e=d(t);s.setItemGraphicEl(t,e),o.add(e)}}).update(function(e,i){var n=l.getItemGraphicEl(i);if(s.hasValue(e)){n||(n=d(e,!0));var u=s.getItemLayout(e);r(u,s.getItemModel(e).get(h)||0),a.updateProps(n,{shape:u},t,e),s.setItemGraphicEl(e,n),o.add(n)}else o.remove(n)}).remove(function(e){var i=l.getItemGraphicEl(e);i&&(i.style.text="",a.updateProps(i,{shape:{width:0}},t,e,function(){o.remove(i)}))}).execute(),this._updateStyle(t,s,u),this._data=s},_updateStyle:function(t,e,i){function r(t,e,i,n,r){a.setText(t,e,i),t.text=n,"outside"===t.textPosition&&(t.textPosition=r)}e.eachItemGraphicEl(function(o,s){var l=e.getItemModel(s),u=e.getItemVisual(s,"color"),c=e.getItemVisual(s,"opacity"),h=e.getItemLayout(s),d=l.getModel("itemStyle.normal"),f=l.getModel("itemStyle.emphasis").getBarItemStyle();o.setShape("r",d.get("barBorderRadius")||0),o.useStyle(n.defaults({fill:u,opacity:c},d.getBarItemStyle()));var g=i?h.height>0?"bottom":"top":h.width>0?"left":"right",p=l.getModel("label.normal"),m=l.getModel("label.emphasis"),v=o.style;p.get("show")?r(v,p,u,n.retrieve(t.getFormattedLabel(s,"normal"),t.getRawValue(s)),g):v.text="",m.get("show")?r(f,m,u,n.retrieve(t.getFormattedLabel(s,"emphasis"),t.getRawValue(s)),g):f.text="",a.setHoverStyle(o,f)})},remove:function(t,e){var i=this.group;t.get("animation")?this._data&&this._data.eachItemGraphicEl(function(e){e.style.text="",a.updateProps(e,{shape:{width:0}},t,e.dataIndex,function(){i.remove(e)})}):i.removeAll()}})},function(t,e,i){t.exports={getBarItemStyle:i(11)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(t,e,i){"use strict";var n=i(3),a=i(7).parsePercent;function r(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}t.exports=function(t,e,i){var o=function(t,e){var i={};n.each(t,function(t,e){var n=t.coordinateSystem.getBaseAxis(),a=i[n.index]||{remainedWidth:n.getBandWidth(),autoWidthCount:0,categoryGap:"20%",gap:"30%",axis:n,stacks:{}},o=a.stacks;i[n.index]=a;var s=r(t);o[s]||a.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var l=t.get("barWidth"),u=t.get("barMaxWidth"),c=t.get("barGap"),h=t.get("barCategoryGap");l&&!o[s].width&&(l=Math.min(a.remainedWidth,l),o[s].width=l,a.remainedWidth-=l),u&&(o[s].maxWidth=u),null!=c&&(a.gap=c),null!=h&&(a.categoryGap=h)});var o={};return n.each(i,function(t,e){o[e]={};var i=t.stacks,r=t.axis.getBandWidth(),s=a(t.categoryGap,r),l=a(t.gap,1),u=t.remainedWidth,c=t.autoWidthCount,h=(u-s)/(c+(c-1)*l);h=Math.max(h,0),n.each(i,function(t,e){var i=t.maxWidth;!t.width&&i&&i<h&&(i=Math.min(i,u),u-=i,t.width=i,c--)}),h=(u-s)/(c+(c-1)*l),h=Math.max(h,0);var d,f=0;n.each(i,function(t,e){t.width||(t.width=h),d=t,f+=t.width*(1+l)}),d&&(f-=d.width*l);var g=-f/2;n.each(i,function(t,i){o[e][i]=o[e][i]||{offset:g,width:t.width},g+=t.width*(1+l)})}),o}(n.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})),s={};e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),a=r(t),l=o[n.index][a],u=l.offset,c=l.width,h=i.getOtherAxis(n),d=t.get("barMinHeight")||0,f=n.onZero?h.toGlobalCoord(h.dataToCoord(0)):h.getGlobalExtent()[0],g=i.dataToPoints(e,!0);s[a]=s[a]||[],e.setLayout({offset:u,size:c}),e.each(h.dim,function(t,i){if(!isNaN(t)){s[a][i]||(s[a][i]={p:f,n:f});var n,r,o,l,p=t>=0?"p":"n",m=g[i],v=s[a][i][p];h.isHorizontal()?(n=v,r=m[1]+u,o=m[0]-v,l=c,Math.abs(o)<d&&(o=(o<0?-1:1)*d),s[a][i][p]+=o):(n=m[0]+u,r=v,o=c,l=m[1]-v,Math.abs(l)<d&&(l=(l<=0?-1:1)*d),s[a][i][p]+=l),e.setItemLayout(i,{x:n,y:r,width:o,height:l})}},!0)},this)}},function(t,e,i){var n=i(3),a=i(1);i(134),i(136),i(137)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),a.registerVisualCoding("chart",n.curry(i(138),"pie")),a.registerLayout(n.curry(i(139),"pie")),a.registerProcessor("filter",n.curry(i(141),"pie"))},function(t,e,i){"use strict";var n=i(95),a=i(3),r=i(5),o=i(97),s=i(135),l=i(1).extendSeriesModel({type:"series.pie",init:function(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(t.data),this._defaultLabelLine(t)},mergeOption:function(t){l.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},getInitialData:function(t,e){var i=o(["value"],t.data),a=new n(i,this);return a.initData(t.data),a},getDataParams:function(t){var e=this._data,i=l.superCall(this,"getDataParams",t),n=e.getSum("value");return i.percent=n?+(e.get("value",t)/n*100).toFixed(2):0,i.$vars.push("percent"),i},_defaultLabelLine:function(t){r.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1}},animationEasing:"cubicOut",data:[]}});a.mixin(l,s),t.exports=l},function(t,e,i){var n=i(3);t.exports={updateSelectedMap:function(t){this._selectTargetMap=n.reduce(t||[],function(t,e){return t[e.name]=e,t},{})},select:function(t){var e=this._selectTargetMap,i=e[t];"single"===this.get("selectedMode")&&n.each(e,function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t){var e=this._selectTargetMap[t];e&&(e.selected=!1)},toggleSelected:function(t){var e=this._selectTargetMap[t];if(null!=e)return this[e.selected?"unSelect":"select"](t),e.selected},isSelected:function(t){var e=this._selectTargetMap[t];return e&&e.selected}}},function(t,e,i){var n=i(42),a=i(3);function r(t,e,i,n){var a=e.getData(),r=a.getName(this.dataIndex),s=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:r,seriesId:e.id}),a.each(function(t){o(a.getItemGraphicEl(t),a.getItemLayout(t),e.isSelected(a.getName(t)),s,i)})}function o(t,e,i,n,a){var r=(e.startAngle+e.endAngle)/2,o=i?n:0,s=[Math.cos(r)*o,Math.sin(r)*o];a?t.animate().when(200,{position:s}).start("bounceOut"):t.attr("position",s)}function s(t,e){n.Group.call(this);var i=new n.Sector({z2:2}),a=new n.Polyline,r=new n.Text;function o(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function s(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}this.add(i),this.add(a),this.add(r),this.updateData(t,e,!0),this.on("emphasis",o).on("normal",s).on("mouseover",o).on("mouseout",s)}var l=s.prototype;function u(t,e,i,n,r){var o=n.getModel("textStyle"),s="inside"===r||"inner"===r;return{fill:o.getTextColor()||(s?"#fff":t.getItemVisual(e,"color")),opacity:t.getItemVisual(e,"opacity"),textFont:o.getFont(),text:a.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))}}l.updateData=function(t,e,i){var r=this.childAt(0),s=t.hostModel,l=t.getItemModel(e),u=t.getItemLayout(e),c=a.extend({},u);c.label=null,i?(r.setShape(c),r.shape.endAngle=u.startAngle,n.updateProps(r,{shape:{endAngle:u.endAngle}},s,e)):n.updateProps(r,{shape:c},s,e);var h=l.getModel("itemStyle"),d=t.getItemVisual(e,"color");function f(){r.stopAnimation(!0),r.animateTo({shape:{r:u.r+10}},300,"elasticOut")}function g(){r.stopAnimation(!0),r.animateTo({shape:{r:u.r}},300,"elasticOut")}r.useStyle(a.defaults({fill:d},h.getModel("normal").getItemStyle())),r.hoverStyle=h.getModel("emphasis").getItemStyle(),o(this,t.getItemLayout(e),l.get("selected"),s.get("selectedOffset"),s.get("animation")),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.get("hoverAnimation")&&r.on("mouseover",f).on("mouseout",g).on("emphasis",f).on("normal",g),this._updateLabel(t,e),n.setHoverStyle(this)},l._updateLabel=function(t,e){var i=this.childAt(1),a=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,"color");n.updateProps(i,{shape:{points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]}},r,e),n.updateProps(a,{style:{x:s.x,y:s.y}},r,e),a.attr({style:{textVerticalAlign:s.verticalAlign,textAlign:s.textAlign,textFont:s.font},rotation:s.rotation,origin:[s.x,s.y],z2:10});var c=o.getModel("label.normal"),h=o.getModel("label.emphasis"),d=o.getModel("labelLine.normal"),f=o.getModel("labelLine.emphasis"),g=c.get("position")||h.get("position");a.setStyle(u(t,e,"normal",c,g)),a.ignore=a.normalIgnore=!c.get("show"),a.hoverIgnore=!h.get("show"),i.ignore=i.normalIgnore=!d.get("show"),i.hoverIgnore=!f.get("show"),i.setStyle({stroke:l,opacity:t.getItemVisual(e,"opacity")}),i.setStyle(d.getModel("lineStyle").getLineStyle()),a.hoverStyle=u(t,e,"emphasis",h,g),i.hoverStyle=f.getModel("lineStyle").getLineStyle();var p=d.get("smooth");p&&!0===p&&(p=.4),i.setShape({smooth:p})},a.inherits(s,n.Group);var c=i(41).extend({type:"pie",init:function(){var t=new n.Group;this._sectorGroup=t},render:function(t,e,i,n){if(!n||n.from!==this.uid){var o=t.getData(),l=this._data,u=this.group,c=e.get("animation"),h=!l,d=a.curry(r,this.uid,t,c,i),f=t.get("selectedMode");if(o.diff(l).add(function(t){var e=new s(o,t);h&&e.eachChild(function(t){t.stopAnimation(!0)}),f&&e.on("click",d),o.setItemGraphicEl(t,e),u.add(e)}).update(function(t,e){var i=l.getItemGraphicEl(e);i.updateData(o,t),i.off("click"),f&&i.on("click",d),u.add(i),o.setItemGraphicEl(t,i)}).remove(function(t){var e=l.getItemGraphicEl(t);u.remove(e)}).execute(),c&&h&&o.count()>0){var g=o.getItemLayout(0),p=Math.max(i.getWidth(),i.getHeight())/2,m=a.bind(u.removeClipPath,u);u.setClipPath(this._createClipPath(g.cx,g.cy,p,g.startAngle,g.clockwise,m,t))}this._data=o}},_createClipPath:function(t,e,i,a,r,o,s){var l=new n.Sector({shape:{cx:t,cy:e,r0:0,r:i,startAngle:a,endAngle:a,clockwise:r}});return n.initProps(l,{shape:{endAngle:a+(r?1:-1)*Math.PI*2}},s,o),l}});t.exports=c},function(t,e,i){var n=i(1),a=i(3);t.exports=function(t,e){a.each(e,function(e){e.update="updateView",n.registerAction(e,function(i,n){var a={};return n.eachComponent({mainType:"series",subType:t,query:i},function(t){t[e.method]&&t[e.method](i.name);var n=t.getData();n.each(function(e){var i=n.getName(e);a[i]=t.isSelected(i)||!1})}),{name:i.name,selected:a}})})}},function(t,e){t.exports=function(t,e){var i=e.get("color"),n=0;e.eachRawSeriesByType(t,function(t){var a=t.get("color",!0),r=t.getRawData();if(!e.isSeriesFiltered(t)){var o=t.getData();o.each(function(t){var e=o.getItemModel(t),s=o.getRawIndex(t),l=o.getItemVisual(t,"color",!0);if(l)r.setItemVisual(s,"color",l);else{var u=a?a[s%a.length]:i[(s+n)%i.length],c=e.get("itemStyle.normal.color")||u;r.setItemVisual(s,"color",c),o.setItemVisual(t,"color",c)}})}n+=r.count()})}},function(t,e,i){var n=i(7),a=n.parsePercent,r=i(140),o=i(3),s=2*Math.PI,l=Math.PI/180;t.exports=function(t,e,i){e.eachSeriesByType(t,function(t){var e=t.get("center"),u=t.get("radius");o.isArray(u)||(u=[0,u]),o.isArray(e)||(e=[e,e]);var c=i.getWidth(),h=i.getHeight(),d=Math.min(c,h),f=a(e[0],c),g=a(e[1],h),p=a(u[0],d/2),m=a(u[1],d/2),v=t.getData(),y=-t.get("startAngle")*l,x=t.get("minAngle")*l,_=v.getSum("value"),b=Math.PI/(_||v.count())*2,w=t.get("clockwise"),M=t.get("roseType"),S=v.getDataExtent("value");S[0]=0;var A=s,I=0,T=y,C=w?1:-1;if(v.each("value",function(t,e){var i;(i="area"!==M?0===_?b:t*b:s/(v.count()||1))<x?(i=x,A-=x):I+=t;var a=T+C*i;v.setItemLayout(e,{angle:i,startAngle:T,endAngle:a,clockwise:w,cx:f,cy:g,r0:p,r:M?n.linearMap(t,S,[p,m]):m}),T=a},!0),A<s)if(A<=.001){var k=s/v.count();v.each(function(t){var e=v.getItemLayout(t);e.startAngle=y+C*t*k,e.endAngle=y+C*(t+1)*k})}else b=A/I,T=y,v.each("value",function(t,e){var i=v.getItemLayout(e),n=i.angle===x?x:t*b;i.startAngle=T,i.endAngle=T+C*n,T+=n});r(t,m,c,h)})}},function(t,e,i){"use strict";var n=i(14);function a(t,e,i,n,a,r,o){function s(e,i,n,a){for(var r=e;r<i;r++)if(t[r].y+=n,r>e&&r+1<i&&t[r+1].y>t[r].y+t[r].height)return void l(r,n/2);l(i-1,n/2)}function l(e,i){for(var n=e;n>=0&&(t[n].y-=i,!(n>0&&t[n].y>t[n-1].y+t[n-1].height));n--);}function u(t,e,i,n,a,r){for(var o=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if("center"!==t[s].position){var u=Math.abs(t[s].y-n),c=t[s].len,h=t[s].len2,d=u<a+c?Math.sqrt((a+c+h)*(a+c+h)-u*u):Math.abs(t[s].x-i);e&&d>=o&&(d=o-10),!e&&d<=o&&(d=o+10),t[s].x=i+d*r,o=d}}t.sort(function(t,e){return t.y-e.y});for(var c,h=0,d=t.length,f=[],g=[],p=0;p<d;p++)(c=t[p].y-h)<0&&s(p,d,-c),h=t[p].y+t[p].height;for(o-h<0&&l(d-1,h-o),p=0;p<d;p++)t[p].y>=i?g.push(t[p]):f.push(t[p]);u(f,!1,e,i,n,a),u(g,!0,e,i,n,a)}t.exports=function(t,e,i,r){var o,s,l=t.getData(),u=[],c=!1;l.each(function(i){var a,r,h,d,f=l.getItemLayout(i),g=l.getItemModel(i),p=g.getModel("label.normal"),m=p.get("position")||g.get("label.emphasis.position"),v=g.getModel("labelLine.normal"),y=v.get("length"),x=v.get("length2"),_=(f.startAngle+f.endAngle)/2,b=Math.cos(_),w=Math.sin(_);o=f.cx,s=f.cy;var M="inside"===m||"inner"===m;if("center"===m)a=f.cx,r=f.cy,d="center";else{var S=(M?(f.r+f.r0)/2*b:f.r*b)+o,A=(M?(f.r+f.r0)/2*w:f.r*w)+s;if(a=S+3*b,r=A+3*w,!M){var I=S+b*(y+e-f.r),T=A+w*(y+e-f.r),C=I+(b<0?-1:1)*x;a=C+(b<0?-5:5),r=T,h=[[S,A],[I,T],[C,T]]}d=M?"center":b>0?"left":"right"}var k=p.getModel("textStyle").getFont(),L=p.get("rotate")?b<0?-_+Math.PI:-_:0,D=t.getFormattedLabel(i,"normal")||l.getName(i),P=n.getBoundingRect(D,k,d,"top");c=!!L,f.label={x:a,y:r,position:m,height:P.height,len:y,len2:x,linePoints:h,textAlign:d,verticalAlign:"middle",font:k,rotation:L},M||u.push(f.label)}),!c&&t.get("avoidLabelOverlap")&&function(t,e,i,n,r,o){for(var s=[],l=[],u=0;u<t.length;u++)t[u].x<e?s.push(t[u]):l.push(t[u]);for(a(l,e,i,n,1,0,o),a(s,e,i,n,-1,0,o),u=0;u<t.length;u++){var c=t[u].linePoints;if(c){var h=c[1][0]-c[2][0];c[2][0]=t[u].x<e?t[u].x+3:t[u].x-3,c[1][1]=c[2][1]=t[u].y,c[1][0]=c[2][0]+h}}}(u,o,s,e,0,r)}},function(t,e){t.exports=function(t,e){var i=e.findComponents({mainType:"legend"});i&&i.length&&e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var n=e.getName(t),a=0;a<i.length;a++)if(!i[a].isSelected(n))return!1;return!0},this)},this)}},function(t,e,i){var n=i(3),a=i(1);i(143),i(144),a.registerVisualCoding("chart",n.curry(i(104),"scatter","circle",null)),a.registerLayout(n.curry(i(105),"scatter")),i(107)},function(t,e,i){"use strict";var n=i(94),a=i(27);t.exports=a.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(t,e){return n(t.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(t,e,i){var n=i(99),a=i(145);i(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new n,this._largeSymbolDraw=new a},render:function(t,e,i){var n=t.getData(),a=this._largeSymbolDraw,r=this._normalSymbolDraw,o=this.group,s=t.get("large")&&n.count()>t.get("largeThreshold")?a:r;this._symbolDraw=s,s.updateData(n),o.add(s.group),o.remove(s===a?r.group:a.group)},updateLayout:function(t){this._symbolDraw.updateLayout(t)},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e,!0)}})},function(t,e,i){var n=i(42),a=i(101),r=i(3),o=n.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(t,e){for(var i=e.points,n=e.sizes,a=this.symbolProxy,r=a.shape,o=0;o<i.length;o++){var s=i[o],l=n[o];l[0]<4?t.rect(s[0]-l[0]/2,s[1]-l[1]/2,l[0],l[1]):(r.x=s[0]-l[0]/2,r.y=s[1]-l[1]/2,r.width=l[0],r.height=l[1],a.buildPath(t,r))}}});function s(){this.group=new n.Group,this._symbolEl=new o({silent:!0})}var l=s.prototype;l.updateData=function(t){this.group.removeAll();var e=this._symbolEl,i=t.hostModel;e.setShape({points:t.mapArray(t.getItemLayout),sizes:t.mapArray(function(e){var i=t.getItemVisual(e,"symbolSize");return r.isArray(i)||(i=[i,i]),i})}),e.symbolProxy=a.createSymbol(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor,e.useStyle(i.getModel("itemStyle.normal").getItemStyle(["color"]));var n=t.getVisual("color");n&&e.setColor(n),this.group.add(this._symbolEl)},l.updateLayout=function(t){var e=t.getData();this._symbolEl.setShape({points:e.mapArray(e.getItemLayout)})},l.remove=function(){this.group.removeAll()},t.exports=s},function(t,e,i){var n=i(3),a=i(1);i(147),i(152),i(153),a.registerVisualCoding("chart",n.curry(i(138),"radar")),a.registerVisualCoding("chart",n.curry(i(104),"radar","circle",null)),a.registerLayout(i(154)),a.registerProcessor("filter",n.curry(i(141),"radar")),a.registerPreprocessor(i(155))},function(t,e,i){i(148),i(150),i(151)},function(t,e,i){var n=i(3),a=i(149),r=i(112),o=i(7),s=i(109);function l(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=n.map(t.getIndicatorModels(),function(t,e){var i="indicator_"+e,n=new a(i,new r);return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(i),n},this),this.resize(t,i)}l.prototype.getIndicatorAxes=function(){return this._indicatorAxes},l.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},l.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},l.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var a,r=Math.atan2(-i,e),o=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],c=Math.abs(r-u.angle);c<o&&(a=u,s=l,o=c)}return[s,+(a&&a.coodToData(n))]},l.prototype.resize=function(t,e){var i=t.get("center"),a=e.getWidth(),r=e.getHeight(),s=Math.min(a,r)/2;this.cx=o.parsePercent(i[0],a),this.cy=o.parsePercent(i[1],r),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=o.parsePercent(t.get("radius"),s),n.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},l.prototype.update=function(t,e){var i=this._indicatorAxes,a=this._model;n.each(i,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,r){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===a){var o=e.getData();n.each(i,function(t){t.scale.unionExtent(o.getDataExtent(t.dim))})}},this);var r=a.get("splitNumber");function l(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}n.each(i,function(t,e){var i=s.getScaleExtent(t,t.model);s.niceScaleExtent(t,t.model);var n=t.model,a=t.scale,u=n.get("min"),c=n.get("max"),h=a.getInterval();if(null!=u&&null!=c)a.setInterval((c-u)/r);else if(null!=u){var d;do{a.setExtent(+u,d=u+h*r),a.setInterval(h),h=l(h)}while(d<i[1]&&isFinite(d)&&isFinite(i[1]))}else if(null!=c){var f;do{a.setExtent(f=c-h*r,+c),a.setInterval(h),h=l(h)}while(f>i[0]&&isFinite(f)&&isFinite(i[0]))}else{a.getTicks().length-1>r&&(h=l(h));var g=Math.round((i[0]+i[1])/2/h)*h,p=Math.round(r/2);a.setExtent(o.round(g-p*h),o.round(g+(r-p)*h)),a.setInterval(h)}})},l.dimensions=[],l.create=function(t,e){var i=[];return t.eachComponent("radar",function(n){var a=new l(n,t,e);i.push(a),n.coordinateSystem=a}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])}),i},i(25).register("radar",l),t.exports=l},function(t,e,i){var n=i(3),a=i(118);function r(t,e,i){a.call(this,t,e,i),this.type="value",this.angle=0,this.name=""}n.inherits(r,a),t.exports=r},function(t,e,i){var n=i(123).valueAxis,a=i(8),r=i(3),o=i(124);function s(t,e){return r.defaults({show:e},t)}var l=i(1).extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),s=this.get("axisTick"),l=this.get("axisLabel"),u=this.get("name.textStyle"),c=this.get("name.show"),h=this.get("name.formatter"),d=this.get("nameGap"),f=r.map(this.get("indicator")||[],function(f){return null!=f.max&&f.max>0?f.min=0:null!=f.min&&f.min<0&&(f.max=0),f=r.merge(r.clone(f),{boundaryGap:t,splitNumber:e,scale:i,axisLine:n,axisTick:s,axisLabel:l,name:f.text,nameLocation:"end",nameGap:d,nameTextStyle:u},!1),c||(f.name=""),"string"==typeof h?f.name=h.replace("{value}",f.name):"function"==typeof h&&(f.name=h(f.name,f)),r.extend(new a(f,null,this.ecModel),o)},this);this.getIndicatorModels=function(){return f}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:r.merge({lineStyle:{color:"#bbb"}},n.axisLine),axisLabel:s(n.axisLabel,!1),axisTick:s(n.axisTick,!1),splitLine:s(n.splitLine,!0),splitArea:s(n.splitArea,!0),indicator:[]}});t.exports=l},function(t,e,i){var n=i(127),a=i(3),r=i(42),o=["axisLine","axisLabel","axisTick","axisName"];t.exports=i(1).extendComponentView({type:"radar",render:function(t,e,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),r=a.map(i,function(t){return new n(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});a.each(r,function(t){a.each(o,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){var e=t.coordinateSystem,i=t.get("splitNumber"),n=e.getIndicatorAxes();if(n.length){var o=t.get("shape"),s=t.getModel("splitLine"),l=t.getModel("splitArea"),u=s.getModel("lineStyle"),c=l.getModel("areaStyle"),h=s.get("show"),d=l.get("show"),f=u.get("color"),g=c.get("color");f=a.isArray(f)?f:[f],g=a.isArray(g)?g:[g];var p=[],m=[];if("circle"===o)for(var v=n[0].getTicksCoords(),y=e.cx,x=e.cy,_=0;_<v.length;_++)h&&p[T(p,f,_)].push(new r.Circle({shape:{cx:y,cy:x,r:v[_]}})),d&&_<v.length-1&&m[T(m,g,_)].push(new r.Ring({shape:{cx:y,cy:x,r0:v[_],r:v[_+1]}}));else{var b=a.map(n,function(t,i){var n=t.getTicksCoords();return a.map(n,function(t){return e.coordToPoint(t,i)})}),w=[];for(_=0;_<=i;_++){for(var M=[],S=0;S<n.length;S++)M.push(b[S][_]);M.push(M[0].slice()),h&&p[T(p,f,_)].push(new r.Polyline({shape:{points:M}})),d&&w&&m[T(m,g,_-1)].push(new r.Polygon({shape:{points:M.concat(w)}})),w=M.slice().reverse()}}var A=u.getLineStyle(),I=c.getAreaStyle();a.each(m,function(t,e){this.group.add(r.mergePath(t,{style:a.defaults({stroke:"none",fill:g[e%g.length]},I),silent:!0}))},this),a.each(p,function(t,e){this.group.add(r.mergePath(t,{style:a.defaults({fill:"none",stroke:f[e%f.length]},A),silent:!0}))},this)}function T(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}}})},function(t,e,i){"use strict";var n=i(27),a=i(95),r=i(97),o=i(3),s=n.extend({type:"series.radar",dependencies:["radar"],init:function(t){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(t,e){var i=t.data||[],n=r([],i,[],"indicator_"),o=new a(n,this);return o.initData(i),o},formatTooltip:function(t){var e=this.getRawValue(t),i=this.coordinateSystem.getIndicatorAxes();return this._data.getName(t)+"<br />"+o.map(i,function(t,i){return t.name+" : "+e[i]}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});t.exports=s},function(t,e,i){var n=i(42),a=i(3),r=i(101);t.exports=i(1).extendChartView({type:"radar",render:function(t,e,i){var o=t.coordinateSystem,s=this.group,l=t.getData(),u=this._data;function c(t,e){var i=t.getItemVisual(e,"symbol")||"circle",n=t.getItemVisual(e,"color");if("none"!==i){var o,s=r.createSymbol(i,-.5,-.5,1,1,n);return s.attr({style:{strokeNoScale:!0},z2:100,scale:(o=t.getItemVisual(e,"symbolSize"),a.isArray(o)||(o=[+o,+o]),o)}),s}}function h(e,i,a,r,o,s){a.removeAll();for(var l=0;l<i.length-1;l++){var u=c(r,o);u&&(u.__dimIdx=l,e[l]?(u.attr("position",e[l]),n[s?"initProps":"updateProps"](u,{position:i[l]},t,o)):u.attr("position",i[l]),a.add(u))}}function d(t){return a.map(t,function(t){return[o.cx,o.cy]})}l.diff(u).add(function(e){var i=l.getItemLayout(e);if(i){var a=new n.Polygon,r=new n.Polyline,o={shape:{points:i}};a.shape.points=d(i),r.shape.points=d(i),n.initProps(a,o,t,e),n.initProps(r,o,t,e);var s=new n.Group,u=new n.Group;s.add(r),s.add(a),s.add(u),h(r.shape.points,i,u,l,e,!0),l.setItemGraphicEl(e,s)}}).update(function(e,i){var a=u.getItemGraphicEl(i),r=a.childAt(0),o=a.childAt(1),s=a.childAt(2),c={shape:{points:l.getItemLayout(e)}};c.shape.points&&(h(r.shape.points,c.shape.points,s,l,e,!1),n.updateProps(r,c,t),n.updateProps(o,c,t),l.setItemGraphicEl(e,a))}).remove(function(t){s.remove(u.getItemGraphicEl(t))}).execute(),l.eachItemGraphicEl(function(e,i){var r=l.getItemModel(i),o=e.childAt(0),u=e.childAt(1),c=e.childAt(2),h=l.getItemVisual(i,"color");s.add(e),o.useStyle(a.extend(r.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:h})),o.hoverStyle=r.getModel("lineStyle.emphasis").getLineStyle();var d=r.getModel("areaStyle.normal"),f=r.getModel("areaStyle.emphasis"),g=d.isEmpty()&&d.parentModel.isEmpty(),p=f.isEmpty()&&f.parentModel.isEmpty();p=p&&g,u.ignore=g,u.useStyle(a.defaults(d.getAreaStyle(),{fill:h,opacity:.7})),u.hoverStyle=f.getAreaStyle();var m=r.getModel("itemStyle.normal").getItemStyle(["color"]),v=r.getModel("itemStyle.emphasis").getItemStyle(),y=r.getModel("label.normal"),x=r.getModel("label.emphasis");function _(){u.attr("ignore",p)}function b(){u.attr("ignore",g)}c.eachChild(function(e){e.setStyle(m),e.hoverStyle=a.clone(v);var r=l.get(l.dimensions[e.__dimIdx],i);n.setText(e.style,y,h),e.setStyle({text:y.get("show")?a.retrieve(t.getFormattedLabel(i,"normal",null,e.__dimIdx),r):""}),n.setText(e.hoverStyle,x,h),e.hoverStyle.text=x.get("show")?a.retrieve(t.getFormattedLabel(i,"emphasis",null,e.__dimIdx),r):""}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",_).on("mouseover",_).on("normal",b).on("mouseout",b),n.setHoverStyle(e)}),this._data=l},remove:function(){this.group.removeAll(),this._data=null}})},function(t,e){t.exports=function(t,e){t.eachSeriesByType("radar",function(t){var e=t.getData(),i=[],n=t.coordinateSystem;if(n){for(var a=0;a<n.getIndicatorAxes().length;a++)e.each(e.dimensions[a],r);e.each(function(t){i[t][0]&&i[t].push(i[t][0].slice()),e.setItemLayout(t,i[t])})}function r(t,e){i[e]=i[e]||[],i[e][a]=n.dataToPoint(t,a)}})}},function(t,e,i){var n=i(3);t.exports=function(t){var e=t.polar;if(e){n.isArray(e)||(e=[e]);var i=[];n.each(e,function(e,a){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],n.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)}),t.polar=i}n.each(t.series,function(t){"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}},function(t,e,i){var n=i(1);i(157),i(167),i(171),i(158),n.registerLayout(i(173)),n.registerVisualCoding("chart",i(174)),n.registerProcessor("statistic",i(175)),n.registerPreprocessor(i(176)),i(137)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,i){var n=i(95),a=i(27),r=i(3),o=i(97),s=i(6),l=s.encodeHTML,u=s.addCommas,c=i(135),h=i(158),d=a.extend({type:"series.map",needsDrawMap:!1,seriesGroup:[],init:function(t){t=this._fillOption(t,t.map),this.option=t,d.superApply(this,"init",arguments),this.updateSelectedMap(t.data)},getInitialData:function(t){var e=o(["value"],t.data||[]),i=new n(e,this);return i.initData(t.data),i},mergeOption:function(t){t.data&&(t=this._fillOption(t,this.option.map)),d.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},_fillOption:function(t,e){return(t=r.extend({},t)).data=h.getFilledRegions(t.data,e),t},getRawValue:function(t){return this._data.get("value",t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this._data,i=u(this.getRawValue(t)),n=e.getName(t),a=this.seriesGroup,r=[],o=0;o<a.length;o++)isNaN(a[o].getRawValue(t))||r.push(l(a[o].name));return r.join(", ")+"<br />"+n+" : "+i},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",showLegendSymbol:!0,dataRangeHoverLink:!0,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215, 0, 0.8)"}}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});r.mixin(d,c),t.exports=d},function(t,e,i){var n=i(159),a=i(21),r=i(3),o={};function s(t,e){var i=this.getBoundingRect(),n=t.getBoxLayoutParams();n.aspect=i.width/i.height*.75;var r=a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});this.setViewRect(r.x,r.y,r.width,r.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function l(t,e){r.each(e.get("geoCoord"),function(e,i){t.addGeoCoord(i,e)})}function u(t){console.error("Map "+t+" not exists")}var c={dimensions:n.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent("geo",function(t,a){var r=t.get("map"),c=o[r];c||u(r);var h=new n(r+a,r,c&&c.geoJson,c&&c.specialAreas,t.get("nameMap"));h.zoomLimit=t.get("scaleLimit"),i.push(h),l(h,t),t.coordinateSystem=h,h.model=t,h.resize=s,h.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=i[e]}});var a={};return t.eachSeriesByType("map",function(t){var e=t.get("map");a[e]=a[e]||[],a[e].push(t)}),r.each(a,function(t,a){var c=o[a];c||u(name);var h=r.map(t,function(t){return t.get("nameMap")}),d=new n(a,a,c&&c.geoJson,c&&c.specialAreas,r.mergeAll(h));d.zoomLimit=r.retrieve.apply(null,r.map(t,function(t){return t.get("scaleLimit")})),i.push(d),d.resize=s,d.resize(t[0],e),r.each(t,function(t){t.coordinateSystem=d,l(d,t)})}),i},registerMap:function(t,e,i){e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),o[t]={geoJson:e,specialAreas:i}},getMap:function(t){return o[t]},getFilledRegions:function(t,e){for(var i=(t||[]).slice(),n=c.getMap(e),a={},r=(n&&n.geoJson).features,o=0;o<i.length;o++)a[i[o].name]=i[o];for(o=0;o<r.length;o++){var s=r[o].properties.name;a[s]||i.push({name:s})}return i}},h=i(1);h.registerMap=c.registerMap,h.getMap=c.getMap,h.loadMap=function(){},h.registerCoordinateSystem("geo",c),t.exports=c},function(t,e,i){var n=i(160),a=i(3),r=i(15),o=i(163),s=[i(164),i(165),i(166)];function l(t,e,i,n,a){o.call(this,t),this.map=e,this._nameCoordMap={},this.loadGeoJson(i,n,a)}l.prototype={constructor:l,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return!0;return!1},loadGeoJson:function(t,e,i){try{this.regions=t?n(t):[]}catch(h){throw"Invalid geoJson format\n"+h}e=e||{},i=i||{};for(var r=this.regions,o={},l=0;l<r.length;l++){var u=r[l].name;r[l].name=u=i[u]||u,o[u]=r[l],this.addGeoCoord(u,r[l].center);var c=e[u];c&&r[l].transformTo(c.left,c.top,c.width,c.height)}this._regionsMap=o,this._rect=null,a.each(s,function(t){t(this)},this)},transformTo:function(t,e,i,n){var a=this.getBoundingRect();(a=a.clone()).y=-a.y-a.height;var o=this._viewTransform;o.transform=a.calculateTransform(new r(t,e,i,n)),o.decomposeTransform();var s=o.scale;s[1]=-s[1],o.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getGeoCoord:function(t){return this._nameCoordMap[t]},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,i=0;i<e.length;i++){var n=e[i].getBoundingRect();(t=t||n.clone()).union(n)}return this._rect=t||new r(0,0,0,0)},dataToPoints:function(t){var e=[];return t.mapArray(["lng","lat"],function(t,i){return e[0]=t,e[1]=i,this.dataToPoint(e)},this)},dataToPoint:function(t){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return o.prototype.dataToPoint.call(this,t)}},a.mixin(l,o),t.exports=l},function(t,e,i){var n=i(3),a=i(161);function r(t,e){for(var i=[],n=e[0],a=e[1],r=0;r<t.length;r+=2){var o=t.charCodeAt(r)-64,s=t.charCodeAt(r+1)-64;o=o>>1^-(1&o),s=s>>1^-(1&s),n=o+=n,a=s+=a,i.push([o/1024,s/1024])}return i}t.exports=function(t){return function(t){if(!t.UTF8Encoding)return t;for(var e=t.features,i=0;i<e.length;i++)for(var n=e[i].geometry,a=n.coordinates,o=n.encodeOffsets,s=0;s<a.length;s++){var l=a[s];if("Polygon"===n.type)a[s]=r(l,o[s]);else if("MultiPolygon"===n.type)for(var u=0;u<l.length;u++)l[u]=r(l[u],o[s][u])}t.UTF8Encoding=!1}(t),n.map(n.filter(t.features,function(t){return t.geometry&&t.properties}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates;return"MultiPolygon"===i.type&&(n=function(t){for(var e=[],i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)e.push(t[i][n]);return e}(n)),new a(e.name,n,e.cp)})}},function(t,e,i){var n=i(162),a=i(15),r=i(50),o=i(16);function s(t,e,i){if(this.name=t,this.contours=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}s.prototype={constructor:s,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],s=[],l=[],u=this.contours,c=0;c<u.length;c++)r.fromPoints(u[c],s,l),o.min(i,i,s),o.max(n,n,l);return 0===c&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new a(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.contours;if(e.contain(t[0],t[1]))for(var a=0,r=i.length;a<r;a++)if(n.contain(i[a],t[0],t[1]))return!0;return!1},transformTo:function(t,e,i,n){var r=this.getBoundingRect(),s=r.width/r.height;i?n||(n=i/s):i=s*n;for(var l=new a(t,e,i,n),u=r.calculateTransform(l),c=this.contours,h=0;h<c.length;h++)for(var d=0;d<c[h].length;d++)o.applyTransform(c[h][d],c[h][d],u);(r=this._rect).copy(l),this.center=[r.x+r.width/2,r.y+r.height/2]}},t.exports=s},function(t,e,i){var n=i(57);function a(t,e){return Math.abs(t-e)<1e-8}t.exports={contain:function(t,e,i){var r=0,o=t[0];if(!o)return!1;for(var s=1;s<t.length;s++){var l=t[s];r+=n(o[0],o[1],l[0],l[1],e,i),o=l}var u=t[0];return a(o[0],u[0])&&a(o[1],u[1])||(r+=n(o[0],o[1],u[0],u[1],e,i)),0!==r}}},function(t,e,i){var n=i(16),a=i(17),r=i(33),o=i(3),s=i(15),l=n.applyTransform;function u(){r.call(this)}function c(t){this.name=t,r.call(this),this._roamTransform=new u,this._viewTransform=new u}o.mixin(u,r),c.prototype={constructor:c,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,i,n){return this._rect=new s(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){this.transformTo(t,e,i=i,n=n),this._viewRect=new s(t,e,i,n)},transformTo:function(t,e,i,n){var a=this.getBoundingRect(),r=this._viewTransform;r.transform=a.calculateTransform(new s(t,e,i,n)),r.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var t=this._viewTransform.getLocalTransform(),e=this._roamTransform,i=this.getDefaultCenter(),a=this.getCenter(),r=this.getZoom();a=n.applyTransform([],a,t),i=n.applyTransform([],i,t),e.origin=a,e.position=[i[0]-a[0],i[1]-a[1]],e.scale=[r,r],this._updateTransform()},_updateTransform:function(){var t=this._roamTransform,e=this._viewTransform;e.parent=t,t.updateTransform(),e.updateTransform(),e.transform&&a.copy(this.transform||(this.transform=[]),e.transform),this.transform?(this.invTransform=this.invTransform||[],a.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t){var e=this.transform;return e?l([],t,e):[t[0],t[1]]},pointToData:function(t){var e=this.invTransform;return e?l([],t,e):[t[0],t[1]]}},o.mixin(c,r),t.exports=c},function(t,e,i){for(var n=i(161),a=[126,25],r=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],o=0;o<r.length;o++)for(var s=0;s<r[o].length;s++)r[o][s][0]/=10.5,r[o][s][1]/=-14,r[o][s][0]+=a[0],r[o][s][1]+=a[1];t.exports=function(t){"china"===t.map&&t.regions.push(new n("\u5357\u6d77\u8bf8\u5c9b",r,a))}},function(t,e,i){var n=i(3),a={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};t.exports=function(t){n.each(t.regions,function(t){var e=a[t.name];if(e){var i=t.center;i[0]+=e[0]/10.5,i[1]+=-e[1]/14}})}},function(t,e,i){var n=i(3),a={Russia:[100,60],"United States of America":[-99,38]};t.exports=function(t){n.each(t.regions,function(t){var e=a[t.name];if(e){var i=t.center;i[0]=e[0],i[1]=e[1]}})}},function(t,e,i){var n=i(42),a=i(168);i(1).extendChartView({type:"map",render:function(t,e,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var r=this.group;if(r.removeAll(),n&&"geoRoam"===n.type&&"series"===n.component&&n.name===t.name)(o=this._mapDraw)&&r.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new a(i,!0);r.add(o.group),o.draw(t,e,i,this,n),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i)}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},_renderSymbols:function(t,e,i){var a=t.getData(),r=this.group;a.each("value",function(t,e){if(!isNaN(t)){var i=a.getItemLayout(e);if(i&&i.point){var o=i.point,s=i.offset,l=new n.Circle({style:{fill:a.getVisual("color")},shape:{cx:o[0]+9*s,cy:o[1],r:3},silent:!0,z2:10});if(!s){var u=a.getName(e),c=a.getItemModel(e),h=c.getModel("label.normal"),d=c.getModel("label.emphasis"),f=h.getModel("textStyle"),g=d.getModel("textStyle"),p=a.getItemGraphicEl(e);l.setStyle({textPosition:"bottom"});var m=function(){l.setStyle({text:d.get("show")?u:"",textFill:g.getTextColor(),textFont:g.getFont()})},v=function(){l.setStyle({text:h.get("show")?u:"",textFill:f.getTextColor(),textFont:f.getFont()})};p.on("mouseover",m).on("mouseout",v).on("emphasis",m).on("normal",v),v()}r.add(l)}}})}})},function(t,e,i){var n=i(169),a=i(42),r=i(3);function o(t,e){var i=t.getItemStyle(),n=t.get("areaColor");return n&&(i.fill=n),i}function s(t,e){e.eachChild(function(e){e.__region&&e.trigger(t.isSelected(e.__region.name)?"emphasis":"normal")})}function l(t,e){var i=new a.Group;this._controller=new n(t.getZr(),e?i:null,null),this.group=i,this._updateGroup=e}l.prototype={constructor:l,draw:function(t,e,i,n,l){var u=t.getData&&t.getData(),c=t.coordinateSystem,h=this.group,d=c.scale,f={position:c.position,scale:d};!h.childAt(0)||l?h.attr(f):a.updateProps(h,f,t),h.removeAll();var g=["itemStyle","normal"],p=["itemStyle","emphasis"],m=["label","normal"],v=["label","emphasis"];r.each(c.regions,function(e){var i=new a.Group,n=new a.CompoundPath({shape:{paths:[]}});i.add(n);var s,l=(P=t.getRegionModel(e.name)||t).getModel(g),c=P.getModel(p),f=o(l),y=o(c),x=P.getModel(m),_=P.getModel(v);if(u){s=u.indexOfName(e.name);var b=u.getItemVisual(s,"color",!0);b&&(f.fill=b)}var w=x.getModel("textStyle"),M=_.getModel("textStyle");r.each(e.contours,function(t){var e=new a.Polygon({shape:{points:t}});n.shape.paths.push(e)}),n.setStyle(f),n.style.strokeNoScale=!0,n.culling=!0;var S=x.get("show"),A=_.get("show"),I=u&&isNaN(u.get("value",s)),T=u&&u.getItemLayout(s);if(!u||I&&(S||A)||T&&T.showLabel){var C=u?s:e.name,k=t.getFormattedLabel(C,"normal"),L=t.getFormattedLabel(C,"emphasis"),D=new a.Text({style:{text:S?k||e.name:"",fill:w.getTextColor(),textFont:w.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:A?L||e.name:"",fill:M.getTextColor(),textFont:M.getFont()},position:e.center.slice(),scale:[1/d[0],1/d[1]],z2:10,silent:!0});i.add(D)}if(u)u.setItemGraphicEl(s,i);else{var P=t.getRegionModel(e.name);n.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:P&&P.option||{}}}i.__region=e,a.setHoverStyle(i,y),h.add(i)}),this._updateController(t,e,i),function(t,e,i,n){e.off("click"),t.get("selectedMode")&&e.on("click",function(a){for(var r=a.target;!r.__region;)r=r.parent;if(r){var o={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",name:r.__region.name,from:n.uid};o[t.mainType+"Id"]=t.id,i.dispatchAction(o),s(t,e)}})}(t,h,i,n),s(t,h)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(t,e,i){var n=t.coordinateSystem,a=this._controller;a.zoomLimit=t.get("scaleLimit"),a.zoom=n.getZoom(),a.enable(t.get("roam")||!1);var o=t.mainType;function s(){var e={type:"geoRoam",componentType:o};return e[o+"Id"]=t.id,e}a.off("pan").on("pan",function(t,e){i.dispatchAction(r.extend(s(),{dx:t,dy:e}))}),a.off("zoom").on("zoom",function(t,e,n){if(i.dispatchAction(r.extend(s(),{zoom:t,originX:e,originY:n})),this._updateGroup){var a=this.group,o=a.scale;a.traverse(function(t){"text"===t.type&&t.attr("scale",[1/o[0],1/o[1]])})}},this),a.rectProvider=function(){return n.getViewRectAfterRoam()}}},t.exports=l},function(t,e,i){var n=i(32),a=i(3),r=i(81),o=i(170);function s(t){if(!t.target||!t.target.draggable){var e=t.offsetX,i=t.offsetY,n=this.rectProvider&&this.rectProvider();n&&n.contain(e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function l(t){if(this._dragging&&(r.stop(t.event),"pinch"!==t.gestureEvent)){if(o.isTaken("globalPan",this._zr))return;var e=t.offsetX,i=t.offsetY,n=e-this._x,a=i-this._y;this._x=e,this._y=i;var s=this.target;if(s){var l=s.position;l[0]+=n,l[1]+=a,s.dirty()}r.stop(t.event),this.trigger("pan",n,a)}}function u(t){this._dragging=!1}function c(t){d.call(this,t,t.wheelDelta>0?1.1:1/1.1,t.offsetX,t.offsetY)}function h(t){o.isTaken("globalPan",this._zr)||d.call(this,t,t.pinchScale>1?1.1:1/1.1,t.pinchX,t.pinchY)}function d(t,e,i,n){var a=this.rectProvider&&this.rectProvider();if(a&&a.contain(i,n)){r.stop(t.event);var o=this.target,s=this.zoomLimit;if(o){var l=o.position,u=o.scale,c=this.zoom=this.zoom||1;if(c*=e,s){var h=s.min||0;c=Math.max(Math.min(s.max||1/0,c),h)}var d=c/this.zoom;this.zoom=c,l[0]-=(i-l[0])*(d-1),l[1]-=(n-l[1])*(d-1),u[0]*=d,u[1]*=d,o.dirty()}this.trigger("zoom",e,i,n)}}function f(t,e,i){this.target=e,this.rectProvider=i,this._zr=t;var r=a.bind,o=r(s,this),d=r(l,this),f=r(u,this),g=r(c,this),p=r(h,this);n.call(this),this.enable=function(e){this.disable(),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",o),t.on("mousemove",d),t.on("mouseup",f)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",g),t.on("pinch",p))},this.disable=function(){t.off("mousedown",o),t.off("mousemove",d),t.off("mouseup",f),t.off("mousewheel",g),t.off("pinch",p)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}a.mixin(f,n),t.exports=f},function(t,e){var i="\0_ec_interaction_mutex";function n(t){return t[i]||(t[i]={})}t.exports={take:function(t,e){n(e)[t]=!0},release:function(t,e){n(e)[t]=!1},isTaken:function(t,e){return!!n(e)[t]}}},function(t,e,i){var n=i(3),a=i(172);i(1).registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},function(e){var r=e.coordinateSystem;if("geo"===r.type){var o=a.updateCenterAndZoom(r,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),"series"===i&&n.each(e.seriesGroup,function(t){t.setCenter(o.center),t.setZoom(o.zoom)})}})})},function(t,e){t.exports={updateCenterAndZoom:function(t,e,i){var n=t.getZoom(),a=t.getCenter(),r=e.zoom,o=t.dataToPoint(a);if(null!=e.dx&&null!=e.dy&&(o[0]-=e.dx,o[1]-=e.dy,a=t.pointToData(o),t.setCenter(a)),null!=r){if(i){var s=i.min||0;r=Math.max(Math.min(n*r,i.max||1/0),s)/n}t.scale[0]*=r,t.scale[1]*=r;var l=t.position,u=(e.originY-l[1])*(r-1);l[0]-=(e.originX-l[0])*(r-1),l[1]-=u,t.updateTransform(),a=t.pointToData(o),t.setCenter(a),t.setZoom(r*n)}return{center:t.getCenter(),zoom:t.getZoom()}}}},function(t,e,i){var n=i(3);t.exports=function(t){var e={};t.eachSeriesByType("map",function(i){var a=i.get("map");if(!e[a]){var r={};n.each(i.seriesGroup,function(e){var i=e.coordinateSystem,n=e.getData();e.get("showLegendSymbol")&&t.getComponent("legend")&&n.each("value",function(t,e){var a=n.getName(e),o=i.getRegion(a);if(o&&!isNaN(t)){var s=r[a]||0,l=i.dataToPoint(o.center);r[a]=s+1,n.setItemLayout(e,{point:l,offset:s})}})});var o=i.getData();o.each(function(t){var e=o.getName(t),i=o.getItemLayout(t)||{};i.showLabel=!r[e],o.setItemLayout(t,i)}),e[a]=!0}})}},function(t,e){t.exports=function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),i=t.getModel("itemStyle.normal"),n=i.get("areaColor"),a=i.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:a})})}},function(t,e,i){var n=i(3);t.exports=function(t){var e={};t.eachSeriesByType("map",function(t){var i=t.get("map");e[i]=e[i]||[],e[i].push(t)}),n.each(e,function(t,e){var i=function(t,e){for(var i={},n=["value"],a=0;a<t.length;a++)t[a].each(n,function(e,n){var r=t[a].getName(n);i[r]=i[r]||[],isNaN(e)||i[r].push(e)});return t[0].map(n,function(n,a){for(var r=t[0].getName(a),o=0,s=1/0,l=-1/0,u=i[r].length,c=0;c<u;c++)s=Math.min(s,i[r][c]),l=Math.max(l,i[r][c]),o+=i[r][c];return 0===u?NaN:"min"===e?s:"max"===e?l:"average"===e?o/u:o})}(n.map(t,function(t){return t.getData()}),t[0].get("mapValueCalculation"));t[0].seriesGroup=[],t[0].setData(i);for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a})}},function(t,e,i){var n=i(3),a=["x","y","x2","y2","width","height","map","roam","center","zoom","scaleLimit","label","itemStyle"],r={};t.exports=function(t){var e=[];n.each(t.series,function(t){"map"===t.type&&e.push(t),n.extend(r,t.geoCoord)});var i={};n.each(e,function(e){if(e.map=e.map||e.mapType,n.defaults(e,e.mapLocation),e.markPoint){var o=e.markPoint;if(o.data=n.map(o.data,function(t){if(!n.isArray(t.value)){var e;t.geoCoord?e=t.geoCoord:t.name&&(e=r[t.name]);var i=e?[e[0],e[1]]:[NaN,NaN];null!=t.value&&i.push(t.value),t.value=i}return t}),!e.data||!e.data.length){t.geo?n.isArray(t.geo)||(t.geo=[t.geo]):t.geo=[];var s=i[e.map];s||(s=i[e.map]=function(t){var e={};return n.each(a,function(i){null!=t[i]&&(e[i]=t[i])}),e}(e),t.geo.push(s));var l=e.markPoint;l.type=t.effect&&t.effect.show?"effectScatter":"scatter",l.coordinateSystem="geo",l.geoIndex=n.indexOf(t.geo,s),l.name=e.name,t.series.splice(n.indexOf(t.series,e),1,l)}}})}},function(t,e,i){var n=i(1);i(178),i(181),i(185),n.registerVisualCoding("chart",i(186)),n.registerLayout(i(188))},function(t,e,i){var n=i(27),a=i(179),r=i(3),o=i(8),s=i(6),l=s.encodeHTML,u=s.addCommas;function c(t,e){var i=0;r.each(t.children,function(t){c(t,e);var n=t.value;r.isArray(n)&&(n=n[0]),i+=n});var n=t.value;e>=0&&(r.isArray(n)?n=n[0]:t.value=new Array(e)),(null==n||isNaN(n))&&(n=i),n<0&&(n=0),e>=0?t.value[0]=n:t.value=n}t.exports=n.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:"none",colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i=t.name;null==i&&(i=t.name);var n={name:i,children:t.data},s=((t.data||[])[0]||{}).value;c(n,r.isArray(s)?s.length:-1);var l=t.levels||[];return l=t.levels=function(t,e){var i,n=e.get("color");if(n)return r.each(t=t||[],function(t){var e=new o(t),n=e.get("color");(e.get("itemStyle.normal.color")||n&&"none"!==n)&&(i=!0)}),i||((t[0]||(t[0]={})).color=n.slice()),t}(l,e),a.createTree(n,this,l).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=r.isArray(i)?u(i[0]):u(i),a=e.getName(t);return l(a)+": "+n},getDataParams:function(t){for(var e=n.prototype.getDataParams.apply(this,arguments),i=this.getData(),a=i.tree.getNodeByDataIndex(t),r=e.treePathInfo=[];a;){var o=a.dataIndex;r.push({name:a.name,dataIndex:o,value:this.getRawValue(o)}),a=a.parentNode}return r.reverse(),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},r.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap={},this._idIndexMapCount=0);var i=e[t];return null==i&&(e[t]=i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}})},function(t,e,i){var n=i(3),a=i(8),r=i(95),o=i(180),s=i(97),l=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};function u(t,e){this._nodes=[],this.hostModel=t,this.levelModels=n.map(e||[],function(e){return new a(e,t,t.ecModel)})}l.prototype={constructor:l,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),n.isString(t=t||{})&&(t={order:t});var a,r=t.order||"preorder",o=this[t.attr||"children"];"preorder"===r&&(a=e.call(i,this));for(var s=0;!a&&s<o.length;s++)o[s].eachNode(t,e,i);"postorder"===r&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var a=i[e].getNodeById(t);if(a)return a}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var a=i[e].contains(t);if(a)return a}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostTree,i=e.data.getItemModel(this.dataIndex),n=this.getLevelModel();return i.getModel(t,(n||e.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},u.prototype={constructor:u,type:"tree",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++)e[i].dataIndex=-1;for(i=0,n=t.count();i<n;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},u.createTree=function(t,e,i){var n=new u(e,i),a=[];!function t(e,i){a.push(e);var r=new l(e.name,n);i?function(t,e){t.parentNode!==e&&(e.children.push(t),t.parentNode=e)}(r,i):n.root=r,n._nodes.push(r);var o=e.children;if(o)for(var s=0;s<o.length;s++)t(o[s],r)}(t),n.root.updateDepthAndHeight(0);var c=s([{name:"value"}],a),h=new r(c,e);return h.initData(a),o({mainData:h,struct:n,structAttr:"tree"}),n.update(),n},t.exports=u},function(t,e,i){var n=i(3),a=n.each,r="\0__link_datas",o="\0__link_mainData";function s(t,e){if(this[o]===this){var i=n.extend({},this[r]);i[this.dataType]=e,h(e,i,t)}else d(e,this.dataType,this[o],t);return e}function l(t,e){return t.struct&&t.struct.update(this),e}function u(t,e){return a(e[r],function(i,n){i!==e&&d(i.cloneShallow(),n,e,t)}),e}function c(t){var e=this[o];return null==t||null==e?e:e[r][t]}function h(t,e,i){t[r]={},a(e,function(e,n){d(e,n,t,i)})}function d(t,e,i,n){i[r][e]=t,t[o]=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=c}t.exports=function(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,h(e,i,t),a(i,function(i){a(e.TRANSFERABLE_METHODS,function(e){i.wrapMethod(e,n.curry(s,t))})}),e.wrapMethod("cloneShallow",n.curry(u,t)),a(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,n.curry(l,t))}),n.assert(i[e.dataType]===e)}},function(t,e,i){var n=i(3),a=i(42),r=i(96),o=i(182),s=i(183),l=i(169),u=i(15),c=i(17),h=i(184),d=n.bind,f=a.Group,g=a.Rect,p=n.each,m=["label","normal"],v=["label","emphasis"];function y(t,e,i,r,o,s,l,u,c,h){if(l){var d=l.getLayout();if(d&&d.isInView){var p=d.width,y=d.height,_=d.invisible,b=l.getRawIndex(),w=u&&u.getRawIndex(),M=k("nodeGroup",f);if(M){if(c.add(M),M.position=[d.x||0,d.y||0],M.__tmNodeWidth=p,M.__tmNodeHeight=y,d.isAboveViewRoot)return M;var S=k("background",g,h,1);S&&(S.setShape({x:0,y:0,width:p,height:y}),T(S,function(){S.setStyle("fill",l.getVisual("borderColor",!0))}),M.add(S));var A=l.viewChildren;if(!A||!A.length){var I=k("content",g,h,2);I&&function(e){I.dataIndex=l.dataIndex,I.seriesIndex=t.seriesIndex;var i=d.borderWidth,n=Math.max(p-2*i,0),r=Math.max(y-2*i,0);I.culling=!0,I.setShape({x:i,y:i,width:n,height:r});var o=l.getVisual("color",!0);T(I,function(){var e={fill:o},i=l.getModel("itemStyle.emphasis").getItemStyle();!function(e,i,n,a,r){var o=l.getModel(),s=o.get("name");if(d.isLeafRoot){var u=t.get("drillDownIcon",!0);s+=u?"  "+u:""}C(s,e,o,m,n,a,r),C(s,i,o,v,n,a,r)}(e,i,o,n,r),I.setStyle(e),a.setHoverStyle(I,i)}),e.add(I)}(M)}return M}}}function T(t,e){_?!t.invisible&&s.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function C(t,e,i,n,r,o,s){var l=i.getModel(n),u=l.getModel("textStyle");a.setText(e,l,r),e.textAlign=u.get("align"),e.textVerticalAlign=u.get("baseline");var c=u.getTextRect(t);e.text=!l.getShallow("show")||c.height>s?"":c.width>o?u.get("ellipsis")?u.ellipsis(t,o):"":t}function k(t,a,s,u){var c=null!=w&&i[t][w],h=o[t];return c?(i[t][w]=null,function(t,e,i){(t[b]={}).old="nodeGroup"===i?e.position.slice():n.extend({},e.shape)}(h,c,t)):_||((c=new a({z:x(s,u)})).__tmDepth=s,c.__tmStorageName=t,function(t,e,i){var n=t[b]={},a=l.parentNode;if(a&&(!r||"drillDown"===r.direction)){var s=0,u=0,c=o.background[a.getRawIndex()];!r&&c&&c.old&&(s=c.old.width,u=c.old.height),n.old="nodeGroup"===i?[0,u]:{x:s,y:u,width:0,height:0}}n.fadein="nodeGroup"!==i}(h,0,t)),e[t][b]=c}}function x(t,e){var i=10*t+e;return(i-1)/i}t.exports=i(1).extendChartView({type:"treemap",init:function(t,e){this._storage={nodeGroup:[],background:[],content:[]},this._state="ready"},render:function(t,e,i,a){var r=e.findComponents({mainType:"series",subType:"treemap",query:a});if(!(n.indexOf(r,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var s=o.retrieveTargetInfo(a,t),l=a&&a.type,u=t.layoutInfo,c=!this._oldTree,h=this._storage,d="treemapRootToNode"===l&&s&&h?{rootNodeGroup:h.nodeGroup[s.node.getRawIndex()],direction:a.direction}:null,f=this._giveContainerGroup(u),g=this._doRender(f,t,d);c||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?g.renderFinally():this._doAnimation(f,g,t,d),this._resetController(i),this._renderBreadcrumb(t,i,s)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new f,this._initEvents(e),this.group.add(e)),e.position=[t.x,t.y],e},_doRender:function(t,e,i){var a=e.getData().tree,o=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,c=[],h=n.curry(y,e,l,u,i,s,c);!function t(e,i,a,o,s){function l(t){return t.getId()}function u(n,r){var l=null!=n?e[n]:null,u=null!=r?i[r]:null,c=h(l,u,a,s);c&&t(l&&l.viewChildren||[],u&&u.viewChildren||[],c,o,s+1)}o?(i=e,p(e,function(t,e){!t.isRemoved()&&u(e,e)})):new r(i,e,l,l).add(u).update(u).remove(n.curry(u,null)).execute()}(a.root?[a.root]:[],o&&o.root?[o.root]:[],t,a===o||!o,0);var d=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&p(t,function(t,i){var n=e[i];p(t,function(t){t&&(n.push(t),t.__tmWillDelete=1)})}),e}(u);return this._oldTree=a,this._storage=l,{lastsForAnimation:s,willDeleteEls:d,renderFinally:function(){p(d,function(t){p(t,function(t){t.parent&&t.parent.remove(t)})}),p(c,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,e,i,a){if(i.get("animation")){var r=i.get("animationDurationUpdate"),o=i.get("animationEasing"),s=h.createWrap();p(e.willDeleteEls,function(t,e){p(t,function(t,i){if(!t.invisible){var n,l=t.parent;if(a&&"drillDown"===a.direction)n=l===a.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,c=0;l.__tmWillDelete||(u=l.__tmNodeWidth/2,c=l.__tmNodeHeight/2),n="nodeGroup"===e?{position:[u,c],style:{opacity:0}}:{shape:{x:u,y:c,width:0,height:0},style:{opacity:0}}}n&&s.add(t,n,r,o)}})}),p(this._storage,function(t,i){p(t,function(t,a){var l=e.lastsForAnimation[i][a],u={};l&&("nodeGroup"===i?l.old&&(u.position=t.position.slice(),t.position=l.old):(l.old&&(u.shape=n.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),u.style={opacity:1}):1!==t.style.opacity&&(u.style={opacity:1})),s.add(t,u,r,o))})},this),this._state="animating",s.done(d(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new l(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",d(this._onPan,this)),e.on("zoom",d(this._onZoom,this)));var i=new u(0,0,t.getWidth(),t.getHeight());e.rectProvider=function(){return i}},_clearController:function(){var t=this._controller;t&&(t.off("pan").off("zoom"),t=null)},_onPan:function(t,e){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(t)>3||Math.abs(e)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}})}},_onZoom:function(t,e,i){if(this._mayClick=!1,"animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var a=n.getLayout();if(!a)return;var r=new u(a.x,a.y,a.width,a.height),o=this.seriesModel.layoutInfo;e-=o.x,i-=o.y;var s=c.create();c.translate(s,s,[-e,-i]),c.scale(s,s,[t,t]),c.translate(s,s,[e,i]),r.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},_initEvents:function(t){function e(t){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var a=n.hostTree.data.getItemModel(n.dataIndex),r=a.get("link",!0),o=a.get("target",!0)||"blank";r&&window.open(r,o)}}}}t.on("mousedown",function(t){"ready"===this._state&&(this._mayClick=!0)},this),t.on("mouseup",function(t){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&e.call(this,t))},this)},_renderBreadcrumb:function(t,e,i){i||(i=this.findTarget(e.getWidth()/2,e.getHeight()/2))||(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new s(this.group,d(function(e){"animating"!==this._state&&(o.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))},this)))).render(t,e,i.node)},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(n){var a=this._storage.background[n.getRawIndex()];if(a){var r=a.transformCoordToLocal(t,e),o=a.shape;if(!(o.x<=r[0]&&r[0]<=o.x+o.width&&o.y<=r[1]&&r[1]<=o.y+o.height))return!1;i={node:n,offsetX:r[0],offsetY:r[1]}}},this),i}})},function(t,e,i){var n=i(3),a={retrieveTargetInfo:function(t,e){if(t&&("treemapZoomToNode"===t.type||"treemapRootToNode"===t.type)){var i=e.getData().tree.root,n=t.targetNode;if(n&&i.contains(n))return{node:n};var a=t.targetNodeId;if(null!=a&&(n=i.getNodeById(a)))return{node:n}}},getPathToRoot:function(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()},aboveViewRoot:function(t,e){var i=a.getPathToRoot(t);return n.indexOf(i,e)>=0}};t.exports=a},function(t,e,i){var n=i(42),a=i(21),r=i(3);function o(t,e){this.group=new n.Group,t.add(this.group),this._onSelect=e||r.noop}function s(t,e,i,n,a,r){var o=[[a?t:t-5,e],[t+i,e],[t+i,e+n],[a?t:t-5,e+n]];return!r&&o.splice(2,0,[t+i+5,e+n/2]),!a&&o.push([t,e+n/2]),o}o.prototype={constructor:o,render:function(t,e,i){var n=t.getModel("breadcrumb"),r=this.group;if(r.removeAll(),n.get("show")&&i){var o=n.getModel("itemStyle.normal"),s=o.getModel("textStyle"),l={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,i,l,s),this._renderContent(n,i,l,o,s),a.positionGroup(r,l.pos,l.box)}},_prepare:function(t,e,i,n){for(var a=e;a;a=a.parentNode){var r=a.getModel().get("name"),o=n.getTextRect(r),s=Math.max(o.width+16,i.emptyItemWidth);i.totalWidth+=s+8,i.renderList.push({node:a,text:r,width:s})}},_renderContent:function(t,e,i,o,l){for(var u=0,c=i.emptyItemWidth,h=t.get("height"),d=a.getAvailableSize(i.pos,i.box),f=i.totalWidth,g=i.renderList,p=g.length-1;p>=0;p--){var m=g[p],v=m.width,y=m.text;f>d.width&&(f-=v-c,v=c,y=""),this.group.add(new n.Polygon({shape:{points:s(u,0,v,h,p===g.length-1,0===p)},style:r.defaults(o.getItemStyle(),{lineJoin:"bevel",text:y,textFill:l.getTextColor(),textFont:l.getFont()}),z:10,onclick:r.bind(this._onSelect,this,m.node)})),u+=v+8}},remove:function(){this.group.removeAll()}},t.exports=o},function(t,e,i){var n=i(3);t.exports={createWrap:function(){var t,e=[],i={};return{add:function(t,a,r,o,s){return n.isString(o)&&(s=o,o=0),!i[t.id]&&(i[t.id]=1,e.push({el:t,target:a,time:r,delay:o,easing:s}),!0)},done:function(e){return t=e,this},start:function(){for(var n=e.length,a=0,r=e.length;a<r;a++){var o=e[a];o.el.animateTo(o.target,o.time,o.delay,o.easing,s)}return this;function s(){--n||(e.length=0,i={},t&&t())}}}}}},function(t,e,i){for(var n=i(1),a=i(182),r=function(){},o=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<o.length;s++)n.registerAction({type:o[s],update:"updateView"},r);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,i){var n=a.retrieveTargetInfo(t,e);if(n){var r=e.getViewRoot();r&&(t.direction=a.aboveViewRoot(r,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}})})},function(t,e,i){var n=i(187),a=i(38),r=i(3),o=r.isArray,s="itemStyle.normal";function l(t,e,i,o,c,d){var f=t.getModel(),g=t.getLayout();if(g&&!g.invisible&&g.isInView){var p,m=t.getModel(s),v=function(t,e,i,n){var a=r.extend({},e);return r.each(["color","colorAlpha","colorSaturation"],function(r){var o=t.get(r,!0);null==o&&i&&(o=i[r]),null==o&&(o=e[r]),null==o&&(o=n.get(r)),null!=o&&(a[r]=o)}),a}(m,e,i[t.depth],o),y=m.get("borderColor"),x=m.get("borderColorSaturation");null!=x&&(y=function(t,e){return null!=e?a.modifyHSL(e,null,null,t):null}(x,p=u(v))),t.setVisual("borderColor",y);var _=t.viewChildren;if(_&&_.length){var b=function(t,e,i,a,r,o){if(o&&o.length){var s=h(e,"color")||null!=r.color&&"none"!==r.color&&(h(e,"colorAlpha")||h(e,"colorSaturation"));if(s){var l=e.get("colorMappingBy"),u={type:s.name,dataExtent:i.dataExtent,visual:s.range};"color"!==u.type||"index"!==l&&"id"!==l?u.mappingMethod="linear":(u.mappingMethod="category",u.loop=!0);var c=new n(u);return c.__drColorMappingBy=l,c}}}(0,f,g,0,v,_);r.each(_,function(t,e){if(t.depth>=c.length||t===c[t.depth]){var n=function(t,e,i,n,a,o){var s=r.extend({},e);if(a){var l=a.type,u="color"===l&&a.__drColorMappingBy,c="index"===u?n:"id"===u?o.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));s[l]=a.mapValueToVisual(c)}return s}(f,v,t,e,b,d);l(t,n,i,o,c,d)}})}else p=u(v),t.setVisual("color",p)}}function u(t){var e=c(t,"color");if(e){var i=c(t,"colorAlpha"),n=c(t,"colorSaturation");return n&&(e=a.modifyHSL(e,null,null,n)),i&&(e=a.modifyAlpha(e,i)),e}}function c(t,e){var i=t[e];if(null!=i&&"none"!==i)return i}function h(t,e){var i=t.get(e);return o(i)&&i.length?{name:e,range:i}:null}t.exports=function(t,e){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(t){var e=t.getData().tree,i=e.root,n=t.getModel(s);i.isRemoved()||l(i,{},r.map(e.levelModels,function(t){return t?t.get(s):null}),n,t.getViewRoot().getAncestors(),t)})}},function(t,e,i){var n=i(3),a=i(38),r=i(7).linearMap,o=n.each,s=n.isObject,l=function(t){var e=t.mappingMethod,i=t.type,a=this.option=n.clone(t);this.type=i,this.mappingMethod=e,this._normalizeData=g[e],this._getSpecifiedVisual=n.bind(p[e],this,i),n.extend(this,u[i]),"piecewise"===e?(c(a),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,n.each(e,function(e,i){e.originIndex=i,null!=e.visual&&(t.hasSpecialVisual=!0)})}(a)):"category"===e?a.categories?function(t){var e=t.categories,i=t.visual,a=t.categoryMap={};if(o(e,function(t,e){a[t]=e}),!n.isArray(i)){var r=[];n.isObject(i)?o(i,function(t,e){var i=a[e];r[null!=i?i:-1]=t}):r[-1]=i,i=t.visual=r}for(var s=e.length-1;s>=0;s--)null==i[s]&&(delete a[e[s]],e.pop())}(a):c(a,!0):(n.assert(a.dataExtent),c(a))};l.prototype={constructor:l,applyVisual:null,isValueActive:null,mapValueToVisual:null,getNormalizer:function(){return n.bind(this._normalizeData,this)}};var u=l.visualHandlers={color:{applyVisual:function(t,e,i){i("color",this.mapValueToVisual(t))},getColorMapper:function(){var t=f(this)?this.option.visual:n.map(this.option.visual,a.parse);return n.bind(f(this)?function(e,i){return!i&&(e=this._normalizeData(e)),d(this,t,e)}:function(e,i,r){var o=!!r;return!i&&(e=this._normalizeData(e)),r=a.fastMapToColor(e,t,r),o?r:n.stringify(r,"rgba")},this)},mapValueToVisual:function(t){var e=this.option.visual,i=this._normalizeData(t),n=this._getSpecifiedVisual(t);return null==n&&(n=f(this)?d(this,e,i):a.mapToColor(i,e)),n}},colorHue:h(function(t,e){return a.modifyHSL(t,e)}),colorSaturation:h(function(t,e){return a.modifyHSL(t,null,e)}),colorLightness:h(function(t,e){return a.modifyHSL(t,null,null,e)}),colorAlpha:h(function(t,e){return a.modifyAlpha(t,e)}),opacity:{applyVisual:function(t,e,i){i("opacity",this.mapValueToVisual(t))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=f(this)?d(this,n,e):r(e,[0,1],n,!0)),i}},symbol:{applyVisual:function(t,e,i){var a=this.mapValueToVisual(t);if(n.isString(a))i("symbol",a);else if(s(a))for(var r in a)a.hasOwnProperty(r)&&i(r,a[r])},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=f(this)?d(this,n,e):function(t,e){return t[Math.round(r(e,[0,1],[0,t.length-1],!0))]}(n,e)||{}),i}},symbolSize:{applyVisual:function(t,e,i){i("symbolSize",this.mapValueToVisual(t))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=f(this)?d(this,n,e):r(e,[0,1],n,!0)),i}}};function c(t,e){var i=t.visual,a=[];n.isObject(i)?o(i,function(t){a.push(t)}):null!=i&&a.push(i),e||1!==a.length||t.type in{color:1,symbol:1}||(a[1]=a[0]),t.visual=a}function h(t){return{applyVisual:function(e,i,n){e=this.mapValueToVisual(e),n("color",t(i("color"),e))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=f(this)?d(this,n,e):r(e,[0,1],n,!0)),i}}}function d(t,e,i){return e[t.option.loop&&-1!==i?i%e.length:i]}function f(t){return"category"===t.option.mappingMethod}var g={linear:function(t){return r(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=l.findPieceIndex(t,e);if(null!=i)return r(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?-1:e}},p={linear:n.noop,piecewise:function(t,e){var i=this.option,n=i.pieceList;if(i.hasSpecialVisual){var a=n[l.findPieceIndex(e,n)];if(a&&a.visual)return a.visual[t]}},category:n.noop};l.addVisualHandler=function(t,e){u[t]=e},l.isValidType=function(t){return u.hasOwnProperty(t)},l.eachVisual=function(t,e,i){n.isObject(t)?n.each(t,e,i):e.call(i,t)},l.mapVisual=function(t,e,i){var a,r=n.isArray(t)?[]:n.isObject(t)?{}:(a=!0,null);return l.eachVisual(t,function(t,n){var o=e.call(i,t,n);a?r=o:r[n]=o}),r},l.retrieveVisuals=function(t){var e,i={};return t&&o(u,function(n,a){t.hasOwnProperty(a)&&(i[a]=t[a],e=!0)}),e?i:null},l.prepareVisualTypes=function(t){if(s(t)){var e=[];o(t,function(t,i){e.push(i)}),t=e}else{if(!n.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},l.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},l.findPieceIndex=function(t,e){for(var i=0,n=e.length;i<n;i++)if(null!=(a=e[i]).value&&a.value===t)return i;for(i=0,n=e.length;i<n;i++){var a,r=(a=e[i]).interval;if(r)if(r[0]===-1/0){if(t<r[1])return i}else if(r[1]===1/0){if(r[0]<t)return i}else if(a.interval[0]<=t&&t<=a.interval[1])return i}},t.exports=l},function(t,e,i){var n=i(3),a=i(7),r=i(21),o=i(182),s=i(15),l=(o=i(182),Math.max),u=Math.min,c=a.parsePercent,h=n.retrieve,d=n.each;function f(t,e,i,a){var r,o;if(!t.isRemoved()){var s=t.getLayout();r=s.width,o=s.height;var c=t.getModel("itemStyle.normal"),h=c.get("borderWidth"),m=c.get("gapWidth")/2,v=h-m,y=t.getModel();t.setLayout({borderWidth:h},!0);var x=(r=l(r-2*v,0))*(o=l(o-2*v,0)),_=function(t,e,i,a,r,o){var s=t.children||[],l=a.sort;"asc"!==l&&"desc"!==l&&(l=null);var u=null!=a.leafDepth&&a.leafDepth<=o;if(r&&!u)return t.viewChildren=[];!function(t,e){e&&t.sort(function(t,i){return"asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue()})}(s=n.filter(s,function(t){return!t.isRemoved()}),l);var c=function(t,e,i){for(var n=0,a=0,r=e.length;a<r;a++)n+=e[a].getValue();var o=t.get("visualDimension");if(e&&e.length)if("value"===o&&i)s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&s.reverse();else{var s=[1/0,-1/0];d(e,function(t){var e=t.getValue(o);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)})}else s=[NaN,NaN];return{sum:n,dataExtent:s}}(e,s,l);if(0===c.sum)return t.viewChildren=[];if(c.sum=function(t,e,i,n,a){if(!n)return i;for(var r=t.get("visibleMin"),o=a.length,s=o,l=o-1;l>=0;l--){var u=a["asc"===n?o-l-1:l].getValue();u/i*e<r&&(s=l,i-=u)}return a.splice("asc"===n?0:s,o-s),i}(e,i,c.sum,l,s),0===c.sum)return t.viewChildren=[];for(var h=0,f=s.length;h<f;h++){var g=s[h].getValue()/c.sum*i;s[h].setLayout({area:g})}return u&&(s.length&&t.setLayout({isLeafRoot:!0},!0),s.length=0),t.viewChildren=s,t.setLayout({dataExtent:c.dataExtent},!0),s}(t,y,x,e,i,a);if(_.length){var b={x:v,y:v,width:r,height:o},w=u(r,o),M=1/0,S=[];S.area=0;for(var A=0,I=_.length;A<I;){var T=_[A];S.push(T),S.area+=T.getLayout().area;var C=g(S,w,e.squareRatio);C<=M?(A++,M=C):(S.area-=S.pop().getLayout().area,p(S,w,b,m,!1),w=u(b.width,b.height),S.length=S.area=0,M=1/0)}if(S.length&&p(S,w,b,m,!0),!i){var k=y.get("childrenVisibleMin");null!=k&&x<k&&(i=!0)}for(A=0,I=_.length;A<I;A++)f(_[A],e,i,a+1)}}}function g(t,e,i){for(var n,a=0,r=1/0,o=0,s=t.length;o<s;o++)(n=t[o].getLayout().area)&&(n<r&&(r=n),n>a&&(a=n));var u=t.area*t.area,c=e*e*i;return u?l(c*a/u,u/(c*r)):1/0}function p(t,e,i,n,a){var r=e===i.width?0:1,o=1-r,s=["x","y"],c=["width","height"],h=i[s[r]],d=e?t.area/e:0;(a||d>i[c[o]])&&(d=i[c[o]]);for(var f=0,g=t.length;f<g;f++){var p=t[f],m={},v=d?p.getLayout().area/d:0,y=m[c[o]]=l(d-2*n,0),x=i[s[r]]+i[c[r]]-h,_=f===g-1||x<v?x:v,b=m[c[r]]=l(_-2*n,0);m[s[o]]=i[s[o]]+u(n,y/2),m[s[r]]=h+u(n,b/2),h+=_,p.setLayout(m,!0)}i[s[o]]+=d,i[c[o]]-=d}function m(t,e,i,n,a){var r=t.getLayout(),o=i[a],l=o&&o===t;if(!(o&&!l||a===i.length&&t!==n)){t.setLayout({isInView:!0,invisible:!l&&!e.intersect(r),isAboveViewRoot:l},!0);var u=new s(e.x-r.x,e.y-r.y,e.width,e.height);d(t.viewChildren||[],function(t){m(t,u,i,n,a+1)})}}t.exports=function(t,e,i){t.eachComponent({mainType:"series",subType:"treemap",query:i},function(t){var l=e.getWidth(),u=e.getHeight(),g=t.option,p=g.size||[],v=c(h(g.width,p[0]),l),y=c(h(g.height,p[1]),u),x=r.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),_=i&&i.type,b=o.retrieveTargetInfo(i,t),w="treemapRender"===_||"treemapMove"===_?i.rootRect:null,M=t.getViewRoot(),S=o.getPathToRoot(M);if("treemapMove"!==_){var A="treemapZoomToNode"===_?function(t,e,i,n,r){var o,s=(e||{}).node,l=[n,r];if(!s||s===i)return l;for(var u=n*r,c=u*t.option.zoomToNodeRatio;o=s.parentNode;){for(var h=0,d=o.children,f=0,g=d.length;f<g;f++)h+=d[f].getValue();var p=s.getValue();if(0===p)return l;c*=h/p;var m=o.getModel("itemStyle.normal").get("borderWidth");isFinite(m)&&(c+=4*m*m+4*m*Math.pow(c,.5)),c>a.MAX_SAFE_INTEGER&&(c=a.MAX_SAFE_INTEGER),s=o}c<u&&(c=u);var v=Math.pow(c/u,.5);return[n*v,r*v]}(t,b,M,v,y):w?[w.width,w.height]:[v,y],I=g.sort;I&&"asc"!==I&&"desc"!==I&&(I="desc");var T={squareRatio:g.squareRatio,sort:I,leafDepth:g.leafDepth};M.hostTree.clearLayouts(),M.setLayout({x:0,y:0,width:A[0],height:A[1],area:A[0]*A[1]}),f(M,T,!1,0);var C=M.getLayout();d(S,function(t,e){var i=(S[e+1]||M).getValue();t.setLayout(n.extend({dataExtent:[i,i],borderWidth:0},C))})}var k=t.getData().tree.root;k.setLayout(function(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var a=i.node,r=a.getLayout();if(!r)return n;for(var o=[r.width/2,r.height/2],s=a;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}(x,w,b),!0),t.setLayoutInfo(x),m(k,new s(-x.x,-x.y,l,u),S,M,0)})}},function(t,e,i){var n=i(1),a=i(3);i(190),i(193),i(198),n.registerProcessor("filter",i(199)),n.registerVisualCoding("chart",a.curry(i(104),"graph","circle",null)),n.registerVisualCoding("chart",i(200)),n.registerVisualCoding("chart",i(201)),n.registerLayout(i(202)),n.registerLayout(i(205)),n.registerLayout(i(207)),n.registerCoordinateSystem("graphView",{create:i(209)})},function(t,e,i){"use strict";var n=i(95),a=i(3),r=i(5),o=i(8),s=i(191),l=i(1).extendSeriesModel({type:"series.graph",init:function(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){l.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){l.superApply(this,"mergeDefaultAndTheme",arguments),r.defaultEmphasis(t.edgeLabel,r.LABEL_OPTIONS)},getInitialData:function(t,e){var i=t.edges||t.links||[],n=t.data||t.nodes||[],a=this;if(n&&i)return s(n,i,this,!0,function(t,e){t.wrapMethod("getItemModel",function(t){var e=a._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var i=a.getModel("edgeLabel"),n=function(t,e){var a=(t||"").split(".");"label"===a[0]&&(e=e||i.getModel(a.slice(1)));var r=o.prototype.getModel.call(this,a,e);return r.getModel=n,r};e.wrapMethod("getItemModel",function(t){return t.getModel=n,t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,i){if("edge"===i){var n=this.getData(),a=this.getDataParams(t,i),r=n.graph.getEdgeByIndex(t),o=n.getName(r.node1.dataIndex),s=n.getName(r.node2.dataIndex),u=o+" > "+s;return a.value&&(u+=" : "+a.value),u}return l.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=a.map(this.option.categories||[],function(t){return null!=t.value?t:a.extend({value:0},t)}),e=new n(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,color:["#61a0a8","#d14a61","#fd9c35","#675bba","#fec42c","#dd4444","#fd9c35","#cd4870"],coordinateSystem:"view",xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,legendHoverLink:!0,hoverAnimation:!0,layout:null,force:{initLayout:null,repulsion:50,gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});t.exports=l},function(t,e,i){var n=i(95),a=i(192),r=i(180),o=i(97),s=i(25),l=i(3),u=i(94);t.exports=function(t,e,i,c,h){for(var d=new a(c),f=0;f<t.length;f++)d.addNode(l.retrieve(t[f].id,t[f].name,f),f);var g=[],p=[];for(f=0;f<e.length;f++){var m=e[f],v=m.source,y=m.target;d.addEdge(v,y,f)&&(p.push(m),g.push(l.retrieve(m.id,v+" > "+y)))}var x,_=i.get("coordinateSystem");if("cartesian2d"===_||"polar"===_)x=u(t,i,i.ecModel);else{var b=s.get(_),w=o((b&&"view"!==b.type&&b.dimensions||[]).concat(["value"]),t);(x=new n(w,i)).initData(t)}var M=new n(["value"],i);return M.initData(p,g),h&&h(x,M),r({mainData:x,struct:d,structAttr:"graph",datas:{node:x,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}},function(t,e,i){"use strict";var n=i(3),a=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}},r=a.prototype;function o(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=null==e?-1:e}function s(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}r.type="graph",r.isDirected=function(){return this._directed},r.addNode=function(t,e){var i=this._nodesMap;if(!i[t=t||""+e]){var n=new o(t,e);return n.hostGraph=this,this.nodes.push(n),i[t]=n,n}},r.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.getNodeById=function(t){return this._nodesMap[t]},r.addEdge=function(t,e,i){var n=this._nodesMap,a=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof o||(t=n[t]),e instanceof o||(e=n[e]),t&&e){var r=t.id+"-"+e.id;if(!a[r]){var l=new s(t,e,i);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),a[r]=l,l}}},r.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.getEdge=function(t,e){t instanceof o&&(t=t.id),e instanceof o&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},r.eachNode=function(t,e){for(var i=this.nodes,n=i.length,a=0;a<n;a++)i[a].dataIndex>=0&&t.call(e,i[a],a)},r.eachEdge=function(t,e){for(var i=this.edges,n=i.length,a=0;a<n;a++)i[a].dataIndex>=0&&i[a].node1.dataIndex>=0&&i[a].node2.dataIndex>=0&&t.call(e,i[a],a)},r.breadthFirstTraverse=function(t,e,i,n){if(e instanceof o||(e=this._nodesMap[e]),e){for(var a="out"===i?"outEdges":"in"===i?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!t.call(n,e,null))for(var s=[e];s.length;){var l=s.shift(),u=l[a];for(r=0;r<u.length;r++){var c=u[r],h=c.node1===l?c.node2:c.node1;if(!h.__visited){if(t.call(h,h,l))return;s.push(h),h.__visited=!0}}}}},r.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,a=0,r=i.length;a<r;a++)i[a].dataIndex=-1;for(a=0,r=t.count();a<r;a++)i[t.getRawIndex(a)].dataIndex=a;for(e.filterSelf(function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0}),a=0,r=n.length;a<r;a++)n[a].dataIndex=-1;for(a=0,r=e.count();a<r;a++)n[e.getRawIndex(a)].dataIndex=a},r.clone=function(){for(var t=new a(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(n=0;n<i.length;n++){var r=i[n];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},o.prototype={constructor:o,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},s.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var l=function(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};n.mixin(o,l("hostGraph","data")),n.mixin(s,l("hostGraph","edgeData")),a.Node=o,a.Edge=s,t.exports=a},function(t,e,i){var n=i(99),a=i(194),r=i(169),o=i(42),s=i(197);i(1).extendChartView({type:"graph",init:function(t,e){var i=new n,o=new a,s=this.group,l=new r(e.getZr(),s);s.add(i.group),s.add(o.group),this._symbolDraw=i,this._lineDraw=o,this._controller=l,this._firstRender=!0},render:function(t,e,i){var n=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var a=this._symbolDraw,r=this._lineDraw,l=this.group;if("view"===n.type){var u={position:n.position,scale:n.scale};this._firstRender?l.attr(u):o.updateProps(l,u,t)}s(t.getGraph(),this._getNodeGlobalScale(t));var c=t.getData();a.updateData(c);var h=t.getEdgeData();r.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,i),clearTimeout(this._layoutTimeout);var d=t.forceLayout,f=t.get("force.layoutAnimation");d&&this._startForceLayoutIteration(d,f),c.eachItemGraphicEl(function(t,e){var i=c.getItemModel(e).get("draggable");i?t.on("drag",function(){d&&(d.warmUp(),!this._layouting&&this._startForceLayoutIteration(d,f),d.setFixed(e),c.setItemLayout(e,t.position))},this).on("dragend",function(){d&&d.setUnfixed(e)},this):t.off("drag"),t.setDraggable(i&&d)},this),this._firstRender=!1},_startForceLayoutIteration:function(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(t,e){var i=this._controller,n=this.group;i.rectProvider=function(){var t=n.getBoundingRect();return t.applyTransform(n.transform),t},"view"===t.coordinateSystem.type?(i.enable(t.get("roam")),i.zoomLimit=t.get("scaleLimit"),i.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(i,n){e.dispatchAction({seriesId:t.id,type:"graphRoam",dx:i,dy:n})}).on("zoom",function(i,n,a){e.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:i,originX:n,originY:a}),this._updateNodeAndLinkScale(),s(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this)):i.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr("scale",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=this._nodeScaleRatio,n=this.group.scale,a=n&&n[0]||1;return((e.getZoom()-1)*i+1)/a},updateLayout:function(t){this._symbolDraw.updateLayout(),this._lineDraw.updateLayout(),s(t.getGraph(),this._getNodeGlobalScale(t))},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(t,e,i){var n=i(42),a=i(195);function r(t){return isNaN(t[0])||isNaN(t[1])}function o(t){return!r(t[0])&&!r(t[1])}function s(t){this._ctor=t||a,this.group=new n.Group}var l=s.prototype;l.updateData=function(t){var e=this._lineData,i=this.group,n=this._ctor;t.diff(e).add(function(e){if(o(t.getItemLayout(e))){var a=new n(t,e);t.setItemGraphicEl(e,a),i.add(a)}}).update(function(a,r){var s=e.getItemGraphicEl(r);o(t.getItemLayout(a))?(s?s.updateData(t,a):s=new n(t,a),t.setItemGraphicEl(a,s),i.add(s)):i.remove(s)}).remove(function(t){i.remove(e.getItemGraphicEl(t))}).execute(),this._lineData=t},l.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},l.remove=function(){this.group.removeAll()},t.exports=s},function(t,e,i){var n=i(101),a=i(16),r=i(196),o=i(42),s=i(3),l=i(7),u=["fromSymbol","toSymbol"];function c(t){return"_"+t+"Type"}function h(t,e,i){var a=e.getItemVisual(i,"color"),r=e.getItemVisual(i,t),o=e.getItemVisual(i,t+"Size");if(r&&"none"!==r){s.isArray(o)||(o=[o,o]);var l=n.createSymbol(r,-o[0]/2,-o[1]/2,o[0],o[1],a);return l.name=t,l}}function d(t,e){var i=e[0],n=e[1],a=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,a&&(t.cpx1=a[0],t.cpy1=a[1])}function f(t,e){o.Group.call(this),this._createLine(t,e)}var g=f.prototype;g.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),n=t.childOfName("label");if(e||i||!n.ignore){for(var r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;var s=t.childOfName("line");if(this.__dirty||s.__dirty){var l=s.shape.percent,u=s.pointAt(0),c=s.pointAt(l),h=a.sub([],c,u);if(a.normalize(h,h),e){e.attr("position",u);var d=s.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(d[1],d[0])),e.attr("scale",[r*l,r*l])}if(i&&(i.attr("position",c),d=s.tangentAt(1),i.attr("rotation",-Math.PI/2-Math.atan2(d[1],d[0])),i.attr("scale",[r*l,r*l])),!n.ignore){var f,g,p;n.attr("position",c);var m=5*r;if("end"===n.__position)f=[h[0]*m+c[0],h[1]*m+c[1]],g=h[0]>.8?"left":h[0]<-.8?"right":"center",p=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if("middle"===n.__position){var v=l/2,y=[(d=s.tangentAt(v))[1],-d[0]],x=s.pointAt(v);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]),f=[x[0]+y[0]*m,x[1]+y[1]*m],g="center",p="bottom";var _=-Math.atan2(d[1],d[0]);c[0]<u[0]&&(_=Math.PI+_),n.attr("rotation",_)}else f=[-h[0]*m+u[0],-h[1]*m+u[1]],g=h[0]>.8?"right":h[0]<-.8?"left":"center",p=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";n.attr({style:{textVerticalAlign:n.__verticalAlign||p,textAlign:n.__textAlign||g},position:f,scale:[r,r]})}}}},g._createLine=function(t,e){var i=t.hostModel,n=function(t){var e=new r({name:"line"});return d(e.shape,t),e}(t.getItemLayout(e));n.shape.percent=0,o.initProps(n,{shape:{percent:1}},i,e),this.add(n);var a=new o.Text({name:"label"});this.add(a),s.each(u,function(i){var n=h(i,t,e);this.add(n),this[c(i)]=t.getItemVisual(e,i)},this),this._updateCommonStl(t,e)},g.updateData=function(t,e){var i=t.hostModel,n=this.childOfName("line"),a=t.getItemLayout(e),r={shape:{}};d(r.shape,a),o.updateProps(n,r,i,e),s.each(u,function(i){var n=t.getItemVisual(e,i),a=c(i);if(this[a]!==n){var r=h(i,t,e);this.remove(this.childOfName(i)),this.add(r)}this[a]=n},this),this._updateCommonStl(t,e)},g._updateCommonStl=function(t,e){var i=t.hostModel,n=this.childOfName("line"),a=t.getItemModel(e),r=a.getModel("label.normal"),u=r.getModel("textStyle"),c=a.getModel("label.emphasis"),h=c.getModel("textStyle"),d=l.round(i.getRawValue(e));isNaN(d)&&(d=t.getName(e)),n.useStyle(s.extend({strokeNoScale:!0,fill:"none",stroke:t.getItemVisual(e,"color")},a.getModel("lineStyle.normal").getLineStyle())),n.hoverStyle=a.getModel("lineStyle.emphasis").getLineStyle();var f=t.getItemVisual(e,"color")||"#000",g=this.childOfName("label");g.setStyle({text:r.get("show")?s.retrieve(i.getFormattedLabel(e,"normal",t.dataType),d):"",textFont:u.getFont(),fill:u.getTextColor()||f}),g.hoverStyle={text:c.get("show")?s.retrieve(i.getFormattedLabel(e,"emphasis",t.dataType),d):"",textFont:h.getFont(),fill:h.getTextColor()||f},g.__textAlign=u.get("align"),g.__verticalAlign=u.get("baseline"),g.__position=r.get("position"),g.ignore=!g.style.text&&!g.hoverStyle.text,o.setHoverStyle(this)},g.updateLayout=function(t,e){var i=t.getItemLayout(e),n=this.childOfName("line");d(n.shape,i),n.dirty(!0)},g.setLinePoints=function(t){var e=this.childOfName("line");d(e.shape,t),e.dirty()},s.inherits(f,o.Group),t.exports=f},function(t,e,i){var n=i(42),a=i(16),r=n.Line.prototype,o=n.BezierCurve.prototype;function s(t){return null==t.cpx1||null==t.cpy1}t.exports=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(s(e)?r:o).buildPath(t,e)},pointAt:function(t){return s(this.shape)?r.pointAt.call(this,t):o.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,i=s(e)?[e.x2-e.x1,e.y2-e.y1]:o.tangentAt.call(this,t);return a.normalize(i,i)}})},function(t,e,i){var n=i(49),a=i(16),r=[],o=[],s=[],l=n.quadraticAt,u=a.distSquare,c=Math.abs;function h(t,e,i){for(var n,a=t[0],h=t[1],d=t[2],f=1/0,g=i*i,p=.1,m=.1;m<=.9;m+=.1)r[0]=l(a[0],h[0],d[0],m),r[1]=l(a[1],h[1],d[1],m),(x=c(u(r,e)-g))<f&&(f=x,n=m);for(var v=0;v<32;v++){var y=n+p;o[0]=l(a[0],h[0],d[0],n),o[1]=l(a[1],h[1],d[1],n),s[0]=l(a[0],h[0],d[0],y),s[1]=l(a[1],h[1],d[1],y);var x=u(o,e)-g;if(c(x)<.01)break;var _=u(s,e)-g;p/=2,x<0?_>=0?n+=p:n-=p:_>=0?n-=p:n+=p}return n}t.exports=function(t,e){var i=[],r=n.quadraticSubdivide,o=[[],[],[]],s=[[],[]],l=[];e/=2,t.eachEdge(function(t){var n=t.getLayout(),u=t.getVisual("fromSymbol"),c=t.getVisual("toSymbol");n.__original||(n.__original=[a.clone(n[0]),a.clone(n[1])],n[2]&&n.__original.push(a.clone(n[2])));var d=n.__original;if(null!=n[2]){if(a.copy(o[0],d[0]),a.copy(o[1],d[2]),a.copy(o[2],d[1]),u&&"none"!=u){var f=h(o,d[0],t.node1.getVisual("symbolSize")*e);r(o[0][0],o[1][0],o[2][0],f,i),o[0][0]=i[3],o[1][0]=i[4],r(o[0][1],o[1][1],o[2][1],f,i),o[0][1]=i[3],o[1][1]=i[4]}c&&"none"!=c&&(f=h(o,d[1],t.node2.getVisual("symbolSize")*e),r(o[0][0],o[1][0],o[2][0],f,i),o[1][0]=i[1],o[2][0]=i[2],r(o[0][1],o[1][1],o[2][1],f,i),o[1][1]=i[1],o[2][1]=i[2]),a.copy(n[0],o[0]),a.copy(n[1],o[2]),a.copy(n[2],o[1])}else a.copy(s[0],d[0]),a.copy(s[1],d[1]),a.sub(l,s[1],s[0]),a.normalize(l,l),u&&"none"!=u&&a.scaleAndAdd(s[0],s[0],l,t.node1.getVisual("symbolSize")*e),c&&"none"!=c&&a.scaleAndAdd(s[1],s[1],l,-t.node2.getVisual("symbolSize")*e),a.copy(n[0],s[0]),a.copy(n[1],s[1])})}},function(t,e,i){var n=i(1),a=i(172);n.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var i=a.updateCenterAndZoom(e.coordinateSystem,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)})})},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),n=t.getGraph().data,a=i.mapArray(i.getName);n.filterSelf(function(t){var i=n.getItemModel(t).getShallow("category");if(null!=i){"number"==typeof i&&(i=a[i]);for(var r=0;r<e.length;r++)if(!e[r].isSelected(i))return!1}return!0})},this)}},function(t,e){t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.get("color"),i=t.getCategoriesData(),n=t.getData(),a={};i.each(function(t){a[i.getName(t)]=t;var n=i.getItemModel(t),r=i.getRawIndex(t),o=n.get("itemStyle.normal.color")||e[r%e.length];i.setItemVisual(t,"color",o)}),i.count()&&n.each(function(t){var e=n.getItemModel(t).getShallow("category");null!=e&&("string"==typeof e&&(e=a[e]),n.getItemVisual(t,"color",!0)||n.setItemVisual(t,"color",i.getItemVisual(e,"color")))})})}},function(t,e){function i(t){return t instanceof Array||(t=[t,t]),t}t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.getEdgeData(),n=i(t.get("edgeSymbol")),a=i(t.get("edgeSymbolSize"));e.setVisual("fromSymbol",n&&n[0]),e.setVisual("toSymbol",n&&n[1]),e.setVisual("fromSymbolSize",a&&a[0]),e.setVisual("toSymbolSize",a&&a[1]),e.setVisual("color",t.get("lineStyle.normal.color")),e.each(function(t){var n=e.getItemModel(t),a=i(n.getShallow("symbol",!0)),r=i(n.getShallow("symbolSize",!0));a[0]&&e.setItemVisual(t,"fromSymbol",a[0]),a[1]&&e.setItemVisual(t,"toSymbol",a[1]),r[0]&&e.setItemVisual(t,"fromSymbolSize",r[0]),r[1]&&e.setItemVisual(t,"toSymbolSize",r[1])})})}},function(t,e,i){var n=i(203),a=i(204);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var r=t.getData();r.each(i.dimensions,function(t,e,n){isNaN(t)||isNaN(e)?r.setItemLayout(n,[NaN,NaN]):r.setItemLayout(n,i.dataToPoint([t,e]))}),a(r.graph)}else e&&"none"!==e||n(t)})}},function(t,e,i){var n=i(204);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),n(i)}}},function(t,e,i){var n=i(16);t.exports=function(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.normal.curveness")||0,i=n.clone(t.node1.getLayout()),a=n.clone(t.node2.getLayout()),r=[i,a];e>0&&r.push([(i[0]+a[0])/2-(i[1]-a[1])*e,(i[1]+a[1])/2-(a[0]-i[0])*e]),t.setLayout(r)})}},function(t,e,i){var n=i(206);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&n(t)})}},function(t,e,i){var n=i(16);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),a=t.getData(),r=a.graph,o=0,s=a.getSum("value"),l=2*Math.PI/(s||a.count()),u=i.width/2+i.x,c=i.height/2+i.y,h=Math.min(i.width,i.height)/2;r.eachNode(function(t){var e=t.getValue("value");o+=l*(s?e:2)/2,t.setLayout([h*Math.cos(o)+u,h*Math.sin(o)+c]),o+=l*(s?e:2)/2}),r.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.normal.curveness")||0,a=n.clone(t.node1.getLayout()),r=n.clone(t.node2.getLayout());i>0&&(e=[u*(i*=3)+(a[0]+r[0])/2*(1-i),c*i+(a[1]+r[1])/2*(1-i)]),t.setLayout([a,r,e])})}}},function(t,e,i){var n=i(208),a=i(7),r=i(203),o=i(206),s=i(16);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){if(!(d=t.coordinateSystem)||"view"===d.type)if("force"===t.get("layout")){var e=t.preservedPoints||{},i=t.getGraph(),l=i.data,u=i.edgeData,c=t.getModel("force"),h=c.get("initLayout");t.preservedPoints?l.each(function(t){var i=l.getId(t);l.setItemLayout(t,e[i]||[NaN,NaN])}):h&&"none"!==h?"circular"===h&&o(t):r(t);var d,f=l.getDataExtent("value"),g=c.get("repulsion"),p=c.get("edgeLength"),m=l.mapArray("value",function(t,e){var i=l.getItemLayout(e),n=a.linearMap(t,f,[0,g])||g/2;return{w:n,rep:n,p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),v=u.mapArray("value",function(t,e){var n=i.getEdgeByIndex(e);return{n1:m[n.node1.dataIndex],n2:m[n.node2.dataIndex],d:p,curveness:n.getModel().get("lineStyle.normal.curveness")||0}}),y=(d=t.coordinateSystem).getBoundingRect(),x=n(m,v,{rect:y,gravity:c.get("gravity")}),_=x.step;x.step=function(t){for(var n=0,a=m.length;n<a;n++)m[n].fixed&&s.copy(m[n].p,i.getNodeByIndex(n).getLayout());_(function(n,a,r){for(var o=0,s=n.length;o<s;o++)n[o].fixed||i.getNodeByIndex(o).setLayout(n[o].p),e[l.getId(o)]=n[o].p;for(o=0,s=a.length;o<s;o++){var u=a[o],c=u.n1.p,h=u.n2.p,d=[c,h];u.curveness>0&&d.push([(c[0]+h[0])/2-(c[1]-h[1])*u.curveness,(c[1]+h[1])/2-(h[0]-c[0])*u.curveness]),i.getEdgeByIndex(o).setLayout(d)}t&&t(r)})},t.forceLayout=x,t.preservedPoints=e,x.step()}else t.forceLayout=null})}},function(t,e,i){var n=i(16),a=n.scaleAndAdd;t.exports=function(t,e,i){for(var r=i.rect,o=r.width,s=r.height,l=[r.x+o/2,r.y+s/2],u=null==i.gravity?.1:i.gravity,c=0;c<t.length;c++){var h=t[c];h.p||(h.p=n.create(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=n.clone(h.p),h.edges=null}var d=.6;return{warmUp:function(){d=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var r=[],o=t.length,s=0;s<e.length;s++){var c=e[s];n.sub(r,(m=c.n2).p,(g=c.n1).p);var h=n.len(r)-c.d,f=m.w/(g.w+m.w);n.normalize(r,r),!g.fixed&&a(g.p,g.p,r,f*h*d),!m.fixed&&a(m.p,m.p,r,-(1-f)*h*d)}for(s=0;s<o;s++)(x=t[s]).fixed||(n.sub(r,l,x.p),n.scaleAndAdd(x.p,x.p,r,u*d));for(s=0;s<o;s++)for(var g=t[s],p=s+1;p<o;p++){var m;n.sub(r,(m=t[p]).p,g.p),0===(h=n.len(r))&&(n.set(r,Math.random()-.5,Math.random()-.5),h=1);var v=(g.rep+m.rep)/h/h;!g.fixed&&a(g.pp,g.pp,r,v),!m.fixed&&a(m.pp,m.pp,r,-v)}var y=[];for(s=0;s<o;s++){var x;(x=t[s]).fixed||(n.sub(y,x.p,x.pp),n.scaleAndAdd(x.p,x.p,y,d),n.copy(x.pp,x.p))}d*=.992,i&&i(t,e,d<.01)}}}},function(t,e,i){var n=i(163),a=i(21),r=i(50);t.exports=function(t,e){var i=[];return t.eachSeriesByType("graph",function(t){var o=t.get("coordinateSystem");if(!o||"view"===o){var s=new n;i.push(s);var l=t.getData(),u=l.mapArray(function(t){var e=l.getItemModel(t);return[+e.get("x"),+e.get("y")]}),c=[],h=[];r.fromPoints(u,c,h),h[0]-c[0]==0&&(h[0]+=1,c[0]-=1),h[1]-c[1]==0&&(h[1]+=1,c[1]-=1);var d=(h[0]-c[0])/(h[1]-c[1]),f=function(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()})}(t,e,d);isNaN(d)&&(c=[f.x,f.y],h=[f.x+f.width,f.y+f.height]);var g=h[0]-c[0],p=h[1]-c[1],m=f.width,v=f.height;(s=t.coordinateSystem=new n).zoomLimit=t.get("scaleLimit"),s.setBoundingRect(c[0],c[1],g,p),s.setViewRect(f.x,f.y,m,v),s.setCenter(t.get("center")),s.setZoom(t.get("zoom"))}}),i}},function(t,e,i){i(211),i(212)},function(t,e,i){var n=i(95),a=i(27),r=i(3),o=a.extend({type:"series.gauge",getInitialData:function(t,e){var i=new n(["value"],this),a=t.data||[];return r.isArray(a)||(a=[a]),i.initData(a),i},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});t.exports=o},function(t,e,i){var n=i(213),a=i(42),r=i(7),o=r.parsePercent;function s(t,e){return e&&("string"==typeof e?t=e.replace("{value}",t):"function"==typeof e&&(t=e(t))),t}var l=2*Math.PI,u=i(41).extend({type:"gauge",render:function(t,e,i){this.group.removeAll();var n=t.get("axisLine.lineStyle.color"),a=function(t,e){var i=t.get("center"),n=e.getWidth(),a=e.getHeight(),r=Math.min(n,a);return{cx:o(i[0],e.getWidth()),cy:o(i[1],e.getHeight()),r:o(t.get("radius"),r/2)}}(t,i);this._renderMain(t,e,i,n,a)},_renderMain:function(t,e,i,n,r){for(var o=this.group,s=t.getModel("axisLine").getModel("lineStyle"),u=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,h=((p=-t.get("endAngle")/180*Math.PI)-c)%l,d=c,f=s.get("width"),g=0;g<n.length;g++){var p,m=Math.min(Math.max(n[g][0],0),1),v=new a.Sector({shape:{startAngle:d,endAngle:p=c+h*m,cx:r.cx,cy:r.cy,clockwise:u,r0:r.r-f,r:r.r},silent:!0});v.setStyle({fill:n[g][1]}),v.setStyle(s.getLineStyle(["color","borderWidth","borderColor"])),o.add(v),d=p}var y=function(t){if(t<=0)return n[0][1];for(var e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};if(!u){var x=c;c=p,p=x}this._renderTicks(t,e,i,y,r,c,p,u),this._renderPointer(t,e,i,y,r,c,p,u),this._renderTitle(t,e,i,y,r),this._renderDetail(t,e,i,y,r)},_renderTicks:function(t,e,i,n,l,u,c,h){for(var d=this.group,f=l.cx,g=l.cy,p=l.r,m=t.get("min"),v=t.get("max"),y=t.getModel("splitLine"),x=t.getModel("axisTick"),_=t.getModel("axisLabel"),b=t.get("splitNumber"),w=x.get("splitNumber"),M=o(y.get("length"),p),S=o(x.get("length"),p),A=u,I=(c-u)/b,T=I/w,C=y.getModel("lineStyle").getLineStyle(),k=x.getModel("lineStyle").getLineStyle(),L=_.getModel("textStyle"),D=0;D<=b;D++){var P=Math.cos(A),z=Math.sin(A);if(y.get("show")){var O=new a.Line({shape:{x1:P*p+f,y1:z*p+g,x2:P*(p-M)+f,y2:z*(p-M)+g},style:C,silent:!0});"auto"===C.stroke&&O.setStyle({stroke:n(D/b)}),d.add(O)}if(_.get("show")){var R=s(r.round(D/b*(v-m)+m),_.get("formatter")),E=new a.Text({style:{text:R,x:P*(p-M-5)+f,y:z*(p-M-5)+g,fill:L.getTextColor(),textFont:L.getFont(),textVerticalAlign:z<-.4?"top":z>.4?"bottom":"middle",textAlign:P<-.4?"left":P>.4?"right":"center"},silent:!0});"auto"===E.style.fill&&E.setStyle({fill:n(D/b)}),d.add(E)}if(x.get("show")&&D!==b){for(var V=0;V<=w;V++){P=Math.cos(A),z=Math.sin(A);var N=new a.Line({shape:{x1:P*p+f,y1:z*p+g,x2:P*(p-S)+f,y2:z*(p-S)+g},silent:!0,style:k});"auto"===k.stroke&&N.setStyle({stroke:n((D+V/w)/b)}),d.add(N),A+=T}A-=T}else A+=I}},_renderPointer:function(t,e,i,s,l,u,c,h){var d=[+t.get("min"),+t.get("max")],f=[u,c];h||(f=f.reverse());var g=t.getData(),p=this._data,m=this.group;g.diff(p).add(function(e){var i=new n({shape:{angle:u}});a.updateProps(i,{shape:{angle:r.linearMap(g.get("value",e),d,f,!0)}},t),m.add(i),g.setItemGraphicEl(e,i)}).update(function(e,i){var n=p.getItemGraphicEl(i);a.updateProps(n,{shape:{angle:r.linearMap(g.get("value",e),d,f,!0)}},t),m.add(n),g.setItemGraphicEl(e,n)}).remove(function(t){var e=p.getItemGraphicEl(t);m.remove(e)}).execute(),g.eachItemGraphicEl(function(t,e){var i=g.getItemModel(e),n=i.getModel("pointer");t.setShape({x:l.cx,y:l.cy,width:o(n.get("width"),l.r),r:o(n.get("length"),l.r)}),t.useStyle(i.getModel("itemStyle.normal").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",s((g.get("value",e)-d[0])/(d[1]-d[0]))),a.setHoverStyle(t,i.getModel("itemStyle.emphasis").getItemStyle())}),this._data=g},_renderTitle:function(t,e,i,n,r){var s=t.getModel("title");if(s.get("show")){var l=s.getModel("textStyle"),u=s.get("offsetCenter"),c=r.cx+o(u[0],r.r),h=r.cy+o(u[1],r.r),d=new a.Text({style:{x:c,y:h,text:t.getData().getName(0),fill:l.getTextColor(),textFont:l.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(d)}},_renderDetail:function(t,e,i,n,l){var u=t.getModel("detail"),c=t.get("min"),h=t.get("max");if(u.get("show")){var d=u.getModel("textStyle"),f=u.get("offsetCenter"),g=l.cx+o(f[0],l.r),p=l.cy+o(f[1],l.r),m=o(u.get("width"),l.r),v=o(u.get("height"),l.r),y=t.getData().get("value",0),x=new a.Rect({shape:{x:g-m/2,y:p-v/2,width:m,height:v},style:{text:s(y,u.get("formatter")),fill:u.get("backgroundColor"),textFill:d.getTextColor(),textFont:d.getFont()}});"auto"===x.style.textFill&&x.setStyle("textFill",n(r.linearMap(y,[c,h],[0,1],!0))),x.setStyle(u.getItemStyle(["color"])),this.group.add(x)}}});t.exports=u},function(t,e,i){t.exports=i(44).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,a=e.r,r=e.width,o=e.angle,s=e.x-i(o)*r*(r>=a/3?1:2),l=e.y-n(o)*r*(r>=a/3?1:2);o=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(o)*r,e.y+n(o)*r),t.lineTo(e.x+i(e.angle)*a,e.y+n(e.angle)*a),t.lineTo(e.x-i(o)*r,e.y-n(o)*r),t.lineTo(s,l)}})},function(t,e,i){var n=i(3),a=i(1);i(215),i(216),a.registerVisualCoding("chart",n.curry(i(138),"funnel")),a.registerLayout(i(217)),a.registerProcessor("filter",n.curry(i(141),"funnel"))},function(t,e,i){"use strict";var n=i(95),a=i(5),r=i(97),o=i(1).extendSeriesModel({type:"series.funnel",init:function(t){o.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this._defaultLabelLine(t)},getInitialData:function(t,e){var i=r(["value"],t.data),a=new n(i,this);return a.initData(t.data),a},_defaultLabelLine:function(t){a.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});t.exports=o},function(t,e,i){var n=i(42),a=i(3);function r(t,e){n.Group.call(this);var i=new n.Polygon,a=new n.Polyline,r=new n.Text;function o(){a.ignore=a.hoverIgnore,r.ignore=r.hoverIgnore}function s(){a.ignore=a.normalIgnore,r.ignore=r.normalIgnore}this.add(i),this.add(a),this.add(r),this.updateData(t,e,!0),this.on("emphasis",o).on("normal",s).on("mouseover",o).on("mouseout",s)}var o=r.prototype;function s(t,e,i,n){var r=n.getModel("textStyle"),o=n.get("position"),s="inside"===o||"inner"===o||"center"===o;return{fill:r.getTextColor()||(s?"#fff":t.getItemVisual(e,"color")),textFont:r.getFont(),text:a.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))}}var l=["itemStyle","normal","opacity"];o.updateData=function(t,e,i){var r=this.childAt(0),o=t.hostModel,s=t.getItemModel(e),u=t.getItemLayout(e),c=t.getItemModel(e).get(l);c=null==c?1:c,r.useStyle({}),i?(r.setShape({points:u.points}),r.setStyle({opacity:0}),n.initProps(r,{style:{opacity:c}},o,e)):n.updateProps(r,{style:{opacity:c},shape:{points:u.points}},o,e);var h=s.getModel("itemStyle"),d=t.getItemVisual(e,"color");r.setStyle(a.defaults({fill:d},h.getModel("normal").getItemStyle(["opacity"]))),r.hoverStyle=h.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),n.setHoverStyle(this)},o._updateLabel=function(t,e){var i=this.childAt(1),a=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),l=t.getItemLayout(e).label,u=t.getItemVisual(e,"color");n.updateProps(i,{shape:{points:l.linePoints||l.linePoints}},r,e),n.updateProps(a,{style:{x:l.x,y:l.y}},r,e),a.attr({style:{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,textFont:l.font},rotation:l.rotation,origin:[l.x,l.y],z2:10});var c=o.getModel("label.normal"),h=o.getModel("label.emphasis"),d=o.getModel("labelLine.normal"),f=o.getModel("labelLine.emphasis");a.setStyle(s(t,e,"normal",c)),a.ignore=a.normalIgnore=!c.get("show"),a.hoverIgnore=!h.get("show"),i.ignore=i.normalIgnore=!d.get("show"),i.hoverIgnore=!f.get("show"),i.setStyle({stroke:u}),i.setStyle(d.getModel("lineStyle").getLineStyle()),a.hoverStyle=s(t,e,"emphasis",h),i.hoverStyle=f.getModel("lineStyle").getLineStyle()},a.inherits(r,n.Group);var u=i(41).extend({type:"funnel",render:function(t,e,i){var n=t.getData(),a=this._data,o=this.group;n.diff(a).add(function(t){var e=new r(n,t);n.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){var i=a.getItemGraphicEl(e);i.updateData(n,t),o.add(i),n.setItemGraphicEl(t,i)}).remove(function(t){var e=a.getItemGraphicEl(t);o.remove(e)}).execute(),this._data=n},remove:function(){this.group.removeAll(),this._data=null}});t.exports=u},function(t,e,i){var n=i(21),a=i(7),r=a.parsePercent;t.exports=function(t,e){t.eachSeriesByType("funnel",function(t){var i=t.getData(),o=t.get("sort"),s=function(t,e){return n.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),l=function(t,e){for(var i=t.mapArray("value",function(t){return t}),n=[],a="ascending"===e,r=0,o=t.count();r<o;r++)n[r]=r;return n.sort(function(t,e){return a?i[t]-i[e]:i[e]-i[t]}),n}(i,o),u=[r(t.get("minSize"),s.width),r(t.get("maxSize"),s.width)],c=i.getDataExtent("value"),h=t.get("min"),d=t.get("max");null==h&&(h=Math.min(c[0],0)),null==d&&(d=c[1]);var f=t.get("funnelAlign"),g=t.get("gap"),p=(s.height-g*(i.count()-1))/i.count(),m=s.y,v=function(t,e){var n,r=i.get("value",t)||0,o=a.linearMap(r,[h,d],u,!0);switch(f){case"left":n=s.x;break;case"center":n=s.x+(s.width-o)/2;break;case"right":n=s.x+s.width-o}return[[n,e],[n+o,e]]};"ascending"===o&&(p=-p,g=-g,m+=s.height,l=l.reverse());for(var y=0;y<l.length;y++){var x=l[y],_=l[y+1],b=v(x,m),w=v(_,m+p);m+=p+g,i.setItemLayout(x,{points:b.concat(w.slice().reverse())})}!function(t){t.each(function(e){var i,n,a,r,o=t.getItemModel(e),s=o.getModel("label.normal").get("position"),l=o.getModel("labelLine.normal"),u=t.getItemLayout(e),c=u.points,h="inner"===s||"inside"===s||"center"===s;if(h)i="center",r=[[n=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,a=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4],[n,a]];else{var d,f,g,p=l.get("length");"left"===s?(f=(c[3][1]+c[0][1])/2,n=(g=(d=(c[3][0]+c[0][0])/2)-p)-5,i="right"):(f=(c[1][1]+c[2][1])/2,n=(g=(d=(c[1][0]+c[2][0])/2)+p)+5,i="left"),r=[[d,f],[g,f]],a=f}u.label={linePoints:r,x:n,y:a,verticalAlign:"middle",textAlign:i,inside:h}})}(i)})}},function(t,e,i){var n=i(1);i(219),i(230),i(231),n.registerVisualCoding("chart",i(232))},function(t,e,i){i(220),i(223),i(225);var n=i(1);n.extendComponentView({type:"parallel"}),n.registerPreprocessor(i(229))},function(t,e,i){var n=i(221);i(25).register("parallel",{create:function(t,e){var i=[];return t.eachComponent("parallel",function(a,r){var o=new n(a,t,e);o.name="parallel_"+r,o.resize(a,e),a.coordinateSystem=o,o.model=a,i.push(o)}),t.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var e=t.get("parallelIndex");t.coordinateSystem=i[e]}}),i}})},function(t,e,i){var n=i(21),a=i(109),r=i(3),o=i(222),s=i(17),l=i(16),u=r.each,c=Math.PI;function h(t,e,i){this._axesMap={},this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,i)}h.prototype={type:"parallel",constructor:h,_init:function(t,e,i){var n=t.parallelAxisIndex;u(t.dimensions,function(t,i){var r=n[i],s=e.getComponent("parallelAxis",r),l=this._axesMap[t]=new o(t,a.createScaleByModel(s),[0,0],s.get("type"),r);l.onBand="category"===l.type&&s.get("boundaryGap"),l.inverse=s.get("inverse"),s.axis=l,l.model=s},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},_updateAxesFromSeries:function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var n=i.getData();u(this.dimensions,function(t){var e=this._axesMap[t];e.scale.unionExtent(n.getDataExtent(t)),a.niceScaleExtent(e,e.model)},this)}},this)},resize:function(t,e){this._rect=n.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes(t)},getRect:function(){return this._rect},_layoutAxes:function(t){var e=this._rect,i=t.get("layout"),n=this.dimensions,a=[e.width,e.height],r="horizontal"===i?0:1,o=a[r],l=a[1-r],h=[0,l];u(this._axesMap,function(t){var e=t.inverse?1:0;t.setExtent(h[e],h[1-e])}),u(n,function(t,a){var r=o*a/(n.length-1),u={horizontal:{x:r,y:l},vertical:{x:0,y:r}},h=[u[i].x+e.x,u[i].y+e.y],d={horizontal:c/2,vertical:0}[i],f=s.create();s.rotate(f,f,d),s.translate(f,f,h),this._axesLayout[t]={position:h,rotation:d,transform:f,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap[t]},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap[e].dataToCoord(t),e)},eachActiveState:function(t,e,i){for(var n=this.dimensions,a=this._axesMap,r=!1,o=0,s=n.length;o<s;o++)"normal"!==a[n[o]].model.getActiveState()&&(r=!0);for(var l=0,u=t.count();l<u;l++){var c,h=t.getValues(n,l);if(r){for(c="active",o=0,s=n.length;o<s;o++)if("inactive"===a[n[o]].model.getActiveState(h[o],o)){c="inactive";break}}else c="normal";e.call(i,c,l)}},axisCoordToPoint:function(t,e){var i=[t,0];return l.applyTransform(i,i,this._axesLayout[e].transform),i},getAxisLayout:function(t){return r.clone(this._axesLayout[t])}},t.exports=h},function(t,e,i){var n=i(3),a=i(118),r=function(t,e,i,n,r){a.call(this,t,e,i),this.type=n||"value",this.axisIndex=r};r.prototype={constructor:r,model:null},n.inherits(r,a),t.exports=r},function(t,e,i){var n=i(3),a=i(19);i(224),a.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",parallelAxisDefault:null},init:function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){t&&n.merge(this.option,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=n.filter(this.dependentModels.parallelAxis,function(t){return t.get("parallelIndex")===this.componentIndex});n.each(i,function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex)})}})},function(t,e,i){var n=i(19),a=i(3),r=i(11),o=i(122),s=i(7),l=n.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=a.clone(t);if(e)for(var i=e.length-1;i>=0;i--)s.asc(e[i])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t)return"inactive";for(var i=0,n=e.length;i<n;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}});a.merge(l.prototype,i(124)),o("parallel",l,function(t,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,parallelIndex:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},z:10}),t.exports=l},function(t,e,i){i(220),i(226),i(227)},function(t,e,i){i(1).registerAction({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})})},function(t,e,i){var n=i(3),a=i(127),r=i(228),o=["axisLine","axisLabel","axisTick","axisName"],s=i(1).extendComponentView({type:"parallelAxis",_selectController:null,render:function(t,e,i,r){if(!function(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}(t,e,r)&&(this.axisModel=t,this.api=i,this.group.removeAll(),t.get("show"))){var s=e.getComponent("parallel",t.get("parallelIndex")).coordinateSystem,l=t.getAreaSelectStyle(),u=l.width,c=s.getAxisLayout(t.axis.dim),h=n.extend({strokeContainThreshold:u,axisLineSilent:!(u>0)},c),d=new a(t,h);n.each(o,d.add,d);var f=d.getGroup();this.group.add(f),this._buildSelectController(f,l,t,i)}},_buildSelectController:function(t,e,i,a){var o=i.axis,s=this._selectController;s||(s=this._selectController=new r("line",a.getZr(),e)).on("selected",n.bind(this._onSelected,this)),s.enable(t);var l=n.map(i.activeIntervals,function(t){return[o.dataToCoord(t[0],!0),o.dataToCoord(t[1],!0)]});s.update(l)},_onSelected:function(t){var e=this.axisModel,i=e.axis,a=n.map(t,function(t){return[i.coordToData(t[0],!0),i.coordToData(t[1],!0)]});this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:e.id,intervals:a})},remove:function(){this._selectController&&this._selectController.disable()},dispose:function(){this._selectController&&(this._selectController.dispose(),this._selectController=null)}});t.exports=s},function(t,e,i){var n=i(32),a=i(3),r=i(42),o=a.bind,s=a.each,l=Math.min,u=Math.max,c=Math.pow,h=["mousedown","mousemove","mouseup"];function d(t,e,i){n.call(this),this.type=t,this.zr=e,this.opt=a.clone(i),this.group=new r.Group,this._containerRect=null,this._track=[],this._disabled=!0,this._handlers={mousedown:o(p,this),mousemove:o(m,this),mouseup:o(v,this)},s(h,function(t){this.zr.on(t,this._handlers[t])},this)}function f(t,e){var i=this.group.transformCoordToLocal(t,e);return!this._containerRect||this._containerRect.contain(i[0],i[1])}function g(t){var e=t.event;e.preventDefault&&e.preventDefault()}function p(t){if(!(this._disabled||t.target&&t.target.draggable)){g(t);var e=t.offsetX,i=t.offsetY;f.call(this,e,i)&&(this._dragging=!0,this._track=[[e,i]])}}function m(t){this._dragging&&!this._disabled&&(g(t),y.call(this,t))}function v(t){this._dragging&&!this._disabled&&(g(t),y.call(this,t,!0),this._dragging=!1,this._track=[])}function y(t,e){var i=t.offsetX,n=t.offsetY;if(f.call(this,i,n)){this._track.push([i,n]);var r=x.call(this)?A[this.type].getRanges.call(this):[];_.call(this,r),this.trigger("selected",a.clone(r)),e&&this.trigger("selectEnd",a.clone(r))}}function x(){var t=this._track;if(!t.length)return!1;var e=t[t.length-1],i=t[0],n=e[0]-i[0],a=e[1]-i[1];return c(n*n+a*a,.5)>2}function _(t){var e=A[this.type];t&&t.length?(this._cover||(this._cover=e.create.call(this),this.group.add(this._cover)),e.update.call(this,t)):(this.group.remove(this._cover),this._cover=null),this.group.traverse(function(t){t.z=1e4})}function b(){var t=this.group,e=t.parent;e&&e.remove(t)}function w(){var t=this.opt;return new r.Rect({style:{stroke:t.stroke,fill:t.fill,lineWidth:t.lineWidth,opacity:t.opacity}})}function M(){return a.map(this._track,function(t){return this.group.transformCoordToLocal(t[0],t[1])},this)}function S(){var t=M.call(this),e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}d.prototype={constructor:d,enable:function(t,e){this._disabled=!1,b.call(this),this._containerRect=!1!==e?e||t.getBoundingRect():null,t.add(this.group)},update:function(t){_.call(this,t&&a.clone(t))},disable:function(){this._disabled=!0,b.call(this)},dispose:function(){this.disable(),s(h,function(t){this.zr.off(t,this._handlers[t])},this)}},a.mixin(d,n);var A={line:{create:w,getRanges:function(){var t=S.call(this);return[[l(t[0][0],t[1][0]),u(t[0][0],t[1][0])]]},update:function(t){var e=t[0],i=this.opt.width;this._cover.setShape({x:e[0],y:-i/2,width:e[1]-e[0],height:i})}},rect:{create:w,getRanges:function(){var t=S.call(this),e=[l(t[1][0],t[0][0]),l(t[1][1],t[0][1])],i=[u(t[1][0],t[0][0]),u(t[1][1],t[0][1])];return[[[e[0],i[0]],[e[1],i[1]]]]},update:function(t){var e=t[0];this._cover.setShape({x:e[0][0],y:e[1][0],width:e[0][1]-e[0][0],height:e[1][1]-e[1][0]})}}};t.exports=d},function(t,e,i){var n=i(3),a=i(5);t.exports=function(t){!function(t){if(!t.parallel){var e=!1;n.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}(t),function(t){var e=a.normalizeToArray(t.parallelAxis);n.each(e,function(e){if(n.isObject(e)){var i=e.parallelIndex||0,r=a.normalizeToArray(t.parallel)[i];r&&r.parallelAxisDefault&&n.merge(e,r.parallelAxisDefault,!1)}})}(t)}},function(t,e,i){var n=i(95),a=i(3),r=i(27);t.exports=r.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(t,e){var i=e.getComponent("parallel",this.get("parallelIndex")),r=i.parallelAxisIndex,o=t.data,s=a.map(i.dimensions,function(t,i){var n=e.getComponent("parallelAxis",r[i]);return"category"===n.get("type")?(function(t,e,i){var n=t.get("data"),r=+e.replace("dim","");n&&n.length&&a.each(i,function(t){if(t){var e=a.indexOf(n,t[r]);t[r]=e>=0?e:NaN}})}(n,t,o),{name:t,type:"ordinal"}):t}),l=new n(s,this);return l.initData(o),l},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,function(e,a){t===e&&n.push(i.getRawIndex(a))}),n},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:2,opacity:.45,type:"solid"}},animationEasing:"linear"}})},function(t,e,i){var n=i(42),a=i(3),r=i(41).extend({type:"parallel",init:function(){this._dataGroup=new n.Group,this.group.add(this._dataGroup)},render:function(t,e,i,r){var l=this._dataGroup,u=t.getData(),c=this._data,h=t.coordinateSystem,d=h.dimensions;u.diff(c).add(function(t){var e=u.getValues(d,t),i=new n.Group;l.add(i),o(e,d,h,function(t,e){t&&i.add(s(t))}),u.setItemGraphicEl(t,i)}).update(function(e,i){var a=u.getValues(d,e),r=c.getItemGraphicEl(i),l=[],f=0;o(a,d,h,function(i,a){var o=r.childAt(f++);i&&!o?l.push(s(i)):i&&n.updateProps(o,{shape:{points:i}},t,e)});for(var g=r.childCount()-1;g>=f;g--)r.remove(r.childAt(g));g=0;for(var p=l.length;g<p;g++)r.add(l[g]);u.setItemGraphicEl(e,r)}).remove(function(t){var e=c.getItemGraphicEl(t);l.remove(e)}).execute(),u.eachItemGraphicEl(function(t,e){var i=u.getItemModel(e).getModel("lineStyle.normal");t.eachChild(function(t){t.useStyle(a.extend(i.getLineStyle(),{fill:null,stroke:u.getItemVisual(e,"color"),opacity:u.getItemVisual(e,"opacity")}))})}),this._data||l.setClipPath(function(t,e,i){var a=t.model,r=t.getRect(),o=new n.Rect({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),s="horizontal"===a.get("layout")?"width":"height";return o.setShape(s,0),n.initProps(o,{shape:{width:r.width,height:r.height}},e,function(){l.removeClipPath()}),o}(h,t)),this._data=u},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function o(t,e,i,n){for(var a=0,r=e.length-1;a<r;a++){var o=e[a],s=e[a+1],u=t[a],c=t[a+1];n(l(u,i.getAxis(o).type)||l(c,i.getAxis(s).type)?null:[i.dataToPoint(u,o),i.dataToPoint(c,s)],a)}}function s(t){return new n.Polyline({shape:{points:t},silent:!0})}function l(t,e){return"category"===e?null==t:null==t||isNaN(t)}t.exports=r},function(t,e){t.exports=function(t,e){t.eachSeriesByType("parallel",function(e){var i=e.getModel("itemStyle.normal"),n=t.get("color"),a=i.get("color")||n[e.seriesIndex%n.length],r=e.get("inactiveOpacity"),o=e.get("activeOpacity"),s=e.getModel("lineStyle.normal").getLineStyle(),l=e.coordinateSystem,u=e.getData(),c={normal:s.opacity,active:o,inactive:r};l.eachActiveState(u,function(t,e){u.setItemVisual(e,"opacity",c[t])}),u.setVisual("color",a)})}},function(t,e,i){var n=i(1);i(234),i(235),n.registerLayout(i(236)),n.registerVisualCoding("chart",i(238))},function(t,e,i){"use strict";var n=i(27),a=i(191),r=n.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t,e){var i=t.edges||t.links,n=t.data||t.nodes;if(n&&i)return a(n,i,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,i){if("edge"===i){var n=this.getDataParams(t,i),a=n.data,o=a.source+" -- "+a.target;return n.value&&(o+=" : "+n.value),o}return r.superCall(this,"formatTooltip",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});t.exports=r},function(t,e,i){var n=i(42),a=i(3),r=n.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var i=e.extent/2;t.moveTo(e.x1,e.y1-i),t.bezierCurveTo(e.cpx1,e.cpy1-i,e.cpx2,e.cpy2-i,e.x2,e.y2-i),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i),t.closePath()}});t.exports=i(1).extendChartView({type:"sankey",_model:null,render:function(t,e,i){var o=t.getGraph(),s=this.group,l=t.layoutInfo,u=t.getData(),c=t.getData("edge");this._model=t,s.removeAll(),s.position=[l.x,l.y],o.eachNode(function(e){var i=e.getLayout(),r=e.getModel(),o=r.getModel("label.normal"),l=o.getModel("textStyle"),c=r.getModel("label.emphasis"),h=c.getModel("textStyle"),d=new n.Rect({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:{text:o.get("show")?t.getFormattedLabel(e.dataIndex,"normal")||e.id:"",textFont:l.getFont(),textFill:l.getTextColor(),textPosition:o.get("position")}});d.setStyle(a.defaults({fill:e.getVisual("color")},r.getModel("itemStyle.normal").getItemStyle())),n.setHoverStyle(d,a.extend(e.getModel("itemStyle.emphasis"),{text:c.get("show")?t.getFormattedLabel(e.dataIndex,"emphasis")||e.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:c.get("position")})),s.add(d),u.setItemGraphicEl(e.dataIndex,d),d.dataType="node"}),o.eachEdge(function(e){var i=new r;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var a=e.getModel("lineStyle.normal"),o=a.get("curveness"),l=e.node1.getLayout(),u=e.node2.getLayout(),h=e.getLayout();i.shape.extent=Math.max(1,h.dy);var d=l.x+l.dx,f=l.y+h.sy+h.dy/2,g=u.x,p=u.y+h.ty+h.dy/2;i.setShape({x1:d,y1:f,x2:g,y2:p,cpx1:d*(1-o)+g*o,cpy1:f,cpx2:d*o+g*(1-o),cpy2:p}),i.setStyle(a.getItemStyle()),n.setHoverStyle(i,e.getModel("lineStyle.emphasis").getItemStyle()),s.add(i),c.setItemGraphicEl(e.dataIndex,i)}),!this._data&&t.get("animation")&&s.setClipPath(function(t,e,i){var a=new n.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return n.initProps(a,{shape:{width:t.width+20,height:t.height+20}},e,function(){s.removeClipPath()}),a}(s.getBoundingRect(),t)),this._data=t.getData()}})},function(t,e,i){var n=i(21),a=i(237),r=i(3);function o(t,e,i){r.each(t,function(t){var n,a,r,o=0,s=t.length;for(t.sort(p),r=0;r<s;r++){if((a=o-(n=t[r]).getLayout().y)>0){var l=n.getLayout().y+a;n.setLayout({y:l},!0)}o=n.getLayout().y+n.getLayout().dy+e}if((a=o-e-i)>0)for(l=n.getLayout().y-a,n.setLayout({y:l},!0),o=n.getLayout().y,r=s-2;r>=0;--r)(a=(n=t[r]).getLayout().y+n.getLayout().dy+e-o)>0&&(l=n.getLayout().y-a,n.setLayout({y:l},!0)),o=n.getLayout().y})}function s(t,e){r.each(t.slice().reverse(),function(t){r.each(t,function(t){if(t.outEdges.length){var i=f(t.outEdges,l)/f(t.outEdges,v),n=t.getLayout().y+(i-g(t))*e;t.setLayout({y:n},!0)}})})}function l(t){return g(t.node2)*t.getValue()}function u(t,e){r.each(t,function(t){r.each(t,function(t){if(t.inEdges.length){var i=f(t.inEdges,c)/f(t.inEdges,v),n=t.getLayout().y+(i-g(t))*e;t.setLayout({y:n},!0)}})})}function c(t){return g(t.node1)*t.getValue()}function h(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function d(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function f(t,e){var i,n=0,a=t.length,r=-1;if(1===arguments.length)for(;++r<a;)i=+t[r],isNaN(i)||(n+=i);else for(;++r<a;)i=+e.call(t,t[r],r),isNaN(i)||(n+=i);return n}function g(t){return t.getLayout().y+t.getLayout().dy/2}function p(t,e){return t.getLayout().y-e.getLayout().y}function m(t,e){return t<e?-1:t>e?1:t==e?0:NaN}function v(t){return t.getValue()}t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),l=t.get("nodeGap"),c=function(t,e){return n.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=c;var g=c.width,p=c.height,y=t.getGraph(),x=y.nodes,_=y.edges;!function(t){r.each(t,function(t){var e=f(t.outEdges,v),i=f(t.inEdges,v),n=Math.max(e,i);t.setLayout({value:n},!0)})}(x);var b=x.filter(function(t){return 0===t.getLayout().value});!function(t,e,i,n,l,c,f){(function(t,e,i){for(var n=t,a=null,o=0;n.length;){a=[];for(var s=0,l=n.length;s<l;s++){var u=n[s];u.setLayout({x:o},!0),u.setLayout({dx:e},!0);for(var c=0,h=u.outEdges.length;c<h;c++)a.push(u.outEdges[c].node2)}n=a,++o}(function(t,e){r.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})})(t,o),function(t,e){r.each(t,function(t){var i=t.getLayout().x*e;t.setLayout({x:i},!0)})}(t,(i-e)/(o-1))})(t,i,l),function(t,e,i,n,l){var c=a().key(function(t){return t.getLayout().x}).sortKeys(m).entries(t).map(function(t){return t.values});(function(t,e,i,n,a){var o=[];r.each(e,function(t){var e=t.length,i=0;r.each(t,function(t){i+=t.getLayout().value}),o.push((n-(e-1)*a)/i)}),o.sort(function(t,e){return t-e});var s=o[0];r.each(e,function(t){r.each(t,function(t,e){t.setLayout({y:e},!0);var i=t.getLayout().value*s;t.setLayout({dy:i},!0)})}),r.each(i,function(t){var e=+t.getValue()*s;t.setLayout({dy:e},!0)})})(0,c,e,i,n),o(c,n,i);for(var h=1;l>0;l--)s(c,h*=.99),o(c,n,i),u(c,h),o(c,n,i)}(t,e,c,n,f),function(t){r.each(t,function(t){t.outEdges.sort(h),t.inEdges.sort(d)}),r.each(t,function(t){var e=0,i=0;r.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),r.each(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}(t)}(x,_,i,l,g,p,0!==b.length?0:t.get("layoutIterations"))})}},function(t,e,i){var n=i(3);t.exports=function(){var t=[],e=[];function i(e,a){if(a>=t.length)return e;for(var r=-1,o=e.length,s=t[a++],l={},u={};++r<o;){var c=s(e[r]),h=u[c];h?h.push(e[r]):u[c]=[e[r]]}return n.each(u,function(t,e){l[e]=i(t,a)}),l}function a(i,r){if(r>=t.length)return i;var o=[],s=e[r++];return n.each(i,function(t,e){o.push({key:e,values:a(t,r)})}),s?o.sort(function(t,e){return s(t.key,e.key)}):o}return{key:function(e){return t.push(e),this},sortKeys:function(i){return e[t.length-1]=i,this},entries:function(t){return a(i(t,0),0)}}}},function(t,e,i){var n=i(187);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;e.sort(function(t,e){return t.getLayout().value-e.getLayout().value});var i=e[0].getLayout().value,a=e[e.length-1].getLayout().value;e.forEach(function(e){var r=new n({type:"color",mappingMethod:"linear",dataExtent:[i,a],visual:t.get("color")}).mapValueToVisual(e.getLayout().value);e.setVisual("color",r);var o=e.getModel().get("itemStyle.normal.color");null!=o&&e.setVisual("color",o)})})}},function(t,e,i){var n=i(1);i(240),i(243),n.registerVisualCoding("chart",i(244)),n.registerLayout(i(245))},function(t,e,i){"use strict";var n=i(3),a=i(27),r=i(241),o=a.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});n.mixin(o,r.seriesModelMixin,!0),t.exports=o},function(t,e,i){"use strict";var n=i(95),a=i(97),r=i(242),o=i(3);t.exports={seriesModelMixin:{_baseAxisDim:null,getInitialData:function(t,e){var i,r,o=e.getComponent("xAxis",this.get("xAxisIndex")),s=e.getComponent("yAxis",this.get("yAxisIndex")),l=o.get("type"),u=s.get("type");"category"===l?(t.layout="horizontal",i=o.getCategories(),r=!0):"category"===u?(t.layout="vertical",i=s.getCategories(),r=!0):t.layout=t.layout||"horizontal",this._baseAxisDim="horizontal"===t.layout?"x":"y";var c=t.data,h=this.dimensions=["base"].concat(this.valueDimensions);a(h,c);var d=new n(h,this);return d.initData(c,i?i.slice():null,function(t,e,i,n){var a,o=null==(a=t).value?a:a.value;return r?"base"===e?i:o[n-1]:o[n]}),d},coordDimToDataDim:function(t){var e=this.valueDimensions.slice(),i=["base"];return{horizontal:{x:i,y:e},vertical:{x:e,y:i}}[this.get("layout")][t]},dataDimToCoordDim:function(t){var e;return o.each(["x","y"],function(i,n){var a=this.coordDimToDataDim(i);o.indexOf(a,t)>=0&&(e=i)},this),e},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}},viewMixin:{init:function(){var t=this._whiskerBoxDraw=new r(this.getStyleUpdater());this.group.add(t.group)},render:function(t,e,i){this._whiskerBoxDraw.updateData(t.getData())},remove:function(t){this._whiskerBoxDraw.remove()}}}},function(t,e,i){var n=i(3),a=i(42),r=i(44).extend({type:"whiskerInBox",shape:{},buildPath:function(t,e){for(var i in e)if(0===i.indexOf("ends")){var n=e[i];t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1])}}});function o(t,e,i,n){a.Group.call(this),this.styleUpdater=i,this._createContent(t,e,n),this.updateData(t,e,n)}var s=o.prototype;function l(t,e,i){return n.map(t,function(t){return(t=t.slice())[e]=i.initBaseline,t})}function u(t){var e={};return n.each(t,function(t,i){e["ends"+i]=t}),e}function c(t){this.group=new a.Group,this.styleUpdater=t}s._createContent=function(t,e,i){var o=t.getItemLayout(e),s="horizontal"===o.chartLayout?1:0,c=0;this.add(new a.Polygon({shape:{points:i?l(o.bodyEnds,s,o):o.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=c++;var h=n.map(o.whiskerEnds,function(t){return i?l(t,s,o):t});this.add(new r({shape:u(h),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=c++},s.updateData=function(t,e,i){var n=this._seriesModel=t.hostModel,r=t.getItemLayout(e),o=a[i?"initProps":"updateProps"];o(this.childAt(this.bodyIndex),{shape:{points:r.bodyEnds}},n,e),o(this.childAt(this.whiskerIndex),{shape:u(r.whiskerEnds)},n,e),this.styleUpdater.call(null,this,t,e)},n.inherits(o,a.Group);var h=c.prototype;h.updateData=function(t){var e=this.group,i=this._data,n=this.styleUpdater;t.diff(i).add(function(i){if(t.hasValue(i)){var a=new o(t,i,n,!0);t.setItemGraphicEl(i,a),e.add(a)}}).update(function(a,r){var s=i.getItemGraphicEl(r);t.hasValue(a)?(s?s.updateData(t,a):s=new o(t,a,n),e.add(s),t.setItemGraphicEl(a,s)):e.remove(s)}).remove(function(t){var n=i.getItemGraphicEl(t);n&&e.remove(n)}).execute(),this._data=t},h.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(e){e&&t.remove(e)})},t.exports=c},function(t,e,i){"use strict";var n=i(3),a=i(41),r=i(42),o=i(241),s=a.extend({type:"boxplot",getStyleUpdater:function(){return c}});n.mixin(s,o.viewMixin,!0);var l=["itemStyle","normal"],u=["itemStyle","emphasis"];function c(t,e,i){var n=e.getItemModel(i),a=n.getModel(l),o=e.getItemVisual(i,"color"),s=a.getItemStyle(["borderColor"]),c=t.childAt(t.whiskerIndex);c.style.set(s),c.style.stroke=o,c.dirty();var h=t.childAt(t.bodyIndex);h.style.set(s),h.style.stroke=o,h.dirty();var d=n.getModel(u).getItemStyle();r.setHoverStyle(t,d)}t.exports=s},function(t,e){var i=["itemStyle","normal","borderColor"];t.exports=function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var a=n[e.seriesIndex%n.length],r=e.getData();r.setVisual({legendSymbol:"roundRect",color:e.get(i)||a}),t.isSeriesFiltered(e)||r.each(function(t){var e=r.getItemModel(t);r.setItemVisual(t,{color:e.get(i,!0)})})})}},function(t,e,i){var n=i(3),a=i(7).parsePercent,r=n.each;t.exports=function(t,e){var i=function(t){var e=[],i=[];return t.eachSeriesByType("boxplot",function(t){var a=t.getBaseAxis(),r=n.indexOf(i,a);r<0&&(i[r=i.length]=a,e[r]={axis:a,seriesModels:[]}),e[r].seriesModels.push(t)}),e}(t);r(i,function(t){var e=t.seriesModels;e.length&&(function(t){var e,i,o=t.axis,s=t.seriesModels,l=s.length,u=t.boxWidthList=[],c=t.boxOffsetList=[],h=[];if("category"===o.type)i=o.getBandWidth();else{var d=0;r(s,function(t){d=Math.max(d,t.getData().count())}),e=o.getExtent(),Math.abs(e[1]-e[0])}r(s,function(t){var e=t.get("boxWidth");n.isArray(e)||(e=[e,e]),h.push([a(e[0],i)||0,a(e[1],i)||0])});var f=.8*i-2,g=f/l*.3,p=(f-g*(l-1))/l,m=p/2-f/2;r(s,function(t,e){c.push(m),m+=g+p,u.push(Math.min(Math.max(p,h[e][0]),h[e][1]))})}(t),r(e,function(e,i){!function(t,e,i){var n=t.coordinateSystem,a=t.getData(),r=t.dimensions,o=t.get("layout"),s=i/2;a.each(r,function(){var t=arguments,i=t[0],l=t[r.length],u="horizontal"===o?0:1,c=1-u,h=m(t[3]),d=m(t[1]),f=m(t[5]),g=[[d,m(t[2])],[f,m(t[4])]];y(d),y(f),y(h);var p=[];function m(t){var a,r=[];return r[u]=i,r[c]=t,isNaN(i)||isNaN(t)?a=[NaN,NaN]:(a=n.dataToPoint(r))[u]+=e,a}function v(t,e){var i=t.slice(),n=t.slice();i[u]+=s,n[u]-=s,e?p.push(i,n):p.push(n,i)}function y(t){var e=[t.slice(),t.slice()];e[0][u]-=s,e[1][u]+=s,g.push(e)}v(g[0][1],0),v(g[1][1],1),a.setItemLayout(l,{chartLayout:o,initBaseline:h[c],median:h,bodyEnds:p,whiskerEnds:g})})}(e,t.boxOffsetList[i],t.boxWidthList[i])}))})}},function(t,e,i){var n=i(1);i(247),i(248),n.registerPreprocessor(i(249)),n.registerVisualCoding("chart",i(250)),n.registerLayout(i(251))},function(t,e,i){"use strict";var n=i(3),a=i(27),r=i(241),o=i(6),s=o.encodeHTML,l=o.addCommas,u=a.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(t,e){var i=n.map(this.valueDimensions,function(e){return e+": "+l(this._data.get(e,t))},this);return s(this.name)+"<br />"+i.join("<br />")}});n.mixin(u,r.seriesModelMixin,!0),t.exports=u},function(t,e,i){"use strict";var n=i(3),a=i(41),r=i(42),o=i(241),s=a.extend({type:"candlestick",getStyleUpdater:function(){return c}});n.mixin(s,o.viewMixin,!0);var l=["itemStyle","normal"],u=["itemStyle","emphasis"];function c(t,e,i){var n=e.getItemModel(i),a=n.getModel(l),o=e.getItemVisual(i,"color"),s=e.getItemVisual(i,"borderColor"),c=a.getItemStyle(["color","color0","borderColor","borderColor0"]),h=t.childAt(t.whiskerIndex);h.useStyle(c),h.style.stroke=s;var d=t.childAt(t.bodyIndex);d.useStyle(c),d.style.fill=o,d.style.stroke=s;var f=n.getModel(u).getItemStyle();r.setHoverStyle(t,f)}t.exports=s},function(t,e,i){var n=i(3);t.exports=function(t){t&&n.isArray(t.series)&&n.each(t.series,function(t){n.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}},function(t,e){var i=["itemStyle","normal","borderColor"],n=["itemStyle","normal","borderColor0"],a=["itemStyle","normal","color"],r=["itemStyle","normal","color0"];t.exports=function(t,e){t.eachRawSeriesByType("candlestick",function(e){var o=e.getData();o.setVisual({legendSymbol:"roundRect"}),t.isSeriesFiltered(e)||o.each(function(t){var e=o.getItemModel(t),s=o.getItemLayout(t).sign;o.setItemVisual(t,{color:e.get(s>0?a:r),borderColor:e.get(s>0?i:n)})})})}},function(t,e){t.exports=function(t,e){t.eachSeriesByType("candlestick",function(t){var e=t.coordinateSystem,i=t.getData(),n=t.dimensions,a=t.get("layout"),r=function(t,e){var i,n=t.getBaseAxis(),a="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count());return a/2-2>5?a/2-2:a-5>4?5:Math.max(a-4,2)}(t,i);i.each(n,function(){var t=arguments,o=n.length,s=t[0],l=t[o],u="horizontal"===a?0:1,c=1-u,h=t[1],d=t[2],f=t[3],g=t[4],p=Math.min(h,d),m=Math.max(h,d),v=M(p),y=M(m),x=M(f),_=M(g),b=[[_,y],[x,v]],w=[];function M(t){var i=[];return i[u]=s,i[c]=t,isNaN(s)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function S(t,e){var i=t.slice(),n=t.slice();i[u]+=r/2,n[u]-=r/2,e?w.push(i,n):w.push(n,i)}S(y,0),S(v,1),i.setItemLayout(l,{chartLayout:a,sign:h>d?-1:h<d?1:0,initBaseline:h>d?y[c]:v[c],bodyEnds:w,whiskerEnds:b})},!0)})}},function(t,e,i){var n=i(3),a=i(1);i(253),i(254),a.registerVisualCoding("chart",n.curry(i(104),"effectScatter","circle",null)),a.registerLayout(n.curry(i(105),"effectScatter"))},function(t,e,i){"use strict";var n=i(94),a=i(27);t.exports=a.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return n(t.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10}})},function(t,e,i){var n=i(99),a=i(255);i(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new n(a)},render:function(t,e,i){var n=t.getData(),a=this._symbolDraw;a.updateData(n),this.group.add(a.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)}})},function(t,e,i){var n=i(3),a=i(101),r=i(42),o=i(7),s=i(100),l=r.Group;function u(t,e){l.call(this);var i=new s(t,e),n=new l;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}var c=u.prototype;c.stopEffectAnimation=function(){this.childAt(1).removeAll()},c.startEffectAnimation=function(t,e,i,n,r,o){for(var s=this._symbolType,l=this._color,u=this.childAt(1),c=0;c<3;c++){var h=a.createSymbol(s,-.5,-.5,1,1,l);h.attr({style:{stroke:"stroke"===e?l:null,fill:"fill"===e?l:null,strokeNoScale:!0},z2:99,silent:!0,scale:[1,1],z:r,zlevel:o});var d=-c/3*t+n;h.animate("",!0).when(t,{scale:[i,i]}).delay(d).start(),h.animateStyle(!0).when(t,{opacity:0}).delay(d).start(),u.add(h)}},c.highlight=function(){this.trigger("emphasis")},c.downplay=function(){this.trigger("normal")},c.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var a=this.childAt(1),r=t.getItemModel(e),s=t.getItemVisual(e,"symbol"),l=function(t){return n.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),u=t.getItemVisual(e,"color");a.attr("scale",l),a.traverse(function(t){t.attr({fill:u})});var c=r.getShallow("symbolOffset");if(c){var h=a.position;h[0]=o.parsePercent(c[0],l[0]),h[1]=o.parsePercent(c[1],l[1])}a.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0,this._symbolType=s,this._color=u;var d=i.get("showEffectOn"),f=r.get("rippleEffect.scale"),g=r.get("rippleEffect.brushType"),p=1e3*r.get("rippleEffect.period"),m=e/t.count(),v=r.getShallow("z")||0,y=r.getShallow("zlevel")||0;this.stopEffectAnimation(),"render"===d&&this.startEffectAnimation(p,g,f,m,v,y);var x=this.childAt(0);function _(){x.trigger("emphasis"),"render"!==d&&this.startEffectAnimation(p,g,f,m,v,y)}function b(){x.trigger("normal"),"render"!==d&&this.stopEffectAnimation()}this.on("mouseover",_,this).on("mouseout",b,this).on("emphasis",_,this).on("normal",b,this)},c.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},n.inherits(u,l),t.exports=u},function(t,e,i){i(257),i(258);var n=i(3),a=i(1);a.registerLayout(i(260)),a.registerVisualCoding("chart",n.curry(i(89),"lines","lineStyle"))},function(t,e,i){"use strict";var n=i(27),a=i(95),r=i(3),o=i(25);t.exports=n.extend({type:"series.lines",dependencies:["grid","polar"],getInitialData:function(t,e){var i=[],n=[],s=[];r.each(t.data,function(t){i.push(t[0]),n.push(t[1]),s.push(r.extend(r.extend({},r.isArray(t[0])?null:t[0]),r.isArray(t[1])?null:t[1]))});var l=o.get(t.coordinateSystem);if(!l)throw new Error("Invalid coordinate system");var u=l.dimensions,c=new a(u,this),h=new a(u,this),d=new a(["value"],this);function f(t,e,i,n){return t.coord&&t.coord[n]}return c.initData(i,null,f),h.initData(n,null,f),d.initData(s),this.fromData=c,this.toData=h,d},formatTooltip:function(t){return this.fromData.getName(t)+" > "+this.toData.getName(t)},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,symbol:"circle",symbolSize:3,trailLength:.2},large:!1,largeThreshold:2e3,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(t,e,i){var n=i(194),a=i(259),r=i(195);i(1).extendChartView({type:"lines",init:function(){},render:function(t,e,i){var o=t.getData(),s=this._lineDraw,l=t.get("effect.show");l!==this._hasEffet&&(s&&s.remove(),s=this._lineDraw=new n(l?a:r),this._hasEffet=l);var u=t.get("zlevel"),c=t.get("effect.trailLength"),h=i.getZr();h.painter.getLayer(u).clear(!0),null!=this._lastZlevel&&h.configLayer(this._lastZlevel,{motionBlur:!1}),l&&c&&h.configLayer(u,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(c/10+.9,1),0)}),this.group.add(s.group),s.updateData(o),this._lastZlevel=u},updateLayout:function(t,e,i){this._lineDraw.updateLayout(),i.getZr().painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(e,!0)}})},function(t,e,i){var n=i(42),a=i(195),r=i(3),o=i(101),s=i(49);function l(t,e){n.Group.call(this);var i=new a(t,e);this.add(i),this._updateEffectSymbol(t,e)}var u=l.prototype;function c(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}function h(){var t=this.__p1,e=this.__p2,i=this.__cp1,n=this.__t,a=this.position,r=s.quadraticAt,o=s.quadraticDerivativeAt;a[0]=r(t[0],i[0],e[0],n),a[1]=r(t[1],i[1],e[1],n);var l=o(t[0],i[0],e[0],n),u=o(t[1],i[1],e[1],n);this.rotation=-Math.atan2(u,l)-Math.PI/2,this.ignore=!1}u._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel("effect"),n=i.get("symbolSize"),a=i.get("symbol");r.isArray(n)||(n=[n,n]);var s=i.get("color")||t.getItemVisual(e,"color"),l=this.childAt(1),u=1e3*i.get("period");this._symbolType===a&&u===this._period||((l=o.createSymbol(a,-.5,-.5,1,1,s)).ignore=!0,l.z2=100,this._symbolType=a,this._period=u,this.add(l),l.__t=0,l.animate("",!0).when(u,{__t:1}).delay(e/t.count()*u/2).during(r.bind(h,l)).start()),l.setStyle("shadowColor",s),l.setStyle(i.getItemStyle(["color"])),l.attr("scale",n),c(l,t.getItemLayout(e)),l.setColor(s),l.attr("scale",n)},u.updateData=function(t,e){this.childAt(0).updateData(t,e),this._updateEffectSymbol(t,e)},u.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e),c(this.childAt(1),t.getItemLayout(e))},r.inherits(l,n.Group),t.exports=l},function(t,e){t.exports=function(t){t.eachSeriesByType("lines",function(t){var e=t.coordinateSystem,i=t.fromData,n=t.toData,a=t.getData(),r=e.dimensions;i.each(r,function(t,n,a){i.setItemLayout(a,e.dataToPoint([t,n]))}),n.each(r,function(t,i,a){n.setItemLayout(a,e.dataToPoint([t,i]))}),a.each(function(t){var e,r=i.getItemLayout(t),o=n.getItemLayout(t),s=a.getItemModel(t).get("lineStyle.normal.curveness");s>0&&(e=[(r[0]+o[0])/2-(r[1]-o[1])*s,(r[1]+o[1])/2-(o[0]-r[0])*s]),a.setItemLayout(t,[r,o,e])})})}},function(t,e,i){i(262),i(263)},function(t,e,i){var n=i(27),a=i(94);t.exports=n.extend({type:"series.heatmap",getInitialData:function(t,e){return a(t.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,xAxisIndex:0,yAxisIndex:0,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(t,e,i){var n=i(42),a=i(264),r=i(3);t.exports=i(1).extendChartView({type:"heatmap",render:function(t,e,i){var n;if(e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(i){i===t&&(n=e)})}),!n)throw new Error("Heatmap must use with visualMap");this.group.removeAll();var a=t.coordinateSystem;"cartesian2d"===a.type?this._renderOnCartesian(a,t,i):function(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}(a)&&this._renderOnGeo(a,t,n,i)},_renderOnCartesian:function(t,e,i){var a=t.getAxis("x"),r=t.getAxis("y"),o=this.group;if("category"!==a.type||"category"!==r.type)throw new Error("Heatmap on cartesian must have two category axes");if(!a.onBand||!r.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");var s=a.getBandWidth(),l=r.getBandWidth(),u=e.getData();u.each(["x","y","z"],function(i,a,r,c){var h=u.getItemModel(c),d=t.dataToPoint([i,a]);if(!isNaN(r)){var f=new n.Rect({shape:{x:d[0]-s/2,y:d[1]-l/2,width:s,height:l},style:{fill:u.getItemVisual(c,"color"),opacity:u.getItemVisual(c,"opacity")}}),g=h.getModel("itemStyle.normal").getItemStyle(["color"]),p=h.getModel("itemStyle.emphasis").getItemStyle(),m=h.getModel("label.normal"),v=h.getModel("label.emphasis"),y=e.getRawValue(c),x="-";y&&null!=y[2]&&(x=y[2]),m.get("show")&&(n.setText(g,m),g.text=e.getFormattedLabel(c,"normal")||x),v.get("show")&&(n.setText(p,v),p.text=e.getFormattedLabel(c,"emphasis")||x),f.setStyle(g),n.setHoverStyle(f,p),o.add(f),u.setItemGraphicEl(c,f)}})},_renderOnGeo:function(t,e,i,o){var s=i.targetVisuals.inRange,l=i.targetVisuals.outOfRange,u=e.getData(),c=this._hmLayer||this._hmLayer||new a;c.blurSize=e.get("blurSize"),c.pointSize=e.get("pointSize"),c.minOpacity=e.get("minOpacity"),c.maxOpacity=e.get("maxOpacity");var h=t.getViewRect().clone(),d=t.getRoamTransform().transform;h.applyTransform(d);var f=Math.max(h.x,0),g=Math.max(h.y,0),p=Math.min(h.width+h.x,o.getWidth()),m=Math.min(h.height+h.y,o.getHeight()),v=p-f,y=m-g,x=u.mapArray(["lng","lat","value"],function(e,i,n){var a=t.dataToPoint([e,i]);return a[0]-=f,a[1]-=g,a.push(n),a}),_=i.getExtent(),b="visualMap.continuous"===i.type?function(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}(_,i.option.range):function(t,e,i){var n=t[1]-t[0],a=(e=r.map(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}})).length,o=0;return function(t){for(var n=o;n<a;n++)if((r=e[n].interval)[0]<=t&&t<=r[1]){o=n;break}if(n===a)for(n=o-1;n>=0;n--){var r;if((r=e[n].interval)[0]<=t&&t<=r[1]){o=n;break}}return n>=0&&n<a&&i[n]}}(_,i.getPieceList(),i.option.selected);c.update(x,v,y,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},b);var w=new n.Image({style:{width:v,height:y,x:f,y:g,image:c.canvas},silent:!0});this.group.add(w)}})},function(t,e,i){var n=i(3);function a(){var t=n.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}a.prototype={update:function(t,e,i,n,a,r){var o=this._getBrush(),s=this._getGradient(t,a,"inRange"),l=this._getGradient(t,a,"outOfRange"),u=this.pointSize+this.blurSize,c=this.canvas,h=c.getContext("2d"),d=t.length;c.width=e,c.height=i;for(var f=0;f<d;++f){var g=t[f],p=g[0],m=g[1],v=n(g[2]);h.globalAlpha=v,h.drawImage(o,p-u,m-u)}for(var y=h.getImageData(0,0,c.width,c.height),x=y.data,_=0,b=x.length,w=this.minOpacity,M=this.maxOpacity-w;_<b;){v=x[_+3]/256;var S=4*Math.floor(255*v);if(v>0){var A=r(v)?s:l;v>0&&(v=v*M+w),x[_++]=A[S],x[_++]=A[S+1],x[_++]=A[S+2],x[_++]=A[S+3]*v*256}else _+=4}return h.putImageData(y,0,0),c},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=n.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var a=t.getContext("2d");return a.clearRect(0,0,i,i),a.shadowOffsetX=i,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-e,e,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,a=n[i]||(n[i]=new Uint8ClampedArray(1024)),r=[],o=0,s=0;s<256;s++)e[i](s/255,!0,r),a[o++]=r[0],a[o++]=r[1],a[o++]=r[2],a[o++]=r[3];return a}},t.exports=a},function(t,e,i){i(266),i(267),i(268),i(1).registerProcessor("filter",i(270))},function(t,e,i){"use strict";var n=i(3),a=i(8),r=i(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateData(i);var n=this._data,a=this.option.selected;if(n[0]&&"single"===this.get("selectedMode")){var r=!1;for(var o in a)a[o]&&(this.select(o),r=!0);!r&&this.select(n[0].get("name"))}},mergeOption:function(t){r.superCall(this,"mergeOption",t),this._updateData(this.ecModel)},_updateData:function(t){var e=n.map(this.get("data")||[],function(t){return"string"==typeof t&&(t={name:t}),new a(t,this,this.ecModel)},this);this._data=e;var i=n.map(t.getSeries(),function(t){return t.name});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();i=i.concat(e.mapArray(e.getName))}}),this._availableNames=i},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&n.each(this._data,function(t){e[t.get("name")]=!1}),e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;t in e||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(t in e&&!e[t])&&n.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0}});t.exports=r},function(t,e,i){var n=i(1),a=i(3);function r(t,e,i){var n,r={},o="toggleSelected"===t;return i.eachComponent("legend",function(i){o&&null!=n?i[n?"select":"unSelect"](e.name):(i[t](e.name),n=i.isSelected(e.name));var s=i.getData();a.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);r[e]=e in r?r[e]&&n:n}})}),{name:e.name,selected:r}}n.registerAction("legendToggleSelect","legendselectchanged",a.curry(r,"toggleSelected")),n.registerAction("legendSelect","legendselected",a.curry(r,"select")),n.registerAction("legendUnSelect","legendunselected",a.curry(r,"unSelect"))},function(t,e,i){var n=i(3),a=i(101),r=i(42),o=i(269),s=n.curry,l="#ccc";function u(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function c(t,e,i){t.get("legendHoverLink")&&i.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function h(t,e,i){t.get("legendHoverLink")&&i.dispatchAction({type:"downplay",seriesName:t.name,name:e})}t.exports=i(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(t,e,i){var a=this.group;if(a.removeAll(),t.get("show")){var l=t.get("selectedMode"),d=t.get("align");"auto"===d&&(d="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left");var f={};n.each(t.getData(),function(n){var o=n.get("name");if(""!==o&&"\n"!==o){var g=e.getSeriesByName(o)[0];if(!f[o])if(g){var p=g.getData(),m=p.getVisual("color");"function"==typeof m&&(m=m(g.getDataParams(0)));var v=p.getVisual("legendSymbol")||"roundRect",y=p.getVisual("symbol");this._createItem(o,n,t,v,y,d,m,l).on("click",s(u,o,i)).on("mouseover",s(c,g,"",i)).on("mouseout",s(h,g,"",i)),f[o]=!0}else e.eachRawSeries(function(e){if(!f[o]&&e.legendDataProvider){var a=e.legendDataProvider(),r=a.indexOfName(o);if(r<0)return;var g=a.getItemVisual(r,"color");this._createItem(o,n,t,"roundRect",null,d,g,l).on("click",s(u,o,i)).on("mouseover",s(c,e,o,i)).on("mouseout",s(h,e,o,i)),f[o]=!0}},this)}else a.add(new r.Group({newline:!0}))},this),o.layout(a,t,i),o.addBackground(a,t)}},_createItem:function(t,e,i,n,o,s,u,c){var h=i.get("itemWidth"),d=i.get("itemHeight"),f=i.isSelected(t),g=new r.Group,p=e.getModel("textStyle"),m=e.get("icon");if(g.add(a.createSymbol(n=m||n,0,0,h,d,f?u:l)),!m&&o&&(o!==n||"none"==o)){var v=.8*d;"none"===o&&(o="circle"),g.add(a.createSymbol(o,(h-v)/2,(d-v)/2,v,v,f?u:l))}var y="left"===s?h+5:-5,x=s,_=i.get("formatter");"string"==typeof _&&_?t=_.replace("{name}",t):"function"==typeof _&&(t=_(t));var b=new r.Text({style:{text:t,x:y,y:d/2,fill:f?p.getTextColor():l,textFont:p.getFont(),textAlign:x,textVerticalAlign:"middle"}});return g.add(b),g.add(new r.Rect({shape:g.getBoundingRect(),invisible:!0})),g.eachChild(function(t){t.silent=!c}),this.group.add(g),r.setHoverStyle(g),g}})},function(t,e,i){var n=i(21),a=i(6),r=i(42);t.exports={layout:function(t,e,i){var a=n.getLayoutRect(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"));n.box(e.get("orient"),t,e.get("itemGap"),a.width,a.height),function(t,e,i){n.positionGroup(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"))}(t,e,i)},addBackground:function(t,e){var i=a.normalizeCssArray(e.get("padding")),n=t.getBoundingRect(),o=e.getItemStyle(["color","opacity"]);o.fill=e.get("backgroundColor");var s=new r.Rect({shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},style:o,silent:!0,z2:-1});r.subPixelOptimizeRect(s),t.add(s)}}},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}},function(t,e,i){i(272),i(273),i(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),i(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(t,e,i){i(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(t,e,i){var n=i(274),a=i(42),r=i(3),o=i(6),s=i(7),l=s.parsePercent,u=i(79);function c(t,e,i,n){return{x1:t,y1:e,x2:i,y2:n}}function h(t,e,i,n){return{x:t,y:e,width:i,height:n}}function d(t,e,i,n,a,r){return{cx:t,cy:e,r0:i,r:n,startAngle:a,endAngle:r,clockwise:!0}}function f(t,e,i,n,a,o,s){var u=s.getWidth(),c=s.getHeight(),h=o&&o.getBoundingRect().clone();if(o&&h.applyTransform(o.transform),"function"==typeof t&&(t=t([e,i],a,n.el,h)),r.isArray(t))e=l(t[0],u),i=l(t[1],c);else if("string"==typeof t&&o){var d=function(t,e,i){var n=i.clientWidth,a=i.clientHeight,r=0,o=0,s=e.width,l=e.height;switch(t){case"inside":r=e.x+s/2-n/2,o=e.y+l/2-a/2;break;case"top":r=e.x+s/2-n/2,o=e.y-a-5;break;case"bottom":r=e.x+s/2-n/2,o=e.y+l+5;break;case"left":r=e.x-n-5,o=e.y+l/2-a/2;break;case"right":r=e.x+s+5,o=e.y+l/2-a/2}return[r,o]}(t,h,n.el);e=d[0],i=d[1]}else d=function(t,e,i,n,a){var r=i.clientWidth,o=i.clientHeight,s=20;return t+r+s>n?t-=r+s:t+=s,e+o+s>a?e-=o+s:e+=s,[t,e]}(e,i,n.el,u,c),e=d[0],i=d[1];n.moveTo(e,i)}function g(t){var e=t.coordinateSystem,i=t.get("tooltip.trigger",!0);return!(!e||"cartesian2d"!==e.type&&"polar"!==e.type&&"single"!==e.type||"item"===i)}i(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(t,e){if(!u.node){var i=new n(e.getDom(),e);this._tooltipContent=i,e.on("showTip",this._manuallyShowTip,this),e.on("hideTip",this._manuallyHideTip,this)}},render:function(t,e,i){if(!u.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastHover={};var n=this._tooltipContent;n.update(),n.enterable=t.get("enterable"),this._alwaysShowContent=t.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(t,e);var a=this._crossText;if(a&&this.group.add(a),null!=this._lastX&&null!=this._lastY){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){r._manuallyShowTip({x:r._lastX,y:r._lastY})})}var o=this._api.getZr();o.off("click",this._tryShow),o.off("mousemove",this._mousemove),o.off("mouseout",this._hide),o.off("globalout",this._hide),"click"===t.get("triggerOn")?o.on("click",this._tryShow,this):(o.on("mousemove",this._mousemove,this),o.on("mouseout",this._hide,this),o.on("globalout",this._hide,this))}},_mousemove:function(t){var e=this._tooltipModel.get("showDelay"),i=this;clearTimeout(this._showTimeout),e>0?this._showTimeout=setTimeout(function(){i._tryShow(t)},e):this._tryShow(t)},_manuallyShowTip:function(t){if(t.from!==this.uid){var e=this._ecModel,i=t.dataIndex,n=e.getSeriesByIndex(t.seriesIndex),a=this._api;if(null==t.x||null==t.y){if(n||e.eachSeries(function(t){g(t)&&!n&&(n=t)}),n){var o=n.getData();null==i&&(i=o.indexOfName(t.name));var s,l,u=o.getItemGraphicEl(i),c=n.coordinateSystem;if(c&&c.dataToPoint){var h=c.dataToPoint(o.getValues(r.map(c.dimensions,function(t){return n.coordDimToDataDim(t)[0]}),i,!0));s=h&&h[0],l=h&&h[1]}else if(u){var d=u.getBoundingRect().clone();d.applyTransform(u.transform),s=d.x+d.width/2,l=d.y+d.height/2}null!=s&&null!=l&&this._tryShow({offsetX:s,offsetY:l,target:u,event:{}})}}else u=a.getZr().handler.findHover(t.x,t.y),this._tryShow({offsetX:t.x,offsetY:t.y,target:u,event:{}})}},_manuallyHideTip:function(t){t.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(t,e){var i={};return e.eachSeries(function(t){if(g(t)){var e,n,a=t.coordinateSystem;n="cartesian2d"===a.type?(e=a.getBaseAxis()).dim+e.index:"single"===a.type?(e=a.getAxis()).dim+e.type:(e=a.getBaseAxis()).dim+a.name,i[n]=i[n]||{coordSys:[],series:[]},i[n].coordSys.push(a),i[n].series.push(t)}},this),i},_tryShow:function(t){var e=t.target,i=this._tooltipModel,n=i.get("trigger"),a=this._ecModel,r=this._api;if(i)if(this._lastX=t.offsetX,this._lastY=t.offsetY,e&&null!=e.dataIndex){var o=e.dataModel||a.getSeriesByIndex(e.seriesIndex),s=e.dataIndex;"axis"===(o.getData().getItemModel(s).get("tooltip.trigger")||n)?this._showAxisTooltip(i,a,t):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(o,s,e.dataType,t)),r.dispatchAction({type:"showTip",from:this.uid,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex})}else"item"===n?this._hide():this._showAxisTooltip(i,a,t),"cross"===i.get("axisPointer.type")&&r.dispatchAction({type:"showTip",from:this.uid,x:t.offsetX,y:t.offsetY})},_showAxisTooltip:function(t,e,i){var n=t.getModel("axisPointer"),a=n.get("type");if("cross"===a){var o=i.target;if(o&&null!=o.dataIndex){var l=e.getSeriesByIndex(o.seriesIndex);this._showItemTooltipContent(l,o.dataIndex,o.dataType,i)}}this._showAxisPointer();var u=!0;r.each(this._seriesGroupByAxis,function(t){var e=t.coordSys[0],o=[i.offsetX,i.offsetY];if(e.containPoint(o)){u=!1;var l=e.dimensions,c=e.pointToData(o,!0);o=e.dataToPoint(c);var h=e.getBaseAxis(),d=n.get("axis");"auto"===d&&(d=h.dim);var f=!1,g=this._lastHover;if("cross"===a)(function(t,e){if(!t||!e)return!1;var i=s.round;return i(t[0])===i(e[0])&&i(t[1])===i(e[1])})(g.data,c)&&(f=!0),g.data=c;else{var p=r.indexOf(l,d);g.data===c[p]&&(f=!0),g.data=c[p]}"cartesian2d"!==e.type||f?"polar"!==e.type||f?"single"!==e.type||f||this._showSinglePointer(n,e,d,o):this._showPolarPointer(n,e,d,o):this._showCartesianPointer(n,e,d,o),"cross"!==a&&this._dispatchAndShowSeriesTooltipContent(e,t.series,o,c,f)}else this._hideAxisPointer(e.name)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),u&&this._hide()},_showCartesianPointer:function(t,e,i,n){var r=this,o=t.get("type"),s="cross"!==o;if("cross"===o)u("x",n,e.getAxis("y").getGlobalExtent()),u("y",n,e.getAxis("x").getGlobalExtent()),this._updateCrossText(e,n,t);else{var l=e.getAxis("x"===i?"y":"x").getGlobalExtent();"cartesian2d"===e.type&&("line"===o?u:function(i,n,o){var l=e.getAxis(i).getBandWidth(),u=o[1]-o[0],c="x"===i?h(n[0]-l/2,o[0],l,u):h(o[0],n[1]-l/2,u,l),d=r._getPointerElement(e,t,i,c);s?a.updateProps(d,{shape:c},t):d.attr({shape:c})})(i,n,l)}function u(i,n,o){var l="x"===i?c(n[0],o[0],n[0],o[1]):c(o[0],n[1],o[1],n[1]),u=r._getPointerElement(e,t,i,l);s?a.updateProps(u,{shape:l},t):u.attr({shape:l})}},_showSinglePointer:function(t,e,i,n){var r=this,o="cross"!==t.get("type"),s=e.getRect();!function(i,n,s){var l="horizontal"===e.getAxis().orient?c(n[0],s[0],n[0],s[1]):c(s[0],n[1],s[1],n[1]),u=r._getPointerElement(e,t,i,l);o?a.updateProps(u,{shape:l},t):u.attr({shape:l})}(i,n,[s.y,s.y+s.height])},_showPolarPointer:function(t,e,i,n){var r=this,o=t.get("type"),s=e.getAngleAxis(),l=e.getRadiusAxis(),u="cross"!==o;function h(i,n,o){var s,l=e.pointToCoord(n);if("angle"===i){var h=e.coordToPoint([o[0],l[1]]),d=e.coordToPoint([o[1],l[1]]);s=c(h[0],h[1],d[0],d[1])}else s={cx:e.cx,cy:e.cy,r:l[0]};var f=r._getPointerElement(e,t,i,s);u?a.updateProps(f,{shape:s},t):f.attr({shape:s})}"cross"===o?(h("angle",n,l.getExtent()),h("radius",n,s.getExtent()),this._updateCrossText(e,n,t)):("line"===o?h:function(i,n,o){var s,l=e.getAxis(i).getBandWidth(),c=e.pointToCoord(n),h=Math.PI/180;s="angle"===i?d(e.cx,e.cy,o[0],o[1],(-c[1]-l/2)*h,(l/2-c[1])*h):d(e.cx,e.cy,c[0]-l/2,c[0]+l/2,0,2*Math.PI);var f=r._getPointerElement(e,t,i,s);u?a.updateProps(f,{shape:s},t):f.attr({shape:s})})(i,n,e.getAxis("radius"===i?"angle":"radius").getExtent())},_updateCrossText:function(t,e,i){var n=i.getModel("crossStyle"),s=n.getModel("textStyle"),l=this._tooltipModel,u=this._crossText;u||(u=this._crossText=new a.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(u));var c=t.pointToData(e),h=t.dimensions;c=r.map(c,function(e,i){var n=t.getAxis(h[i]);return"category"===n.type||"time"===n.type?n.scale.getLabel(e):o.addCommas(e.toFixed(n.getPixelPrecision()))}),u.setStyle({fill:s.getTextColor()||n.get("color"),textFont:s.getFont(),text:c.join(", "),x:e[0]+5,y:e[1]-5}),u.z=l.get("z"),u.zlevel=l.get("zlevel")},_getPointerElement:function(t,e,i,n){var r=this._tooltipModel,o=r.get("z"),s=r.get("zlevel"),l=this._axisPointers,u=t.name;if(l[u]=l[u]||{},l[u][i])return l[u][i];var c=e.get("type"),h="shadow"===c,d=e.getModel(c+"Style")[h?"getAreaStyle":"getLineStyle"](),f="polar"===t.type?h?"Sector":"radius"===i?"Circle":"Line":h?"Rect":"Line";h?d.stroke=null:d.fill=null;var g=l[u][i]=new a[f]({style:d,z:o,zlevel:s,silent:!0,shape:n});return this.group.add(g),g},_dispatchAndShowSeriesTooltipContent:function(t,e,i,n,a){var s=this._tooltipModel,l=this._tooltipContent,u=t.getBaseAxis(),c=r.map(e,function(t){return{seriesIndex:t.seriesIndex,dataIndex:t.getAxisTooltipDataIndex?t.getAxisTooltipDataIndex(t.coordDimToDataDim(u.dim),n,u):t.getData().indexOfNearest(t.coordDimToDataDim(u.dim)[0],n["x"===u.dim||"radius"===u.dim?0:1])}}),h=this._lastHover,d=this._api;if(h.payloadBatch&&!a&&d.dispatchAction({type:"downplay",batch:h.payloadBatch}),a||(d.dispatchAction({type:"highlight",batch:c}),h.payloadBatch=c),d.dispatchAction({type:"showTip",dataIndex:c[0].dataIndex,seriesIndex:c[0].seriesIndex,from:this.uid}),u&&s.get("showContent")&&s.get("show")){var g,p=s.get("formatter"),m=s.get("position"),v=r.map(e,function(t,e){return t.getDataParams(c[e].dataIndex)});l.show(s);var y=c[0].dataIndex;if(!a){if(this._ticket="",p){if("string"==typeof p)g=o.formatTpl(p,v);else if("function"==typeof p){var x=this,_="axis_"+t.name+"_"+y;x._ticket=_,g=p(v,_,function(t,e){t===x._ticket&&(l.setContent(e),f(m,i[0],i[1],l,v,null,d))})}}else{var b=e[0].getData().getName(y);g=(b?b+"<br />":"")+r.map(e,function(t,e){return t.formatTooltip(c[e].dataIndex,!0)}).join("<br />")}l.setContent(g)}f(m,i[0],i[1],l,v,null,d)}},_showItemTooltipContent:function(t,e,i,n){var a=this._api,r=t.getData(i).getItemModel(e),s=this._tooltipModel,l=this._tooltipContent,u=r.getModel("tooltip");if(u.parentModel?u.parentModel.parentModel=s:u.parentModel=this._tooltipModel,u.get("showContent")&&u.get("show")){var c,h=u.get("formatter"),d=u.get("position"),g=t.getDataParams(e,i);if(h){if("string"==typeof h)c=o.formatTpl(h,g);else if("function"==typeof h){var p=this,m="item_"+t.name+"_"+e;p._ticket=m,c=h(g,m,function(t,e){t===p._ticket&&(l.setContent(e),f(d,n.offsetX,n.offsetY,l,g,n.target,a))})}}else c=t.formatTooltip(e,!1,i);l.show(u),l.setContent(c),f(d,n.offsetX,n.offsetY,l,g,n.target,a)}},_showAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&r.each(e,function(t){t.show()})}else this.group.eachChild(function(t){t.show()}),this.group.show()},_resetLastHover:function(){var t=this._lastHover;t.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:t.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&r.each(e,function(t){t.hide()})}else this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(t,e){if(!u.node){var i=e.getZr();this._tooltipContent.hide(),i.off("click",this._tryShow),i.off("mousemove",this._mousemove),i.off("mouseout",this._hide),i.off("globalout",this._hide),e.off("showTip",this._manuallyShowTip),e.off("hideTip",this._manuallyHideTip)}}})},function(t,e,i){var n=i(3),a=i(38),r=i(81),o=i(6),s=n.each,l=o.toCamelCase,u=i(79),c=["","-webkit-","-moz-","-o-"];function h(t,e){var i=document.createElement("div"),n=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1;var a=this;i.onmouseenter=function(){a.enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(e){if(!a.enterable){var i=n.handler;r.normalizeEvent(t,e),i.dispatch("mousemove",e)}},i.onmouseleave=function(){a.enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1},function(t,e){function i(i){(function(i){for(;i&&i!==e;){if(i===t)return!0;i=i.parentNode}})(i.target)&&i.preventDefault()}r.addEventListener(e,"touchstart",i),r.addEventListener(e,"touchmove",i),r.addEventListener(e,"touchend",i)}(i,t)}h.prototype={constructor:h,enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout),this.el.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function(t){var e,i,r=[],h=(t=t).get("transitionDuration"),d=t.get("backgroundColor"),f=t.getModel("textStyle"),g=t.get("padding");return h&&r.push((i="left "+(e=h)+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)",n.map(c,function(t){return t+"transition:"+i}).join(";"))),d&&(u.canvasSupported?r.push("background-Color:"+d):(r.push("background-Color:#"+a.toHex(d)),r.push("filter:alpha(opacity=70)"))),s(["width","color","radius"],function(e){var i="border-"+e,n=l(i),a=t.get(n);null!=a&&r.push(i+":"+a+("color"===e?"":"px"))}),r.push(function(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();return n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px"),s(["decoration","align"],function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)}),e.join(";")}(f)),null!=g&&r.push("padding:"+o.normalizeCssArray(g).join("px ")+"px"),r.join(";")+";"}(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),this._show=!0},setContent:function(t){var e=this.el;e.innerHTML=t,e.style.display=t?"block":"none"},moveTo:function(t,e){var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this.enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}},t.exports=h},function(t,e,i){"use strict";i(276),i(282),i(284),i(1).extendComponentView({type:"polar"})},function(t,e,i){var n=i(277),a=i(7),r=i(109),o=r.niceScaleExtent;function s(t,e){var i=t.get("center"),n=t.get("radius"),r=e.getWidth(),o=e.getHeight(),s=a.parsePercent;this.cx=s(i[0],r),this.cy=s(i[1],o);var l=this.getRadiusAxis(),u=Math.min(r,o)/2;l.setExtent(0,s(n,u))}function l(t,e){var i=this,n=i.getAngleAxis(),a=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();a.scale.unionExtent(e.getDataExtent("radius","category"!==a.type)),n.scale.unionExtent(e.getDataExtent("angle","category"!==n.type))}}),o(n,n.model),o(a,a.model),"category"===n.type&&!n.onBand){var r=n.getExtent(),s=360/n.scale.count();n.inverse?r[1]+=s:r[1]-=s,n.setExtent(r[0],r[1])}}function u(t,e){if(t.type=e.get("type"),t.scale=r.createScaleByModel(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,"angleAxis"===e.mainType){var i=e.get("startAngle");t.inverse=e.get("inverse")^e.get("clockwise"),t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}i(280);var c={dimensions:n.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent("polar",function(t,a){var r=new n(a);r.resize=s,r.update=l;var o=r.getRadiusAxis(),c=r.getAngleAxis(),h=t.findAxisModel("radiusAxis"),d=t.findAxisModel("angleAxis");u(o,h),u(c,d),r.resize(t,e),i.push(r),t.coordinateSystem=r}),t.eachSeries(function(t){"polar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("polarIndex")])}),i}};i(25).register("polar",c)},function(t,e,i){"use strict";var n=i(278),a=i(279),r=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new n,this._angleAxis=new a};r.prototype={constructor:r,type:"polar",dimensions:["radius","angle"],containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(t){return t.mapArray(this.dimensions,function(t,e){return this.dataToPoint([t,e])},this)},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),a=n.getExtent(),r=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);n.inverse?r=o-360:o=r+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,u=l<r?1:-1;l<r||l>o;)l+=360*u;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]}},t.exports=r},function(t,e,i){"use strict";var n=i(3),a=i(118);function r(t,e){a.call(this,"radius",t,e),this.type="category"}r.prototype={constructor:r,dataToRadius:a.prototype.dataToCoord,radiusToData:a.prototype.coordToData},n.inherits(r,a),t.exports=r},function(t,e,i){"use strict";var n=i(3),a=i(118);function r(t,e){a.call(this,"angle",t,e=e||[0,360]),this.type="category"}r.prototype={constructor:r,dataToAngle:a.prototype.dataToCoord,angleToData:a.prototype.coordToData},n.inherits(r,a),t.exports=r},function(t,e,i){"use strict";i(281),i(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e,i=this.ecModel;return i.eachComponent(t,function(t){i.getComponent("polar",t.getShallow("polarIndex"))===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(t,e,i){"use strict";var n=i(3),a=i(19),r=i(122),o=a.extend({type:"polarAxis",axis:null});function s(t,e){return e.type||(e.data?"category":"value")}n.merge(o.prototype,i(124)),r("angle",o,s,{polarIndex:0,startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),r("radius",o,s,{polarIndex:0,splitNumber:5})},function(t,e,i){"use strict";i(276),i(283)},function(t,e,i){"use strict";var n=i(3),a=i(42),r=i(8),o=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function s(t,e,i,n){var a=t.coordToPoint([e,n]),r=t.coordToPoint([i,n]);return{x1:a[0],y1:a[1],x2:r[0],y2:r[1]}}i(1).extendComponentView({type:"angleAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("polar",t.get("polarIndex")),a=t.axis,r=i.coordinateSystem,s=r.getRadiusAxis().getExtent(),l=a.getTicksCoords();"category"!==a.type&&l.pop(),n.each(o,function(e){t.get(e+".show")&&this["_"+e](t,r,l,s)},this)}},_axisLine:function(t,e,i,n){var r=t.getModel("axisLine.lineStyle"),o=new a.Circle({shape:{cx:e.cx,cy:e.cy,r:n[1]},style:r.getLineStyle(),z2:1,silent:!0});o.style.fill=null,this.group.add(o)},_axisTick:function(t,e,i,r){var o=t.getModel("axisTick"),l=(o.get("inside")?-1:1)*o.get("length"),u=n.map(i,function(t){return new a.Line({shape:s(e,r[1],r[1]+l,t)})});this.group.add(a.mergePath(u,{style:o.getModel("lineStyle").getLineStyle()}))},_axisLabel:function(t,e,i,n){for(var o=t.axis,s=t.get("data"),l=t.getModel("axisLabel"),u=l.getModel("textStyle"),c=t.getFormattedLabels(),h=l.get("margin"),d=o.getLabelsCoords(),f=0;f<i.length;f++){var g=n[1],p=e.coordToPoint([g+h,d[f]]),m=e.cx,v=e.cy,y=Math.abs(p[0]-m)/g<.3?"center":p[0]>m?"left":"right",x=Math.abs(p[1]-v)/g<.3?"middle":p[1]>v?"top":"bottom",_=u;s&&s[f]&&s[f].textStyle&&(_=new r(s[f].textStyle,u)),this.group.add(new a.Text({style:{x:p[0],y:p[1],fill:_.getTextColor(),text:c[f],textAlign:y,textVerticalAlign:x,textFont:_.getFont()},silent:!0}))}},_splitLine:function(t,e,i,r){var o=t.getModel("splitLine").getModel("lineStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=0;h<i.length;h++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new a.Line({shape:s(e,r[0],r[1],i[h])}))}for(h=0;h<c.length;h++)this.group.add(a.mergePath(c[h],{style:n.defaults({stroke:l[h%l.length]},o.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,i,r){var o=t.getModel("splitArea").getModel("areaStyle"),s=o.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],c=Math.PI/180,h=-i[0]*c,d=Math.min(r[0],r[1]),f=Math.max(r[0],r[1]),g=t.get("clockwise"),p=1;p<i.length;p++){var m=l++%s.length;u[m]=u[m]||[],u[m].push(new a.Sector({shape:{cx:e.cx,cy:e.cy,r0:d,r:f,startAngle:h,endAngle:-i[p]*c,clockwise:g},silent:!0})),h=-i[p]*c}for(p=0;p<u.length;p++)this.group.add(a.mergePath(u[p],{style:n.defaults({fill:s[p%s.length]},o.getAreaStyle()),silent:!0}))}})},function(t,e,i){i(276),i(285)},function(t,e,i){"use strict";var n=i(3),a=i(42),r=i(127),o=["axisLine","axisLabel","axisTick","axisName"],s=["splitLine","splitArea"];i(1).extendComponentView({type:"radiusAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("polar",t.get("polarIndex")),a=i.coordinateSystem.getAngleAxis(),l=t.axis,u=i.coordinateSystem,c=l.getTicksCoords(),h=a.getExtent()[0],d=l.getExtent(),f=function(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:e.getModel("axisLabel").get("rotate"),z2:1}}(u,t,h),g=new r(t,f);n.each(o,g.add,g),this.group.add(g.getGroup()),n.each(s,function(e){t.get(e+".show")&&this["_"+e](t,u,h,d,c)},this)}},_splitLine:function(t,e,i,r,o){var s=t.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=0;h<o.length;h++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new a.Circle({shape:{cx:e.cx,cy:e.cy,r:o[h]},silent:!0}))}for(h=0;h<c.length;h++)this.group.add(a.mergePath(c[h],{style:n.defaults({stroke:l[h%l.length],fill:null},s.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,r,o){var s=t.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=o[0],d=1;d<o.length;d++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new a.Sector({shape:{cx:e.cx,cy:e.cy,r0:h,r:o[d],startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[d]}for(d=0;d<c.length;d++)this.group.add(a.mergePath(c[d],{style:n.defaults({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}})},function(t,e,i){i(287),i(158),i(288),i(171);var n=i(1),a=i(3);function r(t,e){e.update="updateView",n.registerAction(e,function(e,i){var n={};return i.eachComponent({mainType:"geo",query:e},function(i){i[t](e.name),a.each(i.coordinateSystem.regions,function(t){n[t.name]=i.isSelected(t.name)||!1})}),{selected:n,name:e.name}})}r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(t,e,i){"use strict";var n=i(5),a=i(19),r=i(8),o=i(3),s=i(135),l=i(158),u=a.extend({type:"geo",coordinateSystem:null,init:function(t){a.prototype.init.apply(this,arguments),n.defaultEmphasis(t.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var t=this.option,e=this;t.regions=l.getFilledRegions(t.regions,t.map),this._optionModelMap=o.reduce(t.regions||[],function(t,i){return i.name&&(t[i.name]=new r(i,e)),t},{}),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",map:"",center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap[t]},getFormattedLabel:function(t,e){var i=this.get("label."+e+".formatter"),n={name:t};return"function"==typeof i?(n.status=e,i(n)):"string"==typeof i?i.replace("{a}",n.seriesName):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});o.mixin(u,s),t.exports=u},function(t,e,i){"use strict";var n=i(168);t.exports=i(1).extendComponentView({type:"geo",init:function(t,e){var i=new n(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i,n){if(!n||"geoToggleSelect"!==n.type||n.from!==this.uid){var a=this._mapDraw;t.get("show")?a.draw(t,e,i,this,n):this._mapDraw.group.removeAll()}}})},function(t,e,i){"use strict";var n=i(1),a=i(42),r=i(21);n.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),n.extendComponentView({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=new a.Text({style:{text:t.get("text"),textFont:o.getFont(),fill:o.getTextColor(),textBaseline:"top"},z2:10}),c=u.getBoundingRect(),h=t.get("subtext"),d=new a.Text({style:{text:h,textFont:s.getFont(),fill:s.getTextColor(),y:c.height+t.get("itemGap"),textBaseline:"top"},z2:10}),f=t.get("link"),g=t.get("sublink");u.silent=!f,d.silent=!g,f&&u.on("click",function(){window.open(f,"_"+t.get("target"))}),g&&d.on("click",function(){window.open(g,"_"+t.get("subtarget"))}),n.add(u),h&&n.add(d);var p=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=p.width,m.height=p.height;var v=r.getLayoutRect(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||("middle"===(l=t.get("left")||t.get("right"))&&(l="center"),"right"===l?v.x+=v.width:"center"===l&&(v.x+=v.width/2)),n.position=[v.x,v.y],u.setStyle("textAlign",l),d.setStyle("textAlign",l),p=n.getBoundingRect();var y=v.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var _=new a.Rect({shape:{x:p.x-y[3],y:p.y-y[0],width:p.width+y[1]+y[3],height:p.height+y[0]+y[2]},style:x,silent:!0});a.subPixelOptimizeRect(_),n.add(_)}}})},function(t,e,i){i(291),i(292),i(294),i(295),i(296),i(299),i(300),i(302),i(303)},function(t,e,i){i(19).registerSubTypeDefaulter("dataZoom",function(t){return"slider"})},function(t,e,i){var n=i(3),a=i(79),r=i(1),o=i(5),s=i(293),l=n.each,u=o.eachAxisDim,c=r.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,angleAxisIndex:null,radiusAxisIndex:null,filterMode:"filter",throttle:100,start:0,end:100,startValue:null,endValue:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={};var n=h(t);this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=h(t);n.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;a.canvasSupported||(e.realtime=!1),d("start","startValue",t,e),d("end","endValue",t,e),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,a){var r=this.dependentModels[e.axis][i],o=r.__dzAxisProxy||(r.__dzAxisProxy=new s(e.name,i,this,a));t[e.name+"_"+i]=o},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();u(function(e){var i=e.axisIndex;t[i]=o.normalizeToArray(t[i])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;u(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),i=this.option;if(t){var a="vertical"===e?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"};this.dependentModels[a.axis].length&&(i[a.axisIndex]=[0],t=!1)}t&&u(function(e){if(t){var n=[],a=this.dependentModels[e.axis];if(a.length&&!n.length)for(var r=0,o=a.length;r<o;r++)"category"===a[r].get("type")&&n.push(r);i[e.axisIndex]=n,n.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&u(function(e){var a=i[e.axisIndex],r=t.get(e.axisIndex);n.indexOf(a,r)<0&&a.push(r)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return u(function(n){var a=t.get(n.axisIndex),r=this.dependentModels[n.axis][a];r&&r.get("type")===e||(i=!1)},this),i},getFirstTargetAxisModel:function(){var t;return u(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;u(function(n){l(this.get(n.axisIndex),function(a){t.call(e,n,a,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},setRawRange:function(t){l(["start","end","startValue","endValue"],function(e){this.option[e]=t[e]},this)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(){var t=this._axisProxies;for(var e in t)if(t.hasOwnProperty(e)&&t[e].hostedBy(this))return t[e];for(var e in t)if(t.hasOwnProperty(e)&&!t[e].hostedBy(this))return t[e]}});function h(t){var e={};return l(["start","end","startValue","endValue"],function(i){e[i]=t[i]}),e}function d(t,e,i,n){null!=i[e]&&null==i[t]&&(n[t]=null)}t.exports=c},function(t,e,i){var n=i(3),a=i(7),r=n.each,o=a.asc,s=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this.ecModel=n,this._dataZoomModel=i};function l(t,e){var i=t.getAxisModel(),n=t._percentWindow,r=t._valueWindow;if(n){var o=e||0===n[0]&&100===n[1],s=!e&&a.getPixelPrecision(r,[0,500]),l=e||o||!(e||s<20&&s>=0);i.setRange&&i.setRange(l?null:+r[0].toFixed(s),l?null:+r[1].toFixed(s))}}s.prototype={constructor:s,hostedBy:function(t){return this._dataZoomModel===t},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[];return this.ecModel.eachSeries(function(e){this._axisIndex===e.get(this._dimName+"AxisIndex")&&t.push(e)},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i,n=this._dimName,a=this.ecModel,r=this.getAxisModel();return"x"===n||"y"===n?(e="gridIndex",t="x"===n?"y":"x"):(e="polarIndex",t="angle"===n?"radius":"angle"),a.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(r.get(e)||0)&&(i=t)}),i},reset:function(t){if(t===this._dataZoomModel){var e=this._dataExtent=function(t,e){var i=[1/0,-1/0];return r(e,function(e){var n=e.getData();n&&r(e.coordDimToDataDim(t),function(t){var e=n.getDataExtent(t);e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1])})},this),i}(this._dimName,this.getTargetSeriesModels()),i=function(t,e,i){var n=i.getAxisModel(),s=n.axis.scale,l=[0,100],u=[t.start,t.end],c=[];return function(t,e,i){r(["min","max"],function(n,a){var r=e.get(n,!0);null!=r&&(r+"").toLowerCase()!=="data"+n&&(t[a]=i.parse(r))}),e.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0))}(e=e.slice(),n,s),r(["startValue","endValue"],function(e){c.push(null!=t[e]?s.parse(t[e]):null)}),r([0,1],function(t){var i=c[t],n=u[t];null!=n||null==i?(null==n&&(n=l[t]),i=s.parse(a.linearMap(n,l,e,!0))):n=a.linearMap(i,e,l,!0),c[t]=i,u[t]=n}),{valueWindow:o(c),percentWindow:o(u)}}(t.option,e,this);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,l(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,l(this,!0))},filterData:function(t){if(t===this._dataZoomModel){var e=this._dimName,i=this.getTargetSeriesModels(),n=t.get("filterMode"),a=this._valueWindow,o=this.getOtherAxisModel();t.get("$fromToolbox")&&o&&"category"===o.get("type")&&(n="empty"),r(i,function(t){var i=t.getData();i&&r(t.coordDimToDataDim(e),function(e){"empty"===n?t.setData(i.map(e,function(t){return s(t)?t:NaN})):i.filterSelf(e,s)})})}function s(t){return t>=a[0]&&t<=a[1]}}},t.exports=s},function(t,e,i){var n=i(28);t.exports=n.extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetInfo:function(){var t=this.ecModel,e=[],i=[],n=[];function a(t,e,i,n){for(var a,r=0;r<i.length;r++)if(i[r].model===t){a=i[r];break}a||i.push(a={model:t,axisModels:[],coordIndex:n}),a.axisModels.push(e)}return this.dataZoomModel.eachTargetAxis(function(r,o){var s=t.getComponent(r.axis,o);if(s){n.push(s);var l=s.get("gridIndex"),u=s.get("polarIndex");null!=l?a(t.getComponent("grid",l),s,e,l):null!=u&&a(t.getComponent("polar",u),s,i,u)}},this),{cartesians:e,polars:i,axisModels:n}}})},function(t,e,i){var n=i(292).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"#ddd",fillerColor:"rgba(47,69,84,0.15)",handleColor:"rgba(148,164,165,0.95)",handleSize:10,labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}},mergeOption:function(t){n.superApply(this,"mergeOption",arguments)}});t.exports=n},function(t,e,i){var n=i(3),a=i(42),r=i(297),o=i(294),s=a.Rect,l=i(7),u=l.linearMap,c=i(21),h=i(298),d=l.asc,f=n.bind,g=Math.round,p=Math.max,m=n.each,v="horizontal",y="vertical",x=["line","bar","candlestick","scatter"],_=o.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this.api=e},render:function(t,e,i,n){_.superApply(this,"render",arguments),r.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),this._halfHandleSize=g(t.get("handleSize")/2),!1!==this.dataZoomModel.get("show")?(n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){_.superApply(this,"remove",arguments),r.clear(this,"_dispatchZoomAction")},dispose:function(){_.superApply(this,"dispose",arguments),r.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new a.Group;this._renderBackground(),this._renderDataShadow(),this._renderHandle(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),a={width:e.getWidth(),height:e.getHeight()},r=this._orient===v?{right:a.width-i.x-i.width,top:a.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},o=c.getLayoutParams(t.option);n.each(["right","top","width","height"],function(t){"ph"===o[t]&&(o[t]=r[t])});var s=c.getLayoutRect(o,a,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===y&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),a=n&&n.get("inverse"),r=this._displayables.barGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(i!==v||a?i===v&&a?{scale:o?[-1,1]:[-1,-1]}:i!==y||a?{scale:o?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:o?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:o?[1,1]:[1,-1]});var s=t.getBoundingRect([r]);t.position[0]=e.x-s.x,t.position[1]=e.y-s.y},_getViewExtent:function(){var t=this._halfHandleSize;return[t,p(this._size[0],4*t)-t]},_renderBackground:function(){var t=this._size;this._displayables.barGroup.add(new s({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:this.dataZoomModel.get("backgroundColor")}}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),r=i.getShadowDim?i.getShadowDim():t.otherDim,o=n.getDataExtent(r),s=.3*(o[1]-o[0]);o=[o[0]-s,o[1]+s];var l=[0,e[1]],c=[[e[0],0],[0,0]],h=e[0]/(n.count()-1),d=0,f=Math.round(n.count()/e[0]);n.each([r],function(t,e){if(f>0&&e%f)d+=h;else{var i=null==t||isNaN(t)||""===t?null:u(t,o,l,!0);null!=i&&c.push([d,i]),d+=h}}),this._displayables.barGroup.add(new a.Polyline({shape:{points:c},style:{fill:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:0},silent:!0,z2:-20}))}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var i,a=this.ecModel;return t.eachTargetAxis(function(r,o){var s=t.getAxisProxy(r.name,o).getTargetSeriesModels();n.each(s,function(t){if(!(i||!0!==e&&n.indexOf(x,t.get("type"))<0)){var s="x"===r.name?"y":"x",l=a.getComponent(r.axis,o).axis;i={thisAxis:l,series:t,thisDim:r.name,otherDim:s,otherAxisInverse:t.coordinateSystem.getOtherAxis(l).inverse}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,r=this._size;n.add(t.filler=new s({draggable:!0,cursor:"move",drift:f(this._onDragMove,this,"all"),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1),style:{fill:this.dataZoomModel.get("fillerColor"),textPosition:"inside"}})),n.add(new s(a.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),m([0,1],function(t){n.add(e[t]=new s({style:{fill:this.dataZoomModel.get("handleColor")},cursor:"move",draggable:!0,drift:f(this._onDragMove,this,t),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1)}));var r=this.dataZoomModel.textStyleModel;this.group.add(i[t]=new a.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:r.getTextColor(),textFont:r.getFont()}}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[u(t[0],[0,100],e,!0),u(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this._handleEnds,n=this._getViewExtent();h(e,i,n,"all"===t||this.dataZoomModel.get("zoomLock")?"rigid":"cross",t),this._range=d([u(i[0],n,[0,100],!0),u(i[1],n,[0,100],!0)])},_updateView:function(){var t=this._displayables,e=this._handleEnds,i=d(e.slice()),n=this._size,a=this._halfHandleSize;m([0,1],function(i){t.handles[i].setShape({x:e[i]-a,y:-1,width:2*a,height:n[1]+2,r:1})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:this._size[1]}),this._updateDataInfo()},_updateDataInfo:function(){var t,e,i=this.dataZoomModel,n=this._displayables,r=n.handleLabels,o=this._orient,s=["",""];i.get("showDetail")&&(i.eachTargetAxis(function(n,a){t||(t=i.getAxisProxy(n.name,a).getDataValueWindow(),e=this.ecModel.getComponent(n.axis,a).axis)},this),t&&(s=[this._formatLabel(t[0],e),this._formatLabel(t[1],e)]));var l=d(this._handleEnds.slice());function u(t){var e=a.getTransform(n.handles[t],this.group),i=a.transformDirection(0===t?"right":"left",e),u=this._halfHandleSize+5,c=a.applyTransform([l[t]+(0===t?-u:u),this._size[1]/2],e);r[t].setStyle({x:c[0],y:c[1],textVerticalAlign:o===v?"middle":i,textAlign:o===v?i:"center",text:s[t]})}u.call(this,0),u.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,a=i.get("labelFormatter");if(n.isFunction(a))return a(t);var r=i.get("labelPrecision");return null!=r&&"auto"!==r||(r=e.getPixelPrecision()),t=null==t&&isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(r,20)),n.isString(a)&&(t=a.replace("{value}",t)),t},_showDataInfo:function(t){var e=this._displayables.handleLabels;e[0].attr("invisible",!(t=this._dragging||t)),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=this._applyBarTransform([e,i],!0);this._updateInterval(t,n[0]),this._updateView(),this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_applyBarTransform:function(t,e){var i=this._displayables.barGroup.getLocalTransform();return a.applyTransform(t,i,e)},_findCoordRect:function(){var t,e=this.getTargetInfo();if(e.cartesians.length)t=e.cartesians[0].model.coordinateSystem.getRect();else{var i=this.api.getWidth(),n=this.api.getHeight();t={x:.2*i,y:.2*n,width:.6*i,height:.6*n}}return t}});t.exports=_},function(t,e){var i={},n="\0__throttleOriginMethod",a="\0__throttleRate";i.throttle=function(t,e,i,n){var a,r,o,s=(new Date).getTime(),l=0,u=0,c=null,h="function"==typeof t;if(e=e||0,h)return g();for(var d=[],f=0;f<t.length;f++)d[f]=g(f);return d;function g(d){function f(){u=(new Date).getTime(),c=null,(h?t:t[d]).apply(r,o||[])}var g=function(){s=(new Date).getTime(),r=this,o=arguments,a=s-(n?l:u)-e,clearTimeout(c),n?i?c=setTimeout(f,e):a>=0&&f():a>=0?f():i&&(c=setTimeout(f,-a)),l=s};return g.clear=function(){c&&(clearTimeout(c),c=null)},g}},i.fixRate=function(t,e){return null!=e?i.throttle(t,e,!0,!1):t},i.debounce=function(t,e){return null!=e?i.throttle(t,e,!0,!0):t},i.createOrUpdate=function(t,e,r,o){var s=t[e];if(s&&null!=r&&o){var l=s[n]||s;s[a]!==r&&((s=t[e]=i[o](l,r))[n]=l,s[a]=r)}},i.clear=function(t,e){var i=t[e];i&&i[n]&&(t[e]=i[n])},t.exports=i},function(t,e){t.exports=function(t,e,i,n,a){return t?("rigid"===n?(t=r(t,e,i),e[0]+=t,e[1]+=t):(t=r(t,e[a],i),e[a]+=t,"push"===n&&e[0]>e[1]&&(e[1-a]=e[a])),e):e;function r(t,e,i){var n=e.length?e.slice():[e,e];return e[0]>e[1]&&n.reverse(),t<0&&n[0]+t<i[0]&&(t=i[0]-n[0]),t>0&&n[1]+t>i[1]&&(t=i[1]-n[1]),t}}},function(t,e,i){t.exports=i(292).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(t,e,i){var n=i(294),a=i(3),r=i(298),o=i(301),s=a.bind,l=n.extend({type:"dataZoom.inside",init:function(t,e){},render:function(t,e,i,n){l.superApply(this,"render",arguments),o.shouldRecordRange(n,t.id)&&(this._range=t.getPercentRange());var r=this.getTargetInfo().cartesians,u=a.map(r,function(t){return o.generateCoordId(t.model)});a.each(r,function(e){var n=e.model;o.register(i,{coordId:o.generateCoordId(n),allCoordIds:u,coordinateSystem:n.coordinateSystem,dataZoomId:t.id,throttleRage:t.get("throttle",!0),panGetRange:s(this._onPan,this,e),zoomGetRange:s(this._onZoom,this,e)})},this)},remove:function(){o.unregister(this.api,this.dataZoomModel.id),l.superApply(this,"remove",arguments),this._range=null},dispose:function(){o.unregister(this.api,this.dataZoomModel.id),l.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,i,n){return this._range=function(t,e,i,n){e=e.slice();var a=n.axisModels[0];if(a){var o=u(t,a,i);return r(o.signal*(e[1]-e[0])*o.pixel/o.pixelLength,e,[0,100],"rigid"),e}}([i,n],this._range,e,t)},_onZoom:function(t,e,i,n,a){return this.dataZoomModel.option.zoomLock?this._range:this._range=function(t,e,i,n,a,r){i=i.slice();var o=a.axisModels[0];if(o){var s=u(e,o,n),l=(s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0];return t=Math.max(t,0),i[0]=(i[0]-l)*t+l,i[1]=(i[1]-l)*t+l,function(t){var e=[0,100];return!(t[0]<=e[1])&&(t[0]=e[1]),!(t[1]<=e[1])&&(t[1]=e[1]),!(t[0]>=e[0])&&(t[0]=e[0]),!(t[1]>=e[0])&&(t[1]=e[0]),t}(i)}}(1/i,[n,a],this._range,e,t)}});function u(t,e,i){var n=e.axis,a=i.rectProvider(),r={};return"x"===n.dim?(r.pixel=t[0],r.pixelLength=a.width,r.pixelStart=a.x,r.signal=n.inverse?1:-1):(r.pixel=t[1],r.pixelLength=a.height,r.pixelStart=a.y,r.signal=n.inverse?-1:1),r}t.exports=l},function(t,e,i){var n=i(3),a=i(169),r=i(297),o=n.curry,s="\0_ec_dataZoom_roams";function l(t){var e=t.getZr();return e[s]||(e[s]={})}function u(t){n.each(t,function(e,i){e.count||(e.controller.off("pan").off("zoom"),delete t[i])})}function c(t,e,i){d(t,function(n){return n.panGetRange(t.controller,e,i)})}function h(t,e,i,n){d(t,function(a){return a.zoomGetRange(t.controller,e,i,n)})}function d(t,e){var i=[];n.each(t.dataZoomInfos,function(t){var n=e(t);n&&i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]})}),t.dispatchAction(i)}function f(t,e){t.dispatchAction({type:"dataZoom",batch:e})}t.exports={register:function(t,e){var i=l(t),s=e.dataZoomId,d=e.coordId;n.each(i,function(t,i){var a=t.dataZoomInfos;a[s]&&n.indexOf(e.allCoordIds,d)<0&&(delete a[s],t.count--)}),u(i);var g=i[d];g||((g=i[d]={coordId:d,dataZoomInfos:{},count:0}).controller=function(t,e,i){var n=new a(t.getZr());return n.enable(),n.on("pan",o(c,i)),n.on("zoom",o(h,i)),n}(t,0,g),g.dispatchAction=n.curry(f,t));var p=e.coordinateSystem.getRect().clone();g.controller.rectProvider=function(){return p},r.createOrUpdate(g,"dispatchAction",e.throttleRate,"fixRate"),!g.dataZoomInfos[s]&&g.count++,g.dataZoomInfos[s]=e},unregister:function(t,e){var i=l(t);n.each(i,function(t){var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--)}),u(i)},shouldRecordRange:function(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var i=0,n=t.batch.length;i<n;i++)if(t.batch[i].dataZoomId===e)return!1;return!0},generateCoordId:function(t){return t.type+"\0_"+t.id}}},function(t,e,i){function n(t,e,i){i.getAxisProxy(t.name,e).reset(i)}function a(t,e,i){i.getAxisProxy(t.name,e).filterData(i)}i(1).registerProcessor("filter",function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(n),t.eachTargetAxis(a)}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})})})},function(t,e,i){var n=i(3),a=i(5);i(1).registerAction("dataZoom",function(t,e){var i=a.createLinkedNodesFinder(n.bind(e.eachComponent,e,"dataZoom"),a.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),r=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){r.push.apply(r,i(t).nodes)}),n.each(r,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})},function(t,e,i){i(305),i(316)},function(t,e,i){i(1).registerPreprocessor(i(306)),i(307),i(308),i(309),i(312),i(315)},function(t,e,i){var n=i(3),a=n.each;function r(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.visualMap;n.isArray(e)||(e=e?[e]:[]),a(e,function(t){if(t){r(t,"splitList")&&!r(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&n.isArray(e)&&a(e,function(t){n.isObject(t)&&(r(t,"start")&&!r(t,"min")&&(t.min=t.start),r(t,"end")&&!r(t,"max")&&(t.max=t.end))})}})}},function(t,e,i){i(19).registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})},function(t,e,i){var n=i(1),a=i(187),r=i(3);n.registerVisualCoding("component",function(t){t.eachComponent("visualMap",function(t){!function(t,e){var i=t.targetVisuals,n={};r.each(["inRange","outOfRange"],function(t){var e=a.prepareVisualTypes(i[t]);n[t]=e}),t.eachTargetSeries(function(e){var a,r=e.getData(),o=t.getDataDimension(r);function s(t){return r.getItemVisual(a,t)}function l(t,e){r.setItemVisual(a,t,e)}r.each([o],function(e,r){a=r;for(var o=t.getValueState(e),u=i[o],c=n[o],h=0,d=c.length;h<d;h++){var f=c[h];u[f]&&u[f].applyVisual(e,s,l)}},!0)})}(t)})})},function(t,e,i){var n=i(310),a=i(3),r=i(7),o=[20,140],s=n.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0},doMergeOption:function(t,e){s.superApply(this,"doMergeOption",arguments),this.resetTargetSeries(t,e),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear"}),this._resetRange()},resetItemSize:function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=o[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=o[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):a.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){n.prototype.completeVisualOption.apply(this,arguments),a.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=r.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],a=i.getData();a.each(this.getDataDimension(a),function(e,i){t[0]<=e&&e<=t[1]&&n.push(i)},!0,this),e.push({seriesId:i.id,dataIndices:n})},this),e}});t.exports=s},function(t,e,i){var n=i(3),a=i(79),r=i(1),o=i(5),s=i(311),l=i(187),u=l.mapVisual,c=l.eachVisual,h=i(7),d=n.isArray,f=n.each,g=h.asc,p=h.linearMap,m=r.extendComponentModel({type:"visualMap",dependencies:["series"],dataBound:[-1/0,1/0],stateList:["inRange","outOfRange"],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",seriesIndex:null,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:["#bf444c","#d88273","#f6efa6"],formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,i){this.controllerVisuals={},this.targetVisuals={},this.mergeDefaultAndTheme(t,i),this.doMergeOption({},!0)},mergeOption:function(t){m.superApply(this,"mergeOption",arguments),this.doMergeOption(t,!1)},doMergeOption:function(t,e){var i=this.option;!e&&function(t,e){var i,a=["inRange","outOfRange","target","controller","color"];n.each(a,function(t){e.hasOwnProperty(t)&&(i=!0)}),i&&n.each(a,function(i){e.hasOwnProperty(i)?t[i]=n.clone(e[i]):delete t[i]})}(i,t),a.canvasSupported||(i.realtime=!1),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},formatValueText:function(t,e){var i,a,r=this.option,o=r.precision,s=this.dataBound,l=r.formatter;return n.isArray(t)&&(t=t.slice(),i=!0),a=e?t:i?[u(t[0]),u(t[1])]:u(t),n.isString(l)?l.replace("{value}",i?a[0]:a).replace("{value2}",i?a[1]:a):n.isFunction(l)?i?l(t[0],t[1]):l(t):i?t[0]===s[0]?"< "+a[1]:t[1]===s[1]?"> "+a[0]:a[0]+" - "+a[1]:a;function u(t){return t===s[0]?"min":t===s[1]?"max":(+t).toFixed(o)}},resetTargetSeries:function(t,e){var i=this.option,n=null==i.seriesIndex;i.seriesIndex=n?[]:o.normalizeToArray(i.seriesIndex),n&&this.ecModel.eachSeries(function(t,e){"list"===t.getData().type&&i.seriesIndex.push(e)})},resetExtent:function(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension;return null!=e?e:t.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},resetVisual:function(t){var e=this.getExtent();function i(i,a){f(this.stateList,function(r){var o,s=a[r]||(a[r]=((o=function(){}).prototype.__hidden=o.prototype,new o));f(this.option[i][r]||{},function(a,o){if(l.isValidType(o)){var u={type:o,dataExtent:e,visual:a};t&&t.call(this,u,r),s[o]=new l(u),"controller"===i&&"opacity"===o&&((u=n.clone(u)).type="colorAlpha",s.__hidden.__alphaForOpacity=new l(u))}},this)},this)}i.call(this,"controller",this.controllerVisuals),i.call(this,"target",this.targetVisuals)},completeVisualOption:function(){var t=this.option,e={inRange:t.inRange,outOfRange:t.outOfRange},i=t.target||(t.target={}),a=t.controller||(t.controller={});n.merge(i,e),n.merge(a,e);var r=this.isCategory();function o(e){d(t.color)&&!e.inRange&&(e.inRange={color:t.color.slice().reverse()}),f(this.stateList,function(t){var i=e[t];if(n.isString(i)){var a=s.get(i,"active",r);a?(e[t]={},e[t][i]=a):delete e[t]}},this)}function h(t,e,i){var n=t[e],a=t[i];n&&!a&&(a=t[i]={},f(n,function(t,e){if(l.isValidType(e)){var i=s.get(e,"inactive",r);null!=i&&(a[e]=i,"color"!==e||a.hasOwnProperty("opacity")||a.hasOwnProperty("colorAlpha")||(a.opacity=[0,0]))}}))}o.call(this,i),o.call(this,a),h.call(this,i,"inRange","outOfRange"),h.call(this,i,"outOfRange","inRange"),(function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,a=this.get("inactiveColor");f(this.stateList,function(o){var s=this.itemSize,l=t[o];l||(l=t[o]={color:r?a:[a]}),null==l.symbol&&(l.symbol=e&&n.clone(e)||(r?"roundRect":["roundRect"])),null==l.symbolSize&&(l.symbolSize=i&&n.clone(i)||(r?s[0]:[s[0],s[0]])),l.symbol=u(l.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var h=l.symbolSize;if(null!=h){var d=-1/0;c(h,function(t){t>d&&(d=t)}),l.symbolSize=u(h,function(t){return p(t,[0,d],[0,s[0]],!0)})}},this)}).call(this,a)},eachTargetSeries:function(t,e){n.each(this.option.seriesIndex,function(i){t.call(e,this.ecModel.getSeriesByIndex(i))},this)},isCategory:function(){return!!this.option.categories},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},setSelected:n.noop,getValueState:n.noop});t.exports=m},function(t,e,i){var n=i(3),a={get:function(t,e,i){var a=n.clone((r[t]||{})[e]);return i&&n.isArray(a)?a[a.length-1]:a}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};t.exports=a},function(t,e,i){var n=i(313),a=i(42),r=i(3),o=i(7),s=i(298),l=i(76),u=i(314),c=o.linearMap,h=u.convertDataIndicesToBatch,d=r.each,f=Math.min,g=Math.max,p=n.extend({type:"visualMap.continuous",init:function(){n.prototype.init.apply(this,arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid?this._updateView():this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var r=this.visualMapModel,o=r.get("textGap"),s=r.itemSize,l=this._shapes.barGroup,u=this._applyTransform([s[0]/2,0===i?-o:s[1]+o],l),c=this._applyTransform(0===i?"bottom":"top",l),h=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new a.Text({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===h?"middle":c,textAlign:"horizontal"===h?c:"center",text:n,textFont:d.getFont(),fill:d.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,a=this._orient,o=this._useHandle,s=u.getItemAlign(e,this.api,n),l=i.barGroup=this._createBarGroup(s);l.add(i.outOfRange=m()),l.add(i.inRange=m(null,r.bind(this._modifyHandle,this,"all"),o?"move":null));var c=e.textStyleModel.getTextRect("\u56fd"),h=Math.max(c.width,c.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(l,0,n,h,a,s),this._createHandle(l,1,n,h,a,s)),this._createIndicator(l,n,h,a),t.add(l)},_createHandle:function(t,e,i,n,o){var s=r.bind(this._modifyHandle,this,e),l=m(function(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}(e,n),s,"move");l.position[0]=i[0],t.add(l);var u=this.visualMapModel.textStyleModel,c=new a.Text({draggable:!0,drift:s,style:{x:0,y:0,text:"",textFont:u.getFont(),fill:u.getTextColor()}});this.group.add(c);var h=["horizontal"===o?n/2:1.5*n,"horizontal"===o?0===e?-1.5*n:1.5*n:0===e?-n/2:n/2],d=this._shapes;d.handleThumbs[e]=l,d.handleLabelPoints[e]=h,d.handleLabels[e]=c},_createIndicator:function(t,e,i,n){var r=m([[0,0]],null,"move");r.position[0]=e[0],r.attr({invisible:!0,silent:!0}),t.add(r);var o=this.visualMapModel.textStyleModel,s=new a.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),fill:o.getTextColor()}});this.group.add(s);var l=["horizontal"===n?i/2:9,0],u=this._shapes;u.indicator=r,u.indicatorLabel=s,u.indicatorLabelPoint=l},_modifyHandle:function(t,e,i){if(this._useHandle){var n=this._applyTransform([e,i],this._shapes.barGroup,!0);this._updateInterval(t,n[1]),this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[c(e[0],i,n,!0),c(e[1],i,n,!0)]},_updateInterval:function(t,e){var i=this.visualMapModel,n=this._handleEnds;s(e=e||0,n,[0,i.itemSize[1]],"all"===t?"rigid":"push",t);var a=i.getExtent(),r=[0,i.itemSize[1]];this._dataInterval=[c(n[0],r,a,!0),c(n[1],r,a,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,a=[0,e.itemSize[1]],r=t?a:this._handleEnds,o=this._createBarVisual(this._dataInterval,i,r,"inRange"),s=this._createBarVisual(i,i,a,"outOfRange");n.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(r,o)},_createBarVisual:function(t,e,i,n){var a={forceState:n,convertOpacityToAlpha:!0},r=this._makeColorGradient(t,a),o=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)],s=this._createBarPoints(i,o);return{barColor:new l(0,0,1,1,r),barPoints:s,handlesColor:[r[0].color,r[r.length-1].color]}},_makeColorGradient:function(t,e){var i=[],n=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var a=1;a<100;a++){var r=t[0]+n*a;if(r>t[1])break;i.push({color:this.getControllerVisual(r,"color",e),offset:a/100})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new a.Group("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,r=i.handleThumbs,o=i.handleLabels;d([0,1],function(s){var l=r[s];l.setStyle("fill",e.handlesColor[s]),l.position[1]=t[s];var u=a.applyTransform(i.handleLabelPoints[s],a.getTransform(l,this.group));o[s].setStyle({x:u[0],y:u[1],text:n.formatValueText(this._dataInterval[s]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===s?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(t,e){var i=this.visualMapModel,n=i.getExtent(),r=i.itemSize,o=c(t,n,[0,r[1]],!0),s=this._shapes,l=s.indicator;if(l){l.position[1]=o,l.attr("invisible",!1),l.setShape("points",function(t,e,i){return t?[[0,-f(6,g(e,0))],[6,0],[0,f(6,g(i-e,0))]]:[[0,0],[5,-5],[5,5]]}(e,o,r[1]));var u=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0});l.setStyle("fill",u);var h=a.applyTransform(s.indicatorLabelPoint,a.getTransform(l,this.group)),d=s.indicatorLabel;d.attr("invisible",!1);var p=this._applyTransform("left",s.barGroup),m=this._orient;d.setStyle({text:(e?"\u2248":"")+i.formatValueText(t),textVerticalAlign:"horizontal"===m?p:"middle",textAlign:"horizontal"===m?"center":p,x:h[0],y:h[1]})}},_enableHoverLinkToSeries:function(){this._shapes.barGroup.on("mousemove",r.bind(function(t){var e=this.visualMapModel,i=e.itemSize;if(e.option.hoverLink){var n=this._applyTransform([t.offsetX,t.offsetY],this._shapes.barGroup,!0,!0),a=[n[1]-3,n[1]+3],r=[0,i[1]],o=e.getExtent(),s=[c(a[0],r,o,!0),c(a[1],r,o,!0)];0<=n[0]&&n[0]<=i[0]&&this._showIndicator((s[0]+s[1])/2,!0);var l=h(this._hoverLinkDataIndices);this._hoverLinkDataIndices=e.findTargetDataIndices(s);var d=h(this._hoverLinkDataIndices),f=u.removeDuplicateBatch(l,d);this.api.dispatchAction({type:"downplay",batch:f[0]}),this.api.dispatchAction({type:"highlight",batch:f[1]})}},this)).on("mouseout",r.bind(this._clearHoverLinkToSeries,this))},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target;if(e&&null!=e.dataIndex){var i=(e.dataModel||this.ecModel.getSeriesByIndex(e.seriesIndex)).getData(e.dataType),n=i.getDimension(this.visualMapModel.getDataDimension(i)),a=i.get(n,e.dataIndex,!0);this._showIndicator(a)}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this.api.dispatchAction({type:"downplay",batch:h(t)}),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,i,n){var o=a.getTransform(e,n?null:this.group);return a[r.isArray(t)?"applyTransform":"transformDirection"](t,o,i)},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function m(t,e,i){return new a.Polygon({shape:{points:t},draggable:!!e,cursor:i,drift:e})}t.exports=p},function(t,e,i){var n=i(1),a=i(3),r=i(42),o=i(6),s=i(21),l=i(187);t.exports=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this._updatableShapes={}},render:function(t,e,i,n){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,i=o.normalizeCssArray(e.get("padding")||0),n=t.getBoundingRect();t.add(new r.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,i){var n=(i=i||{}).forceState,r=this.visualMapModel,o={};if("symbol"===e&&(o.symbol=r.get("itemSymbol")),"color"===e){var s=r.get("contentColor");o.color=s}function u(t){return o[t]}function c(t,e){o[t]=e}var h=r.controllerVisuals[n||r.getValueState(t)],d=l.prepareVisualTypes(h);return a.each(d,function(n){var a=h[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",a=h.__alphaForOpacity),l.dependsOn(n,e)&&a&&a.applyVisual(t,u,c)}),o[e]},positionGroup:function(t){var e=this.api;s.positionGroup(t,this.visualMapModel.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})},doRender:a.noop})},function(t,e,i){var n=i(21),a=i(3),r=i(96);t.exports={getItemAlign:function(t,e,i){var a=t.option,r=a.align;if(null!=r&&"auto"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},s="horizontal"===a.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[s],c=[0,null,10],h={},d=0;d<3;d++)h[l[1-s][d]]=c[d],h[u[d]]=2===d?i[0]:a[u[d]];var f=[["x","width",3],["y","height",0]][s],g=n.getLayoutRect(h,o,a.padding);return u[(g.margin[f[2]]||0)+g[f[0]]+.5*g[f[1]]<.5*o[f[1]]?0:1]},convertDataIndicesToBatch:function(t){var e=[];return a.each(t,function(t){a.each(t.dataIndices,function(i){e.push({seriesId:t.seriesId,dataIndex:i})})}),e},removeDuplicateBatch:function(t,e){var i=[[],[]];function n(t){return t.seriesId+"-"+t.dataIndex}return new r(t,e,n,n).add(function(t){i[1].push(e[t])}).update(a.noop).remove(function(e){i[0].push(t[e])}).execute(),i}}},function(t,e,i){i(1).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})})},function(t,e,i){i(1).registerPreprocessor(i(306)),i(307),i(308),i(317),i(318),i(315)},function(t,e,i){var n=i(310),a=i(3),r=i(187),o=n.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0},doMergeOption:function(t,e){o.superApply(this,"doMergeOption",arguments),this._pieceList=[],this.resetTargetSeries(t,e),this.resetExtent();var i=this._mode=this._decideMode();s[this._mode].call(this),this._resetSelected(t,e);var n=this.option.categories;this.resetVisual(function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=a.clone(n)):(t.mappingMethod="piecewise",t.pieceList=a.map(this._pieceList,function(t){return t=a.clone(t),"inRange"!==e&&(t.visual=null),t}))})},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,r=(e?i:t).selected||{};if(i.selected=r,a.each(n,function(t,e){var i=this.getSelectedMapKey(t);i in r||(r[i]=!0)},this),"single"===i.selectedMode){var o=!1;a.each(n,function(t,e){var i=this.getSelectedMapKey(t);r[i]&&(o?r[i]=!1:o=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_decideMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=a.clone(t)},getValueState:function(t){var e=r.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],a=i.getData();a.each(this.getDataDimension(a),function(e,i){r.findPieceIndex(e,this._pieceList)===t&&n.push(i)},!0,this),e.push({seriesId:i.id,dataIndices:n})},this),e}}),s={splitNumber:function(){var t=this.option,e=t.precision,i=this.getExtent(),n=t.splitNumber;n=Math.max(parseInt(n,10),1),t.splitNumber=n;for(var a=(i[1]-i[0])/n;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e);for(var r=0,o=i[0];r<n;r++,o+=a){var s=r===n-1?i[1]:o+a;this._pieceList.push({text:this.formatValueText([o,s]),index:r,interval:[o,s]})}},categories:function(){var t=this.option;a.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),l(t,this._pieceList)},pieces:function(){var t=this.option;a.each(t.pieces,function(t,e){a.isObject(t)||(t={value:t});var i,n={text:"",index:e};if(null!=t.label&&(n.text=t.label,i=!0),t.hasOwnProperty("value"))n.value=t.value,i||(n.text=this.formatValueText(n.value));else{var o=t.min,s=t.max;null==o&&(o=-1/0),null==s&&(s=1/0),o===s&&(n.value=o),n.interval=[o,s],i||(n.text=this.formatValueText([o,s]))}n.visual=r.retrieveVisuals(t),this._pieceList.push(n)},this),l(t,this._pieceList)}};function l(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}t.exports=o},function(t,e,i){var n=i(313),a=i(3),r=i(42),o=i(101),s=i(21),l=i(314),u=n.extend({type:"visualMap.piecewise",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,i=e.get("textGap"),n=e.textStyleModel,o=n.getFont(),l=n.getTextColor(),u=this._getItemAlign(),c=e.itemSize,h=this._getViewData(),d=!h.endsText,f=!d;f&&this._renderEndsText(t,h.endsText[0],c),a.each(h.viewPieceList,function(e){var n=e.piece,s=new r.Group;s.onclick=a.bind(this._onItemClick,this,n),this._enableHoverLink(s,e.indexInModelPieceList);var h=this._getRepresentValue(n);if(this._createItemSymbol(s,h,[0,0,c[0],c[1]]),d){var f=this.visualMapModel.getValueState(h);s.add(new r.Text({style:{x:"right"===u?-i:c[0]+i,y:c[1]/2,text:n.text,textVerticalAlign:"middle",textAlign:u,textFont:o,fill:l,opacity:"outOfRange"===f?.5:1}}))}t.add(s)},this),f&&this._renderEndsText(t,h.endsText[1],c),s.box(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function i(t){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:t,batch:l.convertDataIndicesToBatch(i.findTargetDataIndices(e))})}t.on("mouseover",a.bind(i,this,"highlight")).on("mouseout",a.bind(i,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return l.getItemAlign(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(t,e,i){if(e){var n=new r.Group,a=this.visualMapModel.textStyleModel;n.add(new r.Text({style:{x:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:"center",text:e,textFont:a.getFont(),fill:a.getTextColor()}})),t.add(n)}},_getViewData:function(){var t=this.visualMapModel,e=a.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),i=t.get("text"),n=t.get("orient"),r=t.get("inverse");return("horizontal"===n?r:!r)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},_getRepresentValue:function(t){var e;if(this.visualMapModel.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=(i[0]+i[1])/2}return e},_createItemSymbol:function(t,e,i){t.add(o.createSymbol(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,i=e.option,n=a.clone(i.selected),r=e.getSelectedMapKey(t);"single"===i.selectedMode?(n[r]=!0,a.each(n,function(t,e){n[e]=e===r})):n[r]=!n[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});t.exports=u},function(t,e,i){i(320),i(321),i(1).registerPreprocessor(function(t){t.markPoint=t.markPoint||{}})},function(t,e,i){var n=i(5),a=i(3);function r(t){n.defaultEmphasis(t.label,n.LABEL_OPTIONS)}var o=i(1).extendComponentModel({type:"markPoint",dependencies:["series","grid","polar"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},mergeOption:function(t,e,i,n){i||e.eachSeries(function(t){var i=t.get("markPoint"),s=t.markPointModel;i&&i.data?(s?s.mergeOption(i,e,!0):(n&&r(i),a.each(i.data,r),s=new o(i,this,e,{mainType:"markPoint",seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0})),t.markPointModel=s):t.markPointModel=null},this)},defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});t.exports=o},function(t,e,i){var n=i(99),a=i(3),r=i(6),o=i(5),s=i(7),l=r.addCommas,u=r.encodeHTML,c=i(95),h=i(322);function d(t,e,i){var n=e.coordinateSystem;t.each(function(a){var r,o=t.getItemModel(a),l=o.getShallow("x"),u=o.getShallow("y");if(null!=l&&null!=u)r=[s.parsePercent(l,i.getWidth()),s.parsePercent(u,i.getHeight())];else if(e.getMarkerPosition)r=e.getMarkerPosition(t.getValues(t.dimensions,a));else if(n){var c=t.get(n.dimensions[0],a),h=t.get(n.dimensions[1],a);r=n.dataToPoint([c,h])}t.setItemLayout(a,r)})}var f={formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=a.isArray(i)?a.map(i,l).join(", "):l(i),r=e.getName(t);return this.name+"<br />"+(r?u(r)+" : ":"")+n},getData:function(){return this._data},setData:function(t){this._data=t}};a.defaults(f,o.dataFormatMixin),i(1).extendComponentView({type:"markPoint",init:function(){this._symbolDrawMap={}},render:function(t,e,i){var n=this._symbolDrawMap;for(var a in n)n[a].__keep=!1;for(var a in e.eachSeries(function(t){var e=t.markPointModel;e&&this._renderSeriesMP(t,e,i)},this),n)n[a].__keep||(n[a].remove(),this.group.remove(n[a].group))},updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(d(e.getData(),t,i),this._symbolDrawMap[t.name].updateLayout(e))},this)},_renderSeriesMP:function(t,e,i){var r=t.coordinateSystem,o=t.name,s=t.getData(),l=this._symbolDrawMap,u=l[o];u||(u=l[o]=new n);var g=function(t,e,i){var n;n=t?a.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:"value",type:"float"}];var r=new c(n,i),o=a.map(i.get("data"),a.curry(h.dataTransform,e));return t&&(o=a.filter(o,a.curry(h.dataFilter,t))),r.initData(o,null,t?h.dimValueGetter:function(t){return t.value}),r}(r,t,e);a.mixin(e,f),e.setData(g),d(e.getData(),t,i),g.each(function(t){var i=g.getItemModel(t),n=i.getShallow("symbolSize");"function"==typeof n&&(n=n(e.getRawValue(t),e.getDataParams(t))),g.setItemVisual(t,{symbolSize:n,color:i.get("itemStyle.normal.color")||s.getVisual("color"),symbol:i.getShallow("symbol")})}),u.updateData(g),this.group.add(u.group),g.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),u.__keep=!0}})},function(t,e,i){var n=i(3),a=i(7),r=n.indexOf;function o(t,e,i,n,r,o){var s=[],l=c(e,n,t),u=e.indexOfNearest(n,l,!0);s[r]=e.get(i,u,!0),s[o]=e.get(n,u,!0);var h=function(t,e,i){var n=-1;do{n=Math.max(a.getPrecision(t.get(e,i)),n),t=t.stackedOn}while(t);return n}(e,n,u);return h>=0&&(s[o]=+s[o].toFixed(h)),s}var s=n.curry,l={min:s(o,"min"),max:s(o,"max"),average:s(o,"average")},u=function(t,e,i,n){var a={};return null!=t.valueIndex||null!=t.valueDim?(a.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,a.valueAxis=i.getAxis(n.dataDimToCoordDim(a.valueDataDim)),a.baseAxis=i.getOtherAxis(a.valueAxis),a.baseDataDim=n.coordDimToDataDim(a.baseAxis.dim)[0]):(a.baseAxis=n.getBaseAxis(),a.valueAxis=i.getOtherAxis(a.baseAxis),a.baseDataDim=n.coordDimToDataDim(a.baseAxis.dim)[0],a.valueDataDim=n.coordDimToDataDim(a.valueAxis.dim)[0]),a},c=function(t,e,i){return"average"===i?t.getSum(e,!0)/t.count():t.getDataExtent(e,!0)["max"===i?1:0]};t.exports={dataTransform:function(t,e){var i=t.getData(),a=t.coordinateSystem;if(e&&(isNaN(parseFloat(e.x))||isNaN(parseFloat(e.y)))&&!n.isArray(e.coord)&&a){var o=u(e,i,a,t);if((e=n.clone(e)).type&&l[e.type]&&o.baseAxis&&o.valueAxis){var s=a.dimensions,c=r(s,o.baseAxis.dim),h=r(s,o.valueAxis.dim);e.coord=l[e.type](i,o.baseDataDim,o.valueDataDim,c,h),e.value=e.coord[h]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}return e},dataFilter:function(t,e){return!(t&&t.containData&&e.coord)||null!=e.x&&null!=e.y||t.containData(e.coord)},dimValueGetter:function(t,e,i,n){return n<2?t.coord&&t.coord[n]:t.value},getAxisInfo:u,numCalculate:c}},function(t,e,i){i(324),i(325),i(1).registerPreprocessor(function(t){t.markLine=t.markLine||{}})},function(t,e,i){var n=i(5),a=i(3);function r(t){n.defaultEmphasis(t.label,n.LABEL_OPTIONS)}var o=i(1).extendComponentModel({type:"markLine",dependencies:["series","grid","polar","geo"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},mergeOption:function(t,e,i,n){i||e.eachSeries(function(t){var i=t.get("markLine"),s=t.markLineModel;i&&i.data?(s?s.mergeOption(i,e,!0):(n&&r(i),a.each(i.data,function(t){t instanceof Array?(r(t[0]),r(t[1])):r(t)}),s=new o(i,this,e,{mainType:"markLine",seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0})),t.markLineModel=s):t.markLineModel=null},this)},defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});t.exports=o},function(t,e,i){var n=i(3),a=i(95),r=i(6),o=i(5),s=i(7),l=r.addCommas,u=r.encodeHTML,c=i(322),h=i(194),d=function(t,e,i,a){var r=t.getData(),o=a.type;if(!n.isArray(a)&&("min"===o||"max"===o||"average"===o||null!=a.xAxis||null!=a.yAxis)){var s,l;if(null!=a.yAxis||null!=a.xAxis)e.getAxis(s=null!=a.yAxis?"y":"x"),l=n.retrieve(a.yAxis,a.xAxis);else{var u=c.getAxisInfo(a,r,e,t);l=c.numCalculate(r,s=u.valueDataDim,o)}var h="x"===s?0:1,d=1-h,f=n.clone(a),g={};f.type=null,f.coord=[],g.coord=[],f.coord[d]=-1/0,g.coord[d]=1/0;var p=i.get("precision");p>=0&&(l=+l.toFixed(p)),f.coord[h]=g.coord[h]=l,a=[f,g,{type:o,valueIndex:a.valueIndex,value:l}]}return(a=[c.dataTransform(t,a[0]),c.dataTransform(t,a[1]),n.extend({},a[2])])[2].type=a[2].type||"",n.merge(a[2],a[0]),n.merge(a[2],a[1]),a};function f(t){return!isNaN(t)&&!isFinite(t)}function g(t,e,i,n){var a=1-t,r=n.dimensions[t];return f(e[a])&&f(i[a])&&e[t]===i[t]&&n.getAxis(r).containData(e[t])}function p(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(g(1,i,n,t)||g(0,i,n,t)))return!0}return c.dataFilter(t,e[0])&&c.dataFilter(t,e[1])}function m(t,e,i,n,a,r,o){var l,u=r.coordinateSystem,c=t.getItemModel(e),h=c.get("x"),d=c.get("y");if(null!=h&&null!=d)l=[s.parsePercent(h,o.getWidth()),s.parsePercent(d,o.getHeight())];else{if(r.getMarkerPosition)l=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var g=t.get((m=u.dimensions)[0],e),p=t.get(m[1],e);l=u.dataToPoint([g,p])}if("cartesian2d"===u.type){var m,v=u.getAxis("x"),y=u.getAxis("y");f(t.get((m=u.dimensions)[0],e))?l[0]=v.toGlobalCoord(v.getExtent()[i?0:1]):f(t.get(m[1],e))&&(l[1]=y.toGlobalCoord(y.getExtent()[i?0:1]))}}t.setItemLayout(e,l)}var v={formatTooltip:function(t){var e=this._data,i=this.getRawValue(t),a=n.isArray(i)?n.map(i,l).join(", "):l(i),r=e.getName(t);return this.name+"<br />"+(r?u(r)+" : ":"")+a},getData:function(){return this._data},setData:function(t){this._data=t}};n.defaults(v,o.dataFormatMixin),i(1).extendComponentView({type:"markLine",init:function(){this._markLineMap={}},render:function(t,e,i){var n=this._markLineMap;for(var a in n)n[a].__keep=!1;for(var a in e.eachSeries(function(t){var n=t.markLineModel;n&&this._renderSeriesML(t,n,e,i)},this),n)n[a].__keep||this.group.remove(n[a].group)},updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),a=e.__from,r=e.__to;a.each(function(e){var o=n.getItemModel(e);o.get("type"),o.get("valueIndex"),m(a,e,!0,0,0,t,i),m(r,e,!1,0,0,t,i)}),n.each(function(t){n.setItemLayout(t,[a.getItemLayout(t),r.getItemLayout(t)])}),this._markLineMap[t.name].updateLayout()}},this)},_renderSeriesML:function(t,e,i,r){var o=t.coordinateSystem,s=t.name,l=t.getData(),u=this._markLineMap,f=u[s];f||(f=u[s]=new h),this.group.add(f.group);var g=function(t,e,i){var r;r=t?n.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:"value",type:"float"}];var o=new a(r,i),s=new a(r,i),l=new a([],i),u=n.map(i.get("data"),n.curry(d,e,t,i));t&&(u=n.filter(u,n.curry(p,t)));var h=t?c.dimValueGetter:function(t){return t.value};return o.initData(n.map(u,function(t){return t[0]}),null,h),s.initData(n.map(u,function(t){return t[1]}),null,h),l.initData(n.map(u,function(t){return t[2]})),{from:o,to:s,line:l}}(o,t,e),y=g.from,x=g.to,_=g.line;e.__from=y,e.__to=x,n.extend(e,v),e.setData(_);var b=e.get("symbol"),w=e.get("symbolSize");function M(e,i,n,a,o){var s=e.getItemModel(i);m(e,i,n,0,0,t,r),e.setItemVisual(i,{symbolSize:s.get("symbolSize")||w[n?0:1],symbol:s.get("symbol",!0)||b[n?0:1],color:s.get("itemStyle.normal.color")||l.getVisual("color")})}n.isArray(b)||(b=[b,b]),"number"==typeof w&&(w=[w,w]),g.from.each(function(t){var e=_.getItemModel(t);e.get("type"),e.get("valueIndex"),M(y,t,!0),M(x,t,!1)}),_.each(function(t){var e=_.getItemModel(t).get("lineStyle.normal.color");_.setItemVisual(t,{color:e||y.getItemVisual(t,"color")}),_.setItemLayout(t,[y.getItemLayout(t),x.getItemLayout(t)]),_.setItemVisual(t,{fromSymbolSize:y.getItemVisual(t,"symbolSize"),fromSymbol:y.getItemVisual(t,"symbol"),toSymbolSize:x.getItemVisual(t,"symbolSize"),toSymbol:x.getItemVisual(t,"symbol")})}),f.updateData(_),g.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),f.__keep=!0}})},function(t,e,i){i(1).registerPreprocessor(i(327)),i(328),i(329),i(330),i(332)},function(t,e,i){var n=i(3);function a(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),a=t.label||t.label||{},o=a.normal||(a.normal={}),s={normal:1,emphasis:1};n.each(a,function(t,e){s[e]||r(o,e)||(o[e]=t)}),i.label&&!r(a,"emphasis")&&(a.emphasis=i.label,delete i.label)}function r(t,e){return t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.timeline;n.isArray(e)||(e=e?[e]:[]),n.each(e,function(t){t&&function(t){var e=t.type,i={number:"value",time:"time"};if(i[e]&&(t.axisType=i[e],delete t.type),a(t),r(t,"controlPosition")){var o=t.controlStyle||(t.controlStyle={});r(o,"position")||(o.position=t.controlPosition),"none"!==o.position||r(o,"show")||(o.show=!1,delete o.position),delete t.controlPosition}n.each(t.data||[],function(t){n.isObject(t)&&!n.isArray(t)&&(!r(t,"value")&&r(t,"name")&&(t.value=t.name),a(t))})}(t)})}},function(t,e,i){i(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(t,e,i){var n=i(1);n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption("timeline")}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)})},function(t,e,i){var n=i(331),a=i(3),r=i(5),o=n.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});a.mixin(o,r.dataFormatMixin),t.exports=o},function(t,e,i){var n=i(19),a=i(95),r=i(3),o=i(5),s=n.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],i=t.axisType,n=this._names=[];if("category"===i){var s=[];r.each(e,function(t,e){var i,a=o.getDataItemValue(t);r.isObject(t)?(i=r.clone(t)).value=e:i=e,s.push(i),r.isString(a)||null!=a&&!isNaN(a)||(a=""),n.push(a+"")}),e=s}(this._data=new a([{name:"value",type:{category:"ordinal",time:"time"}[i]||"number"}],this)).initData(e,n)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});t.exports=s},function(t,e,i){var n=i(3),a=i(42),r=i(21),o=i(333),s=i(334),l=i(101),u=i(109),c=i(15),h=i(17),d=i(7),f=i(6).encodeHTML,g=n.bind,p=n.each,m=Math.PI;function v(t,e,i,a,r,o){var s=t.get("symbol"),u=e.get("color"),c=t.get("symbolSize"),h=c/2,d=e.getItemStyle(["color","symbol","symbolSize"]);return r?(r.setStyle(d),r.setColor(u),i.add(r),o&&o.onUpdate(r)):(r=l.createSymbol(s,-h,-h,c,c,u),i.add(r),o&&o.onCreate(r)),a=n.merge({rectHover:!0,style:d,z2:100},a,!0),r.attr(a),r}function y(t,e,i,n,a){if(!t.dragging){var r=n.getModel("checkpointStyle"),o=i.dataToCoord(n.getData().get(["value"],e));a||!r.get("animation",!0)?t.attr({position:[o,0]}):(t.stopAnimation(!0),t.animateTo({position:[o,0]},r.get("animationDuration",!0),r.get("animationEasing",!0)))}}t.exports=o.extend({type:"timeline.slider",init:function(t,e){this.api=e},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,i),r=this._createGroup("mainGroup"),o=this._createGroup("labelGroup"),s=this._axis=this._createAxis(a,t);t.formatTooltip=function(t){return f(s.scale.getLabel(t))},p(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](a,r,s,t)},this),this._renderAxisLabel(a,o,s,t),this._position(a,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get("label.normal.position"),n=t.get("orient"),a=function(t,e){return r.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e);null==i||"auto"===i?i="horizontal"===n?a.y+a.height/2<e.getHeight()/2?"-":"+":a.x+a.width/2<e.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[n][i]);var o,s,l,u,c={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},h={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:m/2},f="vertical"===n?a.height:a.width,g=t.getModel("controlStyle"),p=(_=g.get("show"))?g.get("itemSize"):0,v=_?g.get("itemGap"):0,y=p+v,x=t.get("label.normal.rotate")||0;x=x*m/180;var _,b=g.get("position",!0),w=(_=g.get("show",!0))&&g.get("showPlayBtn",!0),M=_&&g.get("showPrevBtn",!0),S=_&&g.get("showNextBtn",!0),A=0,I=f;return"left"===b||"bottom"===b?(w&&(o=[0,0],A+=y),M&&(s=[A,0],A+=y),S&&(l=[I-p,0],I-=y)):(w&&(o=[I-p,0],I-=y),M&&(s=[0,0],A+=y),S&&(l=[I-p,0],I-=y)),u=[A,I],t.get("inverse")&&u.reverse(),{viewRect:a,mainLength:f,orient:n,rotation:d[n],labelRotation:x,labelPosOpt:i,labelAlign:c[n],labelBaseline:h[n],playPosition:o,prevBtnPosition:s,nextBtnPosition:l,axisExtent:u,controlSize:p,controlGap:v}},_position:function(t,e){var i=this._mainGroup,n=this._labelGroup,a=t.viewRect;if("vertical"===t.orient){var r=h.create(),o=a.x,s=a.y+a.height;h.translate(r,r,[-o,-s]),h.rotate(r,r,-m/2),h.translate(r,r,[o,s]),(a=a.clone()).applyTransform(r)}var l=y(a),u=y(i.getBoundingRect()),c=y(n.getBoundingRect()),d=i.position,f=n.position;f[0]=d[0]=l[0][0];var g,p=t.labelPosOpt;function v(t){var e=t.position;t.origin=[l[0][0]-e[0],l[1][0]-e[1]]}function y(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function x(t,e,i,n,a){t[n]+=i[n][a]-e[n][a]}isNaN(p)?(x(d,u,l,1,g="+"===p?0:1),x(f,c,l,1,1-g)):(x(d,u,l,1,g=p>=0?0:1),f[1]=d[1]+p),i.position=d,n.position=f,i.rotation=n.rotation=t.rotation,v(i),v(n)},_createAxis:function(t,e){var i=e.getData(),n=e.get("axisType"),a=u.createScaleByModel(e,n),r=i.getDataExtent("value");a.setExtent(r[0],r[1]),this._customizeScale(a,i),a.niceTicks();var o=new s("value",a,t.axisExtent,n);return o.model=e,o},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray(["value"],function(t){return t})},t.getTicksLabels=function(){return n.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this["_"+t]=new a.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,i,r){var o=i.getExtent();r.get("lineStyle.show")&&e.add(new a.Line({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:n.extend({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,n){var r=n.getData(),o=i.scale.getTicks();p(o,function(t,o){var s=i.dataToCoord(t),l=r.getItemModel(o),u=l.getModel("itemStyle.normal"),c=l.getModel("itemStyle.emphasis"),h={position:[s,0],onclick:g(this._changeTimeline,this,o)},d=v(l,u,e,h);a.setHoverStyle(d,c.getItemStyle()),l.get("tooltip")?(d.dataIndex=o,d.dataModel=n):d.dataIndex=d.dataModel=null},this)},_renderAxisLabel:function(t,e,i,n){var r=n.getModel("label.normal");if(r.get("show")){var o=n.getData(),s=i.scale.getTicks(),l=u.getFormattedLabels(i,r.get("formatter")),c=i.getLabelInterval();p(s,function(n,r){if(!i.isLabelIgnored(r,c)){var s=o.getItemModel(r),u=s.getModel("label.normal.textStyle"),h=s.getModel("label.emphasis.textStyle"),d=i.dataToCoord(n),f=new a.Text({style:{text:l[r],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline,textFont:u.getFont(),fill:u.getTextColor()},position:[d,0],rotation:t.labelRotation-t.rotation,onclick:g(this._changeTimeline,this,r),silent:!1});e.add(f),a.setHoverStyle(f,h.getItemStyle())}},this)}},_renderControl:function(t,e,i,r){var o=t.controlSize,s=t.rotation,l=r.getModel("controlStyle.normal").getItemStyle(),u=r.getModel("controlStyle.emphasis").getItemStyle(),h=[0,-o/2,o,o],d=r.getPlayState(),f=r.get("inverse",!0);function p(t,i,d,f){if(t){var g=function(t,e,i,r){return a.makePath(t.get(e).replace(/^path:\/\//,""),n.clone(r||{}),new c(i[0],i[1],i[2],i[3]),"center")}(r,i,h,{position:t,origin:[o/2,0],rotation:f?-s:0,rectHover:!0,style:l,onclick:d});e.add(g),a.setHoverStyle(g,u)}}p(t.nextBtnPosition,"controlStyle.nextIcon",g(this._changeTimeline,this,f?"-":"+")),p(t.prevBtnPosition,"controlStyle.prevIcon",g(this._changeTimeline,this,f?"+":"-")),p(t.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),g(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(t,e,i,n){var a=n.getData(),r=n.getCurrentIndex(),o=a.getItemModel(r).getModel("checkpointStyle"),s=this;this._currentPointer=v(o,o,this._mainGroup,{},this._currentPointer,{onCreate:function(t){t.draggable=!0,t.drift=g(s._handlePointerDrag,s),t.ondragend=g(s._handlePointerDragend,s),y(t,r,i,n,!0)},onUpdate:function(t){y(t,r,i,n)}})},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=d.asc(this._axis.getExtent().slice());i>n[1]&&(i=n[1]),i<n[0]&&(i=n[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var a=this._findNearestTick(i),r=this.model;(e||a!==r.getCurrentIndex()&&r.get("realtime"))&&this._changeTimeline(a)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(g(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return a.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,a=this._axis;return i.each(["value"],function(i,r){var o=a.dataToCoord(i),s=Math.abs(o-t);s<n&&(n=s,e=r)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}})},function(t,e,i){var n=i(28);t.exports=n.extend({type:"timeline"})},function(t,e,i){var n=i(3),a=i(118),r=i(109),o=function(t,e,i,n){a.call(this,t,e,i),this.type=n||"value",this.model=null};o.prototype={constructor:o,getLabelInterval:function(){var t,e=this.model,i=e.getModel("label.normal");return null!=(t=i.get("interval"))&&"auto"!=t||(t=this._autoLabelInterval)||(t=this._autoLabelInterval=r.getAxisLabelInterval(n.map(this.scale.getTicks(),this.dataToCoord,this),r.getFormattedLabels(this,i.get("formatter")),i.getModel("textStyle").getFont(),"horizontal"===e.get("orient"))),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},n.inherits(o,a),t.exports=o},function(t,e,i){i(336),i(338),i(340),i(341),i(342),i(343),i(348)},function(t,e,i){var n=i(337),a=i(3),r=i(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(t){r.superApply(this,"mergeDefaultAndTheme",arguments),a.each(this.option.feature,function(t,e){var i=n.get(e);i&&a.merge(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});t.exports=r},function(t,e){"use strict";var i={};t.exports={register:function(t,e){i[t]=e},get:function(t){return i[t]}}},function(t,e,i){(function(e){var n=i(337),a=i(3),r=i(42),o=i(8),s=i(96),l=i(269),u=i(14);t.exports=i(1).extendComponentView({type:"toolbox",render:function(t,e,i){var c=this.group;if(c.removeAll(),t.get("show")){var h=+t.get("itemSize"),d=t.get("feature")||{},f=this._features||(this._features={}),g=[];a.each(d,function(t,e){g.push(e)}),new s(this._featureNames||[],g).add(p).update(p).remove(a.curry(p,null)).execute(),this._featureNames=g,l.layout(c,t,i),l.addBackground(c,t),c.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var a=u.getBoundingRect(e,n.font),r=t.position[0]+c.position[0],o=!1;t.position[1]+c.position[1]+h+a.height>i.getHeight()&&(n.textPosition="top",o=!0);var s=o?-5-a.height:h+8;r+a.width/2>i.getWidth()?(n.textPosition=["100%",s],n.textAlign="right"):r-a.width/2<0&&(n.textPosition=[0,s],n.textAlign="left")}})}function p(s,l){var u,p=g[s],m=g[l],v=new o(d[p],t,t.ecModel);if(p&&!m){if(function(t){return 0===t.indexOf("my")}(p))u={model:v,onclick:v.option.onclick,featureName:p};else{var y=n.get(p);if(!y)return;u=new y(v)}f[p]=u}else{if(!(u=f[m]))return;u.model=v}p||!m?v.get("show")&&!u.unusable?(function(n,o,s){var l=n.getModel("iconStyle"),u=o.getIcons?o.getIcons():n.get("icon"),d=n.get("title")||{};if("string"==typeof u){var f=u,g=d;d={},(u={})[s]=f,d[s]=g}var p=n.iconPaths={};a.each(u,function(s,u){var f=l.getModel("normal").getItemStyle(),g=l.getModel("emphasis").getItemStyle(),m={x:-h/2,y:-h/2,width:h,height:h},v=0===s.indexOf("image://")?(m.image=s.slice(8),new r.Image({style:m})):r.makePath(s.replace("path://",""),{style:f,hoverStyle:g,rectHover:!0},m,"center");r.setHoverStyle(v),t.get("showTitle")&&(v.__title=d[u],v.on("mouseover",function(){v.setStyle({text:d[u],textPosition:g.textPosition||"bottom",textFill:g.fill||g.stroke||"#000",textAlign:g.textAlign||"center"})}).on("mouseout",function(){v.setStyle({textFill:null})})),v.trigger(n.get("iconStatus."+u)||"normal"),c.add(v),v.on("click",a.bind(o.onclick,o,e,i,u)),p[u]=v})}(v,u,p),v.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e)},u.render&&u.render(v,e,i)):u.remove&&u.remove(e,i):u.dispose&&u.dispose(e,i)}},remove:function(t,e){a.each(this._features,function(i){i.remove&&i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){a.each(this._features,function(i){i.dispose&&i.dispose(t,e)})}})}).call(e,i(339))},function(t,e){var i,n=t.exports={},a=[],r=!1,o=-1;function s(){r=!1,i.length?a=i.concat(a):o=-1,a.length&&l()}function l(){if(!r){var t=setTimeout(s);r=!0;for(var e=a.length;e;){for(i=a,a=[];++o<e;)i&&i[o].run();o=-1,e=a.length}i=null,r=!1,clearTimeout(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.push(new u(t,e)),1!==a.length||r||setTimeout(l,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=c,n.addListener=c,n.once=c,n.off=c,n.removeListener=c,n.removeAllListeners=c,n.emit=c,n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){var n=i(79);function a(t){this.model=t}a.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]},a.prototype.unusable=!n.canvasSupported,a.prototype.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",a=document.createElement("a"),r=i.get("type",!0)||"png";a.download=n+"."+r,a.target="_blank";var o=e.getConnectedDataURL({type:r,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if(a.href=o,"function"==typeof MouseEvent){var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(s)}else{var l=i.get("lang"),u='<body style="margin:0;"><img src="'+o+'" style="max-width:100%;" title="'+(l&&l[0]||"")+'" /></body>';window.open().document.write(u)}},i(337).register("saveAsImage",a),t.exports=a},function(t,e,i){"use strict";var n=i(3);function a(t){this.model=t}a.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"},option:{},seriesIndex:{}};var r=a.prototype;r.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return n.each(t.get("type"),function(t){e[t]&&(i[t]=e[t])}),i};var o={line:function(t,e,i,a){if("bar"===t)return n.merge({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},a.get("option.line")||{},!0)},bar:function(t,e,i,a){if("line"===t)return n.merge({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},a.get("option.bar")||{},!0)},stack:function(t,e,i,a){if("line"===t||"bar"===t)return n.merge({id:e,stack:"__ec_magicType_stack__"},a.get("option.stack")||{},!0)},tiled:function(t,e,i,a){if("line"===t||"bar"===t)return n.merge({id:e,stack:""},a.get("option.tiled")||{},!0)}},s=[["line","bar"],["stack","tiled"]];r.onclick=function(t,e,i){var a=this.model,r=a.get("seriesIndex."+i);if(o[i]){var l={series:[]};n.each(s,function(t){n.indexOf(t,i)>=0&&n.each(t,function(t){a.setIconStatus(t,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},function(t){var e=o[i](t.subType,t.id,t,a);e&&(n.defaults(e,t.option),l.series.push(e));var r=t.coordinateSystem;if(r&&"cartesian2d"===r.type&&("line"===i||"bar"===i)){var s=r.getAxesByScale("ordinal")[0];if(s){var u=s.dim,c=t.get(u+"AxisIndex"),h=u+"Axis";l[h]=l[h]||[];for(var d=0;d<=c;d++)l[h][c]=l[h][c]||{};l[h][c].boundaryGap="bar"===i}}}),e.dispatchAction({type:"changeMagicType",currentType:i,newOption:l})}},i(1).registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),i(337).register("magicType",a),t.exports=a},function(t,e,i){var n=i(3),a=i(81),r=new Array(60).join("-"),o="\t";function s(t){return n.map(t,function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,function(){for(var t=arguments.length,a=arguments[t-1],r=e.getName(a),s=0;s<t-1;s++)n[s]=arguments[s];i.push((r?r+o:"")+n.join(o))}),i.join("\n")}).join("\n\n"+r+"\n\n")}function l(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var u=new RegExp("[\t]+","g");function c(t){this._dom=null,this.model=t}function h(t,e){return n.map(t,function(t,i){var a=e&&e[i];return n.isObject(a)&&!n.isArray(a)?(n.isObject(t)&&!n.isArray(t)&&(t=t.value),n.defaults({value:t},a)):t})}c.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},c.prototype.onclick=function(t,e){var i=e.getDom(),c=this.model;this._dom&&i.removeChild(this._dom);var h=document.createElement("div");h.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",h.style.backgroundColor=c.get("backgroundColor")||"#fff";var d=document.createElement("h4"),f=c.get("lang")||[];d.innerHTML=f[0]||c.get("title"),d.style.cssText="margin: 10px 20px;",d.style.color=c.get("textColor");var g=document.createElement("div"),p=document.createElement("textarea");g.style.cssText="display:block;width:100%;overflow:hidden;";var m=c.get("optionToContent"),v=c.get("contentToOption"),y=function(t){var e,i,a=function(t){var e={},i=[],n=[];return t.eachRawSeries(function(t){var a=t.coordinateSystem;if(!a||"cartesian2d"!==a.type&&"polar"!==a.type)i.push(t);else{var r=a.getBaseAxis();if("category"===r.type){var o=r.dim+"_"+r.index;e[o]||(e[o]={categoryAxis:r,valueAxis:a.getOtherAxis(r),series:[]},n.push({axisDim:r.dim,axisIndex:r.index})),e[o].series.push(t)}else i.push(t)}}),{seriesGroupByCategoryAxis:e,other:i,meta:n}}(t);return{value:n.filter([(e=a.seriesGroupByCategoryAxis,i=[],n.each(e,function(t,e){var a=t.categoryAxis,r=t.valueAxis.dim,s=[" "].concat(n.map(t.series,function(t){return t.name})),l=[a.model.getCategories()];n.each(t.series,function(t){l.push(t.getRawData().mapArray(r,function(t){return t}))});for(var u=[s.join(o)],c=0;c<l[0].length;c++){for(var h=[],d=0;d<l.length;d++)h.push(l[d][c]);u.push(h.join(o))}i.push(u.join("\n"))}),i.join("\n\n"+r+"\n\n")),s(a.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+r+"\n\n"),meta:a.meta}}(t);if("function"==typeof m){var x=m(e.getOption());"string"==typeof x?g.innerHTML=x:n.isDom(x)&&g.appendChild(x)}else g.appendChild(p),p.readOnly=c.get("readOnly"),p.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",p.style.color=c.get("textColor"),p.style.borderColor=c.get("textareaBorderColor"),p.style.backgroundColor=c.get("textareaColor"),p.value=y.value;var _=y.meta,b=document.createElement("div");b.style.cssText="position:absolute;bottom:0;left:0;right:0;";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",M=document.createElement("div"),S=document.createElement("div");w+=";background-color:"+c.get("buttonColor"),w+=";color:"+c.get("buttonTextColor");var A=this;function I(){i.removeChild(h),A._dom=null}a.addEventListener(M,"click",I),a.addEventListener(S,"click",function(){var t;try{t="function"==typeof v?v(g,e.getOption()):function(t,e){var i=t.split(new RegExp("\n*"+r+"\n*","g")),a={series:[]};return n.each(i,function(t,i){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(o)>=0)return!0}(t)){var r=function(t){for(var e=t.split(/\n+/g),i=l(e.shift()).split(u),a=[],r=n.map(i,function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var s=l(e[o]).split(u);a.push(s.shift());for(var c=0;c<s.length;c++)r[c]&&(r[c].data[o]=s[c])}return{series:r,categories:a}}(t),s=e[i],c=s.axisDim+"Axis";s&&(a[c]=a[c]||[],a[c][s.axisIndex]={data:r.categories},a.series=a.series.concat(r.series))}else r=function(t){for(var e=t.split(/\n+/g),i=l(e.shift()),n=[],a=0;a<e.length;a++){var r,o=l(e[a]).split(u),s="",c=!1;isNaN(o[0])?(c=!0,s=o[0],o=o.slice(1),n[a]={name:s,value:[]},r=n[a].value):r=n[a]=[];for(var h=0;h<o.length;h++)r.push(+o[h]);1===r.length&&(c?n[a].value=r[0]:n[a]=r[0])}return{name:i,data:n}}(t),a.series.push(r)}),a}(p.value,_)}catch(i){throw I(),new Error("Data view format error "+i)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),I()}),M.innerHTML=f[1],S.innerHTML=f[2],S.style.cssText=w,M.style.cssText=w,!c.get("readOnly")&&b.appendChild(S),b.appendChild(M),a.addEventListener(p,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+o+e.substring(n),this.selectionStart=this.selectionEnd=i+1,a.stop(t)}}),h.appendChild(d),h.appendChild(g),h.appendChild(b),g.style.height=i.clientHeight-80+"px",i.appendChild(h),this._dom=h},c.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},c.prototype.dispose=function(t,e){this.remove(t,e)},i(337).register("dataView",c),i(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var i=[];n.each(t.newOption.series,function(t){var a=e.getSeriesByName(t.name)[0];if(a){var r=a.get("data");i.push({name:t.name,data:h(t.data,r)})}else i.push(n.extend({type:"scatter"},t))}),e.mergeOption(n.defaults({series:i},t.newOption))}),t.exports=c},function(t,e,i){"use strict";var n=i(3),a=i(7),r=i(228),o=i(15),s=i(29),l=i(344),u=i(170),c=n.each,h=a.asc;function d(t){this.model=t}i(345),d.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}};var f=d.prototype;f.render=function(t,e,i){!function(t,e){t.setIconStatus("back",l.count(e)>1?"emphasis":"normal")}(t,e)},f.onclick=function(t,e,i){var n=this._controllerGroup;this._controllerGroup||(n=this._controllerGroup=new s,e.getZr().add(n)),g[i].call(this,n,this.model,t,e)},f.remove=function(t,e){this._disposeController(),u.release("globalPan",e.getZr())},f.dispose=function(t,e){var i=e.getZr();u.release("globalPan",i),this._disposeController(),this._controllerGroup&&i.remove(this._controllerGroup)};var g={zoom:function(t,e,i,n){var a=this._isZoomActive=!this._isZoomActive,r=n.getZr();u[a?"take":"release"]("globalPan",r),e.setIconStatus("zoom",a?"emphasis":"normal"),a?(r.setDefaultCursorStyle("crosshair"),this._createController(t,e,i,n)):(r.setDefaultCursorStyle("default"),this._disposeController())},back:function(t,e,i,n){this._dispatchAction(l.pop(i),n)}};function p(t,e,i,n){var a=i.get(t+"Index");return null!=a&&n.getComponent(t,a)===e}function m(t,e,i,n){var a=e[i].dataZoomModel;if(a)return{dataZoomId:a.id,startValue:t[i][0],endValue:t[i][1]}}f._createController=function(t,e,i,a){var o=this._controller=new r("rect",a.getZr(),{lineWidth:3,stroke:"#333",fill:"rgba(0,0,0,0.2)"});o.on("selectEnd",n.bind(this._onSelected,this,o,e,i,a)),o.enable(t,!1)},f._disposeController=function(){var t=this._controller;t&&(t.off("selected"),t.dispose())},f._onSelected=function(t,e,i,n,a){if(a.length){var r=a[0];t.update();var s={};i.eachComponent("grid",function(t,e){var n=function(t,e){var i=[{axisModel:t.getAxis("x").model,axisIndex:0},{axisModel:t.getAxis("y").model,axisIndex:0}];return i.grid=t,e.eachComponent({mainType:"dataZoom",subType:"select"},function(t,n){p("xAxis",i[0].axisModel,t,e)&&(i[0].dataZoomModel=t),p("yAxis",i[1].axisModel,t,e)&&(i[1].dataZoomModel=t)}),i}(t.coordinateSystem,i),a=function(t,e){var i=e.grid;if(new o(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0]).intersect(i.getRect())){var n=i.getCartesian(e[0].axisIndex,e[1].axisIndex),a=n.pointToData([t[0][0],t[1][0]],!0),r=n.pointToData([t[0][1],t[1][1]],!0);return[h([a[0],r[0]]),h([a[1],r[1]])]}}(r,n);if(a){var l=m(a,n,0),u=m(a,n,1);l&&(s[l.dataZoomId]=l),u&&(s[u.dataZoomId]=u)}},this),l.push(i,s),this._dispatchAction(s,n)}},f._dispatchAction=function(t,e){var i=[];c(t,function(t){i.push(t)}),i.length&&e.dispatchAction({type:"dataZoom",from:this.uid,batch:n.clone(i,!0)})},i(337).register("dataZoom",d),i(1).registerPreprocessor(function(t){if(t){var e=t.dataZoom||(t.dataZoom=[]);n.isArray(e)||(t.dataZoom=e=[e]);var i=t.toolbox;if(i&&(n.isArray(i)&&(i=i[0]),i&&i.feature)){var a=i.feature.dataZoom;r("xAxis",a),r("yAxis",a)}}function r(i,a){if(a){var r=i+"Index",o=a[r];null==o||n.isArray(o)||(o=!1===o?[]:[o]),n.isArray(s=t[i])||(s=s?[s]:[]),c(s,function(t,a){if(null==o||-1!==n.indexOf(o,a)){var s={type:"select",$fromToolbox:!0,id:"\0_ec_\0toolbox-dataZoom_"+i+a};s[r]=a,e.push(s)}})}var s}}),t.exports=d},function(t,e,i){var n=i(3).each,a="\0_ec_hist_store";function r(t){var e=t[a];return e||(e=t[a]=[{}]),e}t.exports={push:function(t,e){var i=r(t);n(e,function(e,n){for(var a=i.length-1;a>=0&&!i[a][n];a--);if(a<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(r){var o=r.getPercentRange();i[0][n]={dataZoomId:n,start:o[0],end:o[1]}}}}),i.push(e)},pop:function(t){var e=r(t),i=e[e.length-1];e.length>1&&e.pop();var a={};return n(i,function(t,i){for(var n=e.length-1;n>=0;n--)if(t=e[n][i]){a[i]=t;break}}),a},clear:function(t){t[a]=null},count:function(t){return r(t).length}}},function(t,e,i){i(291),i(292),i(294),i(346),i(347),i(302),i(303)},function(t,e,i){var n=i(292);t.exports=n.extend({type:"dataZoom.select"})},function(t,e,i){t.exports=i(294).extend({type:"dataZoom.select"})},function(t,e,i){"use strict";var n=i(344);function a(t){this.model=t}a.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"\u8fd8\u539f"},a.prototype.onclick=function(t,e,i){n.clear(t),e.dispatchAction({type:"restore",from:this.uid})},i(337).register("restore",a),i(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")}),t.exports=a},function(t,e,i){i(350),i(78).registerPainter("vml",i(352))},function(t,e,i){if(!i(79).canvasSupported){var n=i(16),a=i(15),r=i(48).CMD,o=i(38),s=i(14),l=i(47),u=i(45),c=i(59),h=i(62),d=i(44),f=i(4),g=i(351),p=Math.round,m=Math.sqrt,v=Math.abs,y=Math.cos,x=Math.sin,_=Math.max,b=n.applyTransform,w=",",M="progid:DXImageTransform.Microsoft",S=21600,A=S/2,I=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=S+","+S,t.coordorigin="0,0"},T=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},C=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},k=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},L=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},D=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},P=function(t,e,i){var n=o.parse(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=T(n[0],n[1],n[2]),t.opacity=i*n[3])},z=function(t,e,i,n){var a="fill"==e,r=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(a||!a&&i.lineWidth)?(t[a?"filled":"stroked"]="true",i[e]instanceof f&&k(t,r),r||(r=g.createNode(e)),a?function(t,e,i){var n,a=e.fill;if(null!=a)if(a instanceof f){var r,s=0,l=[0,0],u=0,c=1,h=i.getBoundingRect(),d=h.width,g=h.height;if("linear"===a.type){r="gradient";var p=[a.x*d,a.y*g],m=[a.x2*d,a.y2*g];(v=i.transform)&&(b(p,p,v),b(m,m,v)),(s=180*Math.atan2(m[0]-p[0],m[1]-p[1])/Math.PI)<0&&(s+=360),s<1e-6&&(s=0)}else{r="gradientradial";var v,y=i.scale,x=d,w=g;l=[((p=[a.x*d,a.y*g])[0]-h.x)/x,(p[1]-h.y)/w],(v=i.transform)&&b(p,p,v);var M=_(x/=y[0]*S,w/=y[1]*S);c=2*a.r/M-(u=0/M)}var A=a.colorStops.slice();A.sort(function(t,e){return t.offset-e.offset});for(var I=A.length,C=[],k=[],L=0;L<I;L++){var D=A[L],z=(n=o.parse(D.color),[T(n[0],n[1],n[2]),n[3]]);k.push(D.offset*c+u+" "+z[0]),0!==L&&L!==I-1||C.push(z)}if(I>=2){var O=C[0][0],R=C[1][0],E=C[0][1]*e.opacity,V=C[1][1]*e.opacity;t.type=r,t.method="none",t.focus="100%",t.angle=s,t.color=O,t.color2=R,t.colors=k.join(","),t.opacity=V,t.opacity2=E}"radial"===r&&(t.focusposition=l.join(","))}else P(t,a,e.opacity)}(r,i,n):function(t,e){null!=e.lineJoin&&(t.joinstyle=e.lineJoin),null!=e.miterLimit&&(t.miterlimit=e.miterLimit*S),null!=e.lineCap&&(t.endcap=e.lineCap),null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof f||P(t,e.stroke,e.opacity)}(r,i),C(t,r)):(t[a?"filled":"stroked"]="false",k(t,r))},O=[[],[],[]];d.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=g.createNode("shape"),I(i),this._vmlEl=i),z(i,"fill",e,this),z(i,"stroke",e,this);var n=this.transform,a=null!=n,o=i.getElementsByTagName("stroke")[0];if(o){var s=e.lineWidth;a&&!e.strokeNoScale&&(s*=m(v(n[0]*n[3]-n[1]*n[2]))),o.weight=s+"px"}var l=this.path;this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=function(t,e){var i,n,a,o,s,l,u=r.M,c=r.C,h=r.L,d=r.A,f=r.Q,g=[];for(o=0;o<t.length;){switch(n="",i=0,a=t[o++]){case u:n=" m ",i=1,s=t[o++],l=t[o++],O[0][0]=s,O[0][1]=l;break;case h:n=" l ",i=1,s=t[o++],l=t[o++],O[0][0]=s,O[0][1]=l;break;case f:case c:n=" c ",i=3;var v,_,M=t[o++],I=t[o++],T=t[o++],C=t[o++];a===f?(v=T,_=C,T=(T+2*M)/3,C=(C+2*I)/3,M=(s+2*M)/3,I=(l+2*I)/3):(v=t[o++],_=t[o++]),O[0][0]=M,O[0][1]=I,O[1][0]=T,O[1][1]=C,O[2][0]=v,O[2][1]=_,s=v,l=_;break;case d:var k=0,L=0,D=1,P=1,z=0;e&&(k=e[4],L=e[5],D=m(e[0]*e[0]+e[1]*e[1]),P=m(e[2]*e[2]+e[3]*e[3]),z=Math.atan2(-e[1]/P,e[0]/D));var R=t[o++],E=t[o++],V=t[o++],N=t[o++],B=t[o++]+z,F=t[o++]+B+z;o++;var W=t[o++],H=R+y(B)*V,G=E+x(B)*N,j=(M=R+y(F)*V,I=E+x(F)*N,W?" wa ":" at ");Math.abs(H-M)<1e-10&&(Math.abs(F-B)>.01?W&&(H+=270/S):Math.abs(G-E)<1e-10?W&&H<R||!W&&H>R?I-=270/S:I+=270/S:W&&G<E||!W&&G>E?M+=270/S:M-=270/S),g.push(j,p(((R-V)*D+k)*S-A),w,p(((E-N)*P+L)*S-A),w,p(((R+V)*D+k)*S-A),w,p(((E+N)*P+L)*S-A),w,p((H*D+k)*S-A),w,p((G*P+L)*S-A),w,p((M*D+k)*S-A),w,p((I*P+L)*S-A)),s=M,l=I;break;case r.R:var Z=O[0],q=O[1];Z[0]=t[o++],Z[1]=t[o++],q[0]=Z[0]+t[o++],q[1]=Z[1]+t[o++],e&&(b(Z,Z,e),b(q,q,e)),Z[0]=p(Z[0]*S-A),q[0]=p(q[0]*S-A),Z[1]=p(Z[1]*S-A),q[1]=p(q[1]*S-A),g.push(" m ",Z[0],w,Z[1]," l ",q[0],w,Z[1]," l ",q[0],w,q[1]," l ",Z[0],w,q[1]);break;case r.Z:g.push(" x ")}if(i>0){g.push(n);for(var U=0;U<i;U++){var Y=O[U];e&&b(Y,Y,e),g.push(p(Y[0]*S-A),w,p(Y[1]*S-A),U<i-1?w:"")}}}return g.join("")}(l.data,this.transform),i.style.zIndex=L(this.zlevel,this.z,this.z2),C(t,i),e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},d.prototype.onRemove=function(t){k(t,this._vmlEl),this.removeRectText(t)},d.prototype.onAdd=function(t){C(t,this._vmlEl),this.appendRectText(t)},c.prototype.brushVML=function(t){var e,i,n,a=this.style,r=a.image;if("object"==typeof(n=r)&&n.tagName&&"IMG"===n.tagName.toUpperCase()){var o=r.src;if(o===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var s=r.runtimeStyle,l=s.width,u=s.height;s.width="auto",s.height="auto",e=r.width,i=r.height,s.width=l,s.height=u,this._imageSrc=o,this._imageWidth=e,this._imageHeight=i}r=o}else r===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(r){var c=a.x||0,h=a.y||0,d=a.width,f=a.height,v=a.sWidth,y=a.sHeight,x=a.sx||0,S=a.sy||0,A=v&&y,T=this._vmlEl;T||(T=g.doc.createElement("div"),I(T),this._vmlEl=T);var k,D=T.style,P=!1,z=1,O=1;if(this.transform&&(z=m((k=this.transform)[0]*k[0]+k[1]*k[1]),O=m(k[2]*k[2]+k[3]*k[3]),P=k[1]||k[2]),P){var R=[c,h],E=[c+d,h],V=[c,h+f],N=[c+d,h+f];b(R,R,k),b(E,E,k),b(V,V,k),b(N,N,k);var B=_(R[0],E[0],V[0],N[0]),F=_(R[1],E[1],V[1],N[1]),W=[];W.push("M11=",k[0]/z,w,"M12=",k[2]/O,w,"M21=",k[1]/z,w,"M22=",k[3]/O,w,"Dx=",p(c*z+k[4]),w,"Dy=",p(h*O+k[5])),D.padding="0 "+p(B)+"px "+p(F)+"px 0",D.filter=M+".Matrix("+W.join("")+", SizingMethod=clip)"}else k&&(c=c*z+k[4],h=h*O+k[5]),D.filter="",D.left=p(c)+"px",D.top=p(h)+"px";var H=this._imageEl,G=this._cropEl;H||(H=g.doc.createElement("div"),this._imageEl=H);var j=H.style;if(A){if(e&&i)j.width=p(z*e*d/v)+"px",j.height=p(O*i*f/y)+"px";else{var Z=new Image,q=this;Z.onload=function(){Z.onload=null,i=Z.height,j.width=p(z*(e=Z.width)*d/v)+"px",j.height=p(O*i*f/y)+"px",q._imageWidth=e,q._imageHeight=i,q._imageSrc=r},Z.src=r}G||((G=g.doc.createElement("div")).style.overflow="hidden",this._cropEl=G);var U=G.style;U.width=p((d+x*d/v)*z),U.height=p((f+S*f/y)*O),U.filter=M+".Matrix(Dx="+-x*d/v*z+",Dy="+-S*f/y*O+")",G.parentNode||T.appendChild(G),H.parentNode!=G&&G.appendChild(H)}else j.width=p(z*d)+"px",j.height=p(O*f)+"px",T.appendChild(H),G&&G.parentNode&&(T.removeChild(G),this._cropEl=null);var Y="",X=a.opacity;X<1&&(Y+=".Alpha(opacity="+p(100*X)+") "),j.filter=Y+=M+".AlphaImageLoader(src="+r+", SizingMethod=scale)",T.style.zIndex=L(this.zlevel,this.z,this.z2),C(t,T),a.text&&this.drawRectText(t,this.getBoundingRect())}},c.prototype.onRemove=function(t){k(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},c.prototype.onAdd=function(t){C(t,this._vmlEl),this.appendRectText(t)};var R,E="normal",V={},N=0,B=document.createElement("div");s.measureText=function(t,e){var i=g.doc;R||((R=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",g.doc.body.appendChild(R));try{R.style.font=e}catch(n){}return R.innerHTML="",R.appendChild(i.createTextNode(t)),{width:R.offsetWidth}};for(var F=new a,W=function(t,e,i,n){var a=this.style,r=a.text;if(r){var o,l,u=a.textAlign,c=function(t){var e=V[t];if(!e){N>100&&(N=0,V={});var i,n=B.style;try{n.font=t,i=n.fontFamily.split(",")[0]}catch(a){}e={style:n.fontStyle||E,variant:n.fontVariant||E,weight:n.fontWeight||E,size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},V[t]=e,N++}return e}(a.textFont),h=c.style+" "+c.variant+" "+c.weight+" "+c.size+'px "'+c.family+'"',d=a.textBaseline,f=a.textVerticalAlign;i=i||s.getBoundingRect(r,h,u,d);var m=this.transform;if(m&&!n&&(F.copy(e),F.applyTransform(m),e=F),n)o=e.x,l=e.y;else{var v=a.textPosition,y=a.textDistance;if(v instanceof Array)o=e.x+D(v[0],e.width),l=e.y+D(v[1],e.height),u=u||"left",d=d||"top";else{var x=s.adjustTextPositionOnRect(v,e,i,y);o=x.x,l=x.y,u=u||x.textAlign,d=d||x.textBaseline}}if(f){switch(f){case"middle":l-=i.height/2;break;case"bottom":l-=i.height}d="top"}var _=c.size;switch(d){case"hanging":case"top":l+=_/1.75;break;case"middle":break;default:l-=_/2.25}switch(u){case"left":break;case"center":o-=i.width/2;break;case"right":o-=i.width}var M,S,A,T=g.createNode,k=this._textVmlEl;k?S=(M=(A=k.firstChild).nextSibling).nextSibling:(k=T("line"),M=T("path"),S=T("textpath"),A=T("skew"),S.style["v-text-align"]="left",I(k),M.textpathok=!0,S.on=!0,k.from="0 0",k.to="1000 0.05",C(k,A),C(k,M),C(k,S),this._textVmlEl=k);var P=[o,l],O=k.style;m&&n?(b(P,P,m),A.on=!0,A.matrix=m[0].toFixed(3)+w+m[2].toFixed(3)+w+m[1].toFixed(3)+w+m[3].toFixed(3)+",0,0",A.offset=(p(P[0])||0)+","+(p(P[1])||0),A.origin="0 0",O.left="0px",O.top="0px"):(A.on=!1,O.left=p(o)+"px",O.top=p(l)+"px"),S.string=String(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{S.style.font=h}catch(R){}z(k,"fill",{fill:n?a.fill:a.textFill,opacity:a.opacity},this),z(k,"stroke",{stroke:n?a.stroke:a.textStroke,opacity:a.opacity,lineDash:a.lineDash},this),k.style.zIndex=L(this.zlevel,this.z,this.z2),C(t,k)}},H=function(t){k(t,this._textVmlEl),this._textVmlEl=null},G=function(t){C(t,this._textVmlEl)},j=[l,u,c,d,h],Z=0;Z<j.length;Z++){var q=j[Z].prototype;q.drawRectText=W,q.removeRectText=H,q.appendRectText=G}h.prototype.brushVML=function(t){var e=this.style;e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},h.prototype.onRemove=function(t){this.removeRectText(t)},h.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,i){if(!i(79).canvasSupported){var n,a="urn:schemas-microsoft-com:vml",r=window.document,o=!1;try{!r.namespaces.zrvml&&r.namespaces.add("zrvml",a),n=function(t){return r.createElement("<zrvml:"+t+' class="zrvml">')}}catch(s){n=function(t){return r.createElement("<"+t+' xmlns="'+a+'" class="zrvml">')}}t.exports={doc:r,initVML:function(){if(!o){o=!0;var t=r.styleSheets;t.length<31?r.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}},createNode:n}}},function(t,e,i){var n=i(39),a=i(351);function r(t){return parseInt(t,10)}function o(t,e){a.initVML(),this.root=t,this.storage=e;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var r=e.delFromMap,o=e.addToMap;e.delFromMap=function(t){var i=e.get(t);r.call(e,t),i&&i.onRemove&&i.onRemove(n)},e.addToMap=function(t){t.onAdd&&t.onAdd(n),o.call(e,t)},this._firstPaint=!0}function s(t){return function(){n('In IE8.0 VML mode painter not support method "'+t+'"')}}o.prototype={constructor:o,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(){var t=this._getWidth(),e=this._getHeight();if(this._width!=t&&this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||r(e.width))-r(e.paddingLeft)-r(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||r(e.height))-r(e.paddingTop)-r(e.paddingBottom)|0}};for(var l=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],u=0;u<l.length;u++){var c=l[u];o.prototype[c]=s(c)}t.exports=o}])});